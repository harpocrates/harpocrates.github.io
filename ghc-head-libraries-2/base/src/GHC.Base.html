<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">{-

NOTA BENE: Do NOT use ($) anywhere in this module! The type of ($) is
slightly magical (it can return unlifted types), and it is wired in.
But, it is also *defined* in this module, with a non-magical type.
GHC gets terribly confused (and *hangs*) if you try to use ($) in this
module, because it has different types in different scenarios.

This is not a problem in general, because the type ($), being wired in, is not
written out to the interface file, so importing files don't get confused.
The problem is only if ($) is used here. So don't!

---------------------------------------------

The overall structure of the GHC Prelude is a bit tricky.

  a) We want to avoid &quot;orphan modules&quot;, i.e. ones with instance
        decls that don't belong either to a tycon or a class
        defined in the same module

  b) We want to avoid giant modules

So the rough structure is as follows, in (linearised) dependency order


GHC.Prim        Has no implementation.  It defines built-in things, and
                by importing it you bring them into scope.
                The source file is GHC.Prim.hi-boot, which is just
                copied to make GHC.Prim.hi

GHC.Base        Classes: Eq, Ord, Functor, Monad
                Types:   list, (), Int, Bool, Ordering, Char, String

Data.Tuple      Types: tuples, plus instances for GHC.Base classes

GHC.Show        Class: Show, plus instances for GHC.Base/GHC.Tup types

GHC.Enum        Class: Enum,  plus instances for GHC.Base/GHC.Tup types

Data.Maybe      Type: Maybe, plus instances for GHC.Base classes

GHC.List        List functions

GHC.Num         Class: Num, plus instances for Int
                Type:  Integer, plus instances for all classes so far (Eq, Ord, Num, Show)

                Integer is needed here because it is mentioned in the signature
                of 'fromInteger' in class Num

GHC.Real        Classes: Real, Integral, Fractional, RealFrac
                         plus instances for Int, Integer
                Types:  Ratio, Rational
                        plus instances for classes so far

                Rational is needed here because it is mentioned in the signature
                of 'toRational' in class Real

GHC.ST  The ST monad, instances and a few helper functions

Ix              Classes: Ix, plus instances for Int, Bool, Char, Integer, Ordering, tuples

GHC.Arr         Types: Array, MutableArray, MutableVar

                Arrays are used by a function in GHC.Float

GHC.Float       Classes: Floating, RealFloat
                Types:   Float, Double, plus instances of all classes so far

                This module contains everything to do with floating point.
                It is a big module (900 lines)
                With a bit of luck, many modules can be compiled without ever reading GHC.Float.hi


Other Prelude modules are much easier with fewer complex dependencies.
-}</span><span>
</span><a name="line-76"></a><span>
</span><a name="line-77"></a><span class="hs-pragma">{-# LANGUAGE Unsafe #-}</span><span>
</span><a name="line-78"></a><span class="hs-pragma">{-# LANGUAGE CPP
           , NoImplicitPrelude
           , BangPatterns
           , ExplicitForAll
           , MagicHash
           , UnboxedTuples
           , ExistentialQuantification
           , RankNTypes
           , KindSignatures
           , PolyKinds
           , DataKinds
  #-}</span><span>
</span><a name="line-90"></a><span class="hs-comment">-- -Wno-orphans is needed for things like:</span><span>
</span><a name="line-91"></a><span class="hs-comment">-- Orphan rule: &quot;x# -# x#&quot; ALWAYS forall x# :: Int# -# x# x# = 0</span><span>
</span><a name="line-92"></a><span class="hs-pragma">{-# OPTIONS_GHC -Wno-orphans #-}</span><span>
</span><a name="line-93"></a><span class="hs-pragma">{-# OPTIONS_HADDOCK hide #-}</span><span>
</span><a name="line-94"></a><span>
</span><a name="line-95"></a><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><a name="line-96"></a><span class="hs-comment">-- |</span><span>
</span><a name="line-97"></a><span class="hs-comment">-- Module      :  GHC.Base</span><span>
</span><a name="line-98"></a><span class="hs-comment">-- Copyright   :  (c) The University of Glasgow, 1992-2002</span><span>
</span><a name="line-99"></a><span class="hs-comment">-- License     :  see libraries/base/LICENSE</span><span>
</span><a name="line-100"></a><span class="hs-comment">--</span><span>
</span><a name="line-101"></a><span class="hs-comment">-- Maintainer  :  cvs-ghc@haskell.org</span><span>
</span><a name="line-102"></a><span class="hs-comment">-- Stability   :  internal</span><span>
</span><a name="line-103"></a><span class="hs-comment">-- Portability :  non-portable (GHC extensions)</span><span>
</span><a name="line-104"></a><span class="hs-comment">--</span><span>
</span><a name="line-105"></a><span class="hs-comment">-- Basic data types and classes.</span><span>
</span><a name="line-106"></a><span class="hs-comment">--</span><span>
</span><a name="line-107"></a><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><a name="line-108"></a><span>
</span><a name="line-109"></a><span class="hs-cpp">#include &quot;MachDeps.h&quot;
</span><span>
</span><a name="line-111"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">GHC.Base</span><span>
</span><a name="line-112"></a><span>        </span><span class="hs-special">(</span><span>
</span><a name="line-113"></a><span>        </span><span class="hs-keyword">module</span><span> </span><a href="GHC.Base.html"><span class="hs-identifier">GHC.Base</span></a><span class="hs-special">,</span><span>
</span><a name="line-114"></a><span>        </span><span class="hs-keyword">module</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html"><span class="hs-identifier">GHC.Classes</span></a><span class="hs-special">,</span><span>
</span><a name="line-115"></a><span>        </span><span class="hs-keyword">module</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.CString.html"><span class="hs-identifier">GHC.CString</span></a><span class="hs-special">,</span><span>
</span><a name="line-116"></a><span>        </span><span class="hs-keyword">module</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Magic.html"><span class="hs-identifier">GHC.Magic</span></a><span class="hs-special">,</span><span>
</span><a name="line-117"></a><span>        </span><span class="hs-keyword">module</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html"><span class="hs-identifier">GHC.Types</span></a><span class="hs-special">,</span><span>
</span><a name="line-118"></a><span>        </span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">GHC.Prim</span><span class="hs-special">,</span><span>        </span><span class="hs-comment">-- Re-export GHC.Prim and [boot] GHC.Err,</span><span>
</span><a name="line-119"></a><span>                                </span><span class="hs-comment">-- to avoid lots of people having to</span><span>
</span><a name="line-120"></a><span>        </span><span class="hs-keyword">module</span><span> </span><a href="GHC.Err.html"><span class="hs-identifier">GHC.Err</span></a><span class="hs-special">,</span><span>         </span><span class="hs-comment">-- import it explicitly</span><span>
</span><a name="line-121"></a><span>        </span><span class="hs-keyword">module</span><span> </span><a href="GHC.Maybe.html"><span class="hs-identifier">GHC.Maybe</span></a><span>
</span><a name="line-122"></a><span>  </span><span class="hs-special">)</span><span>
</span><a name="line-123"></a><span>        </span><span class="hs-keyword">where</span><span>
</span><a name="line-124"></a><span>
</span><a name="line-125"></a><span class="hs-keyword">import</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html"><span class="hs-identifier">GHC.Types</span></a><span>
</span><a name="line-126"></a><span class="hs-keyword">import</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html"><span class="hs-identifier">GHC.Classes</span></a><span>
</span><a name="line-127"></a><span class="hs-keyword">import</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.CString.html"><span class="hs-identifier">GHC.CString</span></a><span>
</span><a name="line-128"></a><span class="hs-keyword">import</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Magic.html"><span class="hs-identifier">GHC.Magic</span></a><span>
</span><a name="line-129"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">GHC.Prim</span><span>
</span><a name="line-130"></a><span class="hs-keyword">import</span><span> </span><a href="GHC.Err.html"><span class="hs-identifier">GHC.Err</span></a><span>
</span><a name="line-131"></a><span class="hs-keyword">import</span><span> </span><a href="GHC.Maybe.html"><span class="hs-identifier">GHC.Maybe</span></a><span>
</span><a name="line-132"></a><span class="hs-keyword">import</span><span> </span><span class="hs-pragma">{-# SOURCE</span><span> </span><span class="hs-pragma">#-}</span><span> </span><a href="GHC.IO.html"><span class="hs-identifier">GHC.IO</span></a><span> </span><span class="hs-special">(</span><a href="GHC.IO.html#failIO"><span class="hs-identifier hs-var">failIO</span></a><span class="hs-special">,</span><a href="GHC.IO.html#mplusIO"><span class="hs-identifier hs-var">mplusIO</span></a><span class="hs-special">)</span><span>
</span><a name="line-133"></a><span>
</span><a name="line-134"></a><span class="hs-keyword">import</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Tuple.html"><span class="hs-identifier">GHC.Tuple</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>              </span><span class="hs-comment">-- Note [Depend on GHC.Tuple]</span><span>
</span><a name="line-135"></a><span class="hs-keyword">import</span><span> </span><a href="../integer-gmp/src/%{MODULE}.html#%{NAME}/GHC.Integer.html"><span class="hs-identifier">GHC.Integer</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>            </span><span class="hs-comment">-- Note [Depend on GHC.Integer]</span><span>
</span><a name="line-136"></a><span class="hs-keyword">import</span><span> </span><a href="GHC.Natural.html"><span class="hs-identifier">GHC.Natural</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>            </span><span class="hs-comment">-- Note [Depend on GHC.Natural]</span><span>
</span><a name="line-137"></a><span>
</span><a name="line-138"></a><span class="hs-comment">-- for 'class Semigroup'</span><span>
</span><a name="line-139"></a><span class="hs-keyword">import</span><span> </span><span class="hs-pragma">{-# SOURCE</span><span> </span><span class="hs-pragma">#-}</span><span> </span><a href="GHC.Real.html"><span class="hs-identifier">GHC.Real</span></a><span> </span><span class="hs-special">(</span><a href="GHC.Real.html#Integral"><span class="hs-identifier hs-type">Integral</span></a><span class="hs-special">)</span><span>
</span><a name="line-140"></a><span class="hs-keyword">import</span><span> </span><span class="hs-pragma">{-# SOURCE</span><span> </span><span class="hs-pragma">#-}</span><span> </span><a href="Data.Semigroup.Internal.html"><span class="hs-identifier">Data.Semigroup.Internal</span></a><span> </span><span class="hs-special">(</span><span> </span><a href="Data.Semigroup.Internal.html#stimesDefault"><span class="hs-identifier hs-var">stimesDefault</span></a><span>
</span><a name="line-141"></a><span>                                              </span><span class="hs-special">,</span><span> </span><a href="Data.Semigroup.Internal.html#stimesMaybe"><span class="hs-identifier hs-var">stimesMaybe</span></a><span>
</span><a name="line-142"></a><span>                                              </span><span class="hs-special">,</span><span> </span><a href="Data.Semigroup.Internal.html#stimesList"><span class="hs-identifier hs-var">stimesList</span></a><span>
</span><a name="line-143"></a><span>                                              </span><span class="hs-special">,</span><span> </span><a href="Data.Semigroup.Internal.html#stimesIdempotentMonoid"><span class="hs-identifier hs-var">stimesIdempotentMonoid</span></a><span>
</span><a name="line-144"></a><span>                                              </span><span class="hs-special">)</span><span>
</span><a name="line-145"></a><span>
</span><a name="line-146"></a><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">9</span><span>  </span><a href="GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><span>
</span><a name="line-147"></a><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">5</span><span>  </span><a href="GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a><span>
</span><a name="line-148"></a><span class="hs-keyword">infixl</span><span> </span><span class="hs-number">4</span><span>  </span><a href="GHC.Base.html#%3C%24"><span class="hs-operator hs-var">&lt;$</span></a><span>
</span><a name="line-149"></a><span class="hs-keyword">infixl</span><span> </span><span class="hs-number">1</span><span>  </span><a href="GHC.Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a><span>
</span><a name="line-150"></a><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">1</span><span>  </span><a href="GHC.Base.html#%3D%3C%3C"><span class="hs-operator hs-var">=&lt;&lt;</span></a><span>
</span><a name="line-151"></a><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">0</span><span>  </span><a href="GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#%24%21"><span class="hs-operator hs-var">$!</span></a><span>
</span><a name="line-152"></a><span>
</span><a name="line-153"></a><span class="hs-keyword">infixl</span><span> </span><span class="hs-number">4</span><span> </span><a href="GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#%3C%2A"><span class="hs-operator hs-var">&lt;*</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#%2A%3E"><span class="hs-operator hs-var">*&gt;</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#%3C%2A%2A%3E"><span class="hs-operator hs-var">&lt;**&gt;</span></a><span>
</span><a name="line-154"></a><span>
</span><a name="line-155"></a><span class="hs-keyword">default</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>              </span><span class="hs-comment">-- Double isn't available yet</span><span>
</span><a name="line-156"></a><span>
</span><a name="line-157"></a><span class="hs-comment">{-
Note [Depend on GHC.Integer]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~
The Integer type is special because TidyPgm uses
GHC.Integer.Type.mkInteger to construct Integer literal values
Currently it reads the interface file whether or not the current
module *has* any Integer literals, so it's important that
GHC.Integer.Type (in package integer-gmp or integer-simple) is
compiled before any other module.  (There's a hack in GHC to disable
this for packages ghc-prim, integer-gmp, integer-simple, which aren't
allowed to contain any Integer literals.)

Likewise we implicitly need Integer when deriving things like Eq
instances.

The danger is that if the build system doesn't know about the dependency
on Integer, it'll compile some base module before GHC.Integer.Type,
resulting in:
  Failed to load interface for &#8216;GHC.Integer.Type&#8217;
    There are files missing in the &#8216;integer-gmp&#8217; package,

Bottom line: we make GHC.Base depend on GHC.Integer; and everything
else either depends on GHC.Base, or does not have NoImplicitPrelude
(and hence depends on Prelude).

Note [Depend on GHC.Tuple]
~~~~~~~~~~~~~~~~~~~~~~~~~~
Similarly, tuple syntax (or ()) creates an implicit dependency on
GHC.Tuple, so we use the same rule as for Integer --- see Note [Depend on
GHC.Integer] --- to explain this to the build system.  We make GHC.Base
depend on GHC.Tuple, and everything else depends on GHC.Base or Prelude.

Note [Depend on GHC.Natural]
~~~~~~~~~~~~~~~~~~~~~~~~~~
Similar to GHC.Integer.
-}</span><span>
</span><a name="line-193"></a><span>
</span><a name="line-194"></a><span class="hs-cpp">#if 0
</span><span class="hs-comment">-- for use when compiling GHC.Base itself doesn't work</span><span>
</span><a name="line-196"></a><span class="hs-keyword">data</span><span>  </span><span class="hs-identifier">Bool</span><span>  </span><span class="hs-glyph">=</span><span>  </span><span class="hs-identifier">False</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">True</span><span>
</span><a name="line-197"></a><span class="hs-keyword">data</span><span> </span><span class="hs-identifier">Ordering</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">LT</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">EQ</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">GT</span><span>
</span><a name="line-198"></a><span class="hs-keyword">data</span><span> </span><span class="hs-identifier">Char</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">C#</span><span> </span><span class="hs-identifier">Char#</span><span>
</span><a name="line-199"></a><span class="hs-keyword">type</span><span>  </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">Char</span><span class="hs-special">]</span><span>
</span><a name="line-200"></a><span class="hs-keyword">data</span><span> </span><span class="hs-identifier">Int</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">I#</span><span> </span><span class="hs-identifier">Int#</span><span>
</span><a name="line-201"></a><span class="hs-keyword">data</span><span>  </span><span class="hs-special">(</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span>  </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-202"></a><span class="hs-keyword">data</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">MkNil</span><span>
</span><a name="line-203"></a><span>
</span><a name="line-204"></a><span class="hs-identifier">not</span><span> </span><span class="hs-identifier">True</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><a name="line-205"></a><span class="hs-special">(</span><span class="hs-operator">&amp;&amp;</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">True</span><span> </span><span class="hs-identifier">True</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">True</span><span>
</span><a name="line-206"></a><span class="hs-identifier">otherwise</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">True</span><span>
</span><a name="line-207"></a><span>
</span><a name="line-208"></a><span class="hs-identifier">build</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">errorWithoutStackTrace</span><span> </span><span class="hs-string">&quot;urk&quot;</span><span>
</span><a name="line-209"></a><span class="hs-identifier">foldr</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">errorWithoutStackTrace</span><span> </span><span class="hs-string">&quot;urk&quot;</span><span>
</span><a name="line-210"></a><span class="hs-cpp">#endif
</span><span>
</span><a name="line-212"></a><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">6</span><span> </span><a href="GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span>
</span><a name="line-213"></a><span>
</span><a name="line-214"></a><span class="hs-comment">-- | The class of semigroups (types with an associative binary operation).</span><span>
</span><a name="line-215"></a><span class="hs-comment">--</span><span>
</span><a name="line-216"></a><span class="hs-comment">-- Instances should satisfy the associativity law:</span><span>
</span><a name="line-217"></a><span class="hs-comment">--</span><span>
</span><a name="line-218"></a><span class="hs-comment">--  * @x '&lt;&gt;' (y '&lt;&gt;' z) = (x '&lt;&gt;' y) '&lt;&gt;' z@</span><span>
</span><a name="line-219"></a><span class="hs-comment">--</span><span>
</span><a name="line-220"></a><span class="hs-comment">-- @since 4.9.0.0</span><span>
</span><a name="line-221"></a><span class="hs-keyword">class</span><span> </span><a name="Semigroup"><a href="GHC.Base.html#Semigroup"><span class="hs-identifier">Semigroup</span></a></a><span> </span><a name="local-6989586621679019960"><a href="#local-6989586621679019960"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-222"></a><span>        </span><span class="hs-comment">-- | An associative operation.</span><span>
</span><a name="line-223"></a><span>        </span><span class="hs-special">(</span><a name="%3C%3E"><a href="GHC.Base.html#%3C%3E"><span class="hs-operator">&lt;&gt;</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679019960"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019960"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019960"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-224"></a><span>
</span><a name="line-225"></a><span>        </span><span class="hs-comment">-- | Reduce a non-empty list with '&lt;&gt;'</span><span>
</span><a name="line-226"></a><span>        </span><span class="hs-comment">--</span><span>
</span><a name="line-227"></a><span>        </span><span class="hs-comment">-- The default definition should be sufficient, but this can be</span><span>
</span><a name="line-228"></a><span>        </span><span class="hs-comment">-- overridden for efficiency.</span><span>
</span><a name="line-229"></a><span>        </span><span class="hs-comment">--</span><span>
</span><a name="line-230"></a><span>        </span><a name="sconcat"><a href="GHC.Base.html#sconcat"><span class="hs-identifier">sconcat</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="GHC.Base.html#NonEmpty"><span class="hs-identifier hs-type">NonEmpty</span></a><span> </span><a href="#local-6989586621679019960"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019960"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-231"></a><span>        </span><a name="local-8214565720323794783"><a href="GHC.Base.html#sconcat"><span class="hs-identifier">sconcat</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679019962"><a href="#local-6989586621679019962"><span class="hs-identifier">a</span></a></a><span> </span><a href="GHC.Base.html#%3A%7C"><span class="hs-operator hs-var">:|</span></a><span> </span><span class="hs-keyword">as</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679019964"><span class="hs-identifier hs-var">go</span></a><span> </span><a href="#local-6989586621679019962"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-232"></a><span>          </span><a name="local-6989586621679019964"><a href="#local-6989586621679019964"><span class="hs-identifier">go</span></a></a><span> </span><a name="local-6989586621679019965"><a href="#local-6989586621679019965"><span class="hs-identifier">b</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679019966"><a href="#local-6989586621679019966"><span class="hs-identifier">c</span></a></a><span class="hs-glyph">:</span><a name="local-6989586621679019967"><a href="#local-6989586621679019967"><span class="hs-identifier">cs</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679019965"><span class="hs-identifier hs-var">b</span></a><span> </span><a href="GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="#local-6989586621679019964"><span class="hs-identifier hs-var">go</span></a><span> </span><a href="#local-6989586621679019966"><span class="hs-identifier hs-var">c</span></a><span> </span><a href="#local-6989586621679019967"><span class="hs-identifier hs-var">cs</span></a><span>
</span><a name="line-233"></a><span>          </span><span class="hs-identifier">go</span><span> </span><a name="local-6989586621679019968"><a href="#local-6989586621679019968"><span class="hs-identifier">b</span></a></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>     </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679019968"><span class="hs-identifier hs-var">b</span></a><span>
</span><a name="line-234"></a><span>
</span><a name="line-235"></a><span>        </span><span class="hs-comment">-- | Repeat a value @n@ times.</span><span>
</span><a name="line-236"></a><span>        </span><span class="hs-comment">--</span><span>
</span><a name="line-237"></a><span>        </span><span class="hs-comment">-- Given that this works on a 'Semigroup' it is allowed to fail if</span><span>
</span><a name="line-238"></a><span>        </span><span class="hs-comment">-- you request 0 or fewer repetitions, and the default definition</span><span>
</span><a name="line-239"></a><span>        </span><span class="hs-comment">-- will do so.</span><span>
</span><a name="line-240"></a><span>        </span><span class="hs-comment">--</span><span>
</span><a name="line-241"></a><span>        </span><span class="hs-comment">-- By making this a member of the class, idempotent semigroups</span><span>
</span><a name="line-242"></a><span>        </span><span class="hs-comment">-- and monoids can upgrade this to execute in /O(1)/ by</span><span>
</span><a name="line-243"></a><span>        </span><span class="hs-comment">-- picking @stimes = 'Data.Semigroup.stimesIdempotent'@ or @stimes =</span><span>
</span><a name="line-244"></a><span>        </span><span class="hs-comment">-- 'stimesIdempotentMonoid'@ respectively.</span><span>
</span><a name="line-245"></a><span>        </span><a name="stimes"><a href="GHC.Base.html#stimes"><span class="hs-identifier">stimes</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="GHC.Real.html#Integral"><span class="hs-identifier hs-type">Integral</span></a><span> </span><a href="#local-6989586621679019961"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-6989586621679019961"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019960"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019960"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-246"></a><span>        </span><a name="local-8214565720323794784"><a href="GHC.Base.html#stimes"><span class="hs-identifier">stimes</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Semigroup.Internal.html#stimesDefault"><span class="hs-identifier hs-var">stimesDefault</span></a><span>
</span><a name="line-247"></a><span>
</span><a name="line-248"></a><span>
</span><a name="line-249"></a><span class="hs-comment">-- | The class of monoids (types with an associative binary operation that</span><span>
</span><a name="line-250"></a><span class="hs-comment">-- has an identity).  Instances should satisfy the following laws:</span><span>
</span><a name="line-251"></a><span class="hs-comment">--</span><span>
</span><a name="line-252"></a><span class="hs-comment">--  * @x '&lt;&gt;' 'mempty' = x@</span><span>
</span><a name="line-253"></a><span class="hs-comment">--</span><span>
</span><a name="line-254"></a><span class="hs-comment">--  * @'mempty' '&lt;&gt;' x = x@</span><span>
</span><a name="line-255"></a><span class="hs-comment">--</span><span>
</span><a name="line-256"></a><span class="hs-comment">--  * @x '&lt;&gt;' (y '&lt;&gt;' z) = (x '&lt;&gt;' y) '&lt;&gt;' z@ ('Semigroup' law)</span><span>
</span><a name="line-257"></a><span class="hs-comment">--</span><span>
</span><a name="line-258"></a><span class="hs-comment">--  * @'mconcat' = 'foldr' ('&lt;&gt;') 'mempty'@</span><span>
</span><a name="line-259"></a><span class="hs-comment">--</span><span>
</span><a name="line-260"></a><span class="hs-comment">-- The method names refer to the monoid of lists under concatenation,</span><span>
</span><a name="line-261"></a><span class="hs-comment">-- but there are many other instances.</span><span>
</span><a name="line-262"></a><span class="hs-comment">--</span><span>
</span><a name="line-263"></a><span class="hs-comment">-- Some types can be viewed as a monoid in more than one way,</span><span>
</span><a name="line-264"></a><span class="hs-comment">-- e.g. both addition and multiplication on numbers.</span><span>
</span><a name="line-265"></a><span class="hs-comment">-- In such cases we often define @newtype@s and make those instances</span><span>
</span><a name="line-266"></a><span class="hs-comment">-- of 'Monoid', e.g. 'Data.Semigroup.Sum' and 'Data.Semigroup.Product'.</span><span>
</span><a name="line-267"></a><span class="hs-comment">--</span><span>
</span><a name="line-268"></a><span class="hs-comment">-- __NOTE__: 'Semigroup' is a superclass of 'Monoid' since /base-4.11.0.0/.</span><span>
</span><a name="line-269"></a><span class="hs-keyword">class</span><span> </span><a href="GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a><span> </span><a href="#local-6989586621679019959"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a name="Monoid"><a href="GHC.Base.html#Monoid"><span class="hs-identifier">Monoid</span></a></a><span> </span><a name="local-6989586621679019959"><a href="#local-6989586621679019959"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-270"></a><span>        </span><span class="hs-comment">-- | Identity of 'mappend'</span><span>
</span><a name="line-271"></a><span>        </span><a name="mempty"><a href="GHC.Base.html#mempty"><span class="hs-identifier">mempty</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679019959"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-272"></a><span>
</span><a name="line-273"></a><span>        </span><span class="hs-comment">-- | An associative operation</span><span>
</span><a name="line-274"></a><span>        </span><span class="hs-comment">--</span><span>
</span><a name="line-275"></a><span>        </span><span class="hs-comment">-- __NOTE__: This method is redundant and has the default</span><span>
</span><a name="line-276"></a><span>        </span><span class="hs-comment">-- implementation @'mappend' = ('&lt;&gt;')@ since /base-4.11.0.0/.</span><span>
</span><a name="line-277"></a><span>        </span><a name="mappend"><a href="GHC.Base.html#mappend"><span class="hs-identifier">mappend</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679019959"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019959"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019959"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-278"></a><span>        </span><a name="local-3458764513820541484"><a href="GHC.Base.html#mappend"><span class="hs-identifier">mappend</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span class="hs-special">)</span><span>
</span><a name="line-279"></a><span>        </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">mappend</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-280"></a><span>
</span><a name="line-281"></a><span>        </span><span class="hs-comment">-- | Fold a list using the monoid.</span><span>
</span><a name="line-282"></a><span>        </span><span class="hs-comment">--</span><span>
</span><a name="line-283"></a><span>        </span><span class="hs-comment">-- For most types, the default definition for 'mconcat' will be</span><span>
</span><a name="line-284"></a><span>        </span><span class="hs-comment">-- used, but the function is included in the class definition so</span><span>
</span><a name="line-285"></a><span>        </span><span class="hs-comment">-- that an optimized version can be provided for specific types.</span><span>
</span><a name="line-286"></a><span>        </span><a name="mconcat"><a href="GHC.Base.html#mconcat"><span class="hs-identifier">mconcat</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679019959"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019959"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-287"></a><span>        </span><a name="local-3458764513820541485"><a href="GHC.Base.html#mconcat"><span class="hs-identifier">mconcat</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Base.html#foldr"><span class="hs-identifier hs-var">foldr</span></a><span> </span><a href="GHC.Base.html#mappend"><span class="hs-identifier hs-var">mappend</span></a><span> </span><a href="GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a><span>
</span><a name="line-288"></a><span>
</span><a name="line-289"></a><span class="hs-comment">-- | @since 4.9.0.0</span><span>
</span><a name="line-290"></a><span class="hs-keyword">instance</span><span> </span><a href="GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a><span> </span><span class="hs-special">[</span><a href="#local-6989586621679020155"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-291"></a><span>        </span><span class="hs-special">(</span><a name="local-3458764513820541482"><a href="GHC.Base.html#%3C%3E"><span class="hs-operator">&lt;&gt;</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a><span class="hs-special">)</span><span>
</span><a name="line-292"></a><span>        </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;&gt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-293"></a><span>
</span><a name="line-294"></a><span>        </span><a name="local-8214565720323794784"><a href="GHC.Base.html#stimes"><span class="hs-identifier">stimes</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Semigroup.Internal.html#stimesList"><span class="hs-identifier hs-var">stimesList</span></a><span>
</span><a name="line-295"></a><span>
</span><a name="line-296"></a><span class="hs-comment">-- | @since 2.01</span><span>
</span><a name="line-297"></a><span class="hs-keyword">instance</span><span> </span><a href="GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a><span> </span><span class="hs-special">[</span><a href="#local-6989586621679020151"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-298"></a><span>        </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">mempty</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-299"></a><span>        </span><a name="local-3458764513820541483"><a href="GHC.Base.html#mempty"><span class="hs-identifier">mempty</span></a></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-300"></a><span>        </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">mconcat</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-301"></a><span>        </span><a name="local-3458764513820541485"><a href="GHC.Base.html#mconcat"><span class="hs-identifier">mconcat</span></a></a><span> </span><a name="local-6989586621679020152"><a href="#local-6989586621679020152"><span class="hs-identifier">xss</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679020154"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-glyph">|</span><span> </span><a name="local-6989586621679020153"><a href="#local-6989586621679020153"><span class="hs-identifier">xs</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679020152"><span class="hs-identifier hs-var">xss</span></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679020154"><a href="#local-6989586621679020154"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679020153"><span class="hs-identifier hs-var">xs</span></a><span class="hs-special">]</span><span>
</span><a name="line-302"></a><span class="hs-comment">-- See Note: [List comprehensions and inlining]</span><span>
</span><a name="line-303"></a><span>
</span><a name="line-304"></a><span class="hs-comment">{-
Note: [List comprehensions and inlining]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
The list monad operations are traditionally described in terms of concatMap:

xs &gt;&gt;= f = concatMap f xs

Similarly, mconcat for lists is just concat. Here in Base, however, we don't
have concatMap, and we'll refrain from adding it here so it won't have to be
hidden in imports. Instead, we use GHC's list comprehension desugaring
mechanism to define mconcat and the Applicative and Monad instances for lists.
We mark them INLINE because the inliner is not generally too keen to inline
build forms such as the ones these desugar to without our insistence.  Defining
these using list comprehensions instead of foldr has an additional potential
benefit, as described in compiler/deSugar/DsListComp.hs: if optimizations
needed to make foldr/build forms efficient are turned off, we'll get reasonably
efficient translations anyway.
-}</span><span>
</span><a name="line-322"></a><span>
</span><a name="line-323"></a><span class="hs-comment">-- | @since 4.9.0.0</span><span>
</span><a name="line-324"></a><span class="hs-keyword">instance</span><span> </span><a href="GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#NonEmpty"><span class="hs-identifier hs-type">NonEmpty</span></a><span> </span><a href="#local-6989586621679020146"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-325"></a><span>        </span><span class="hs-special">(</span><a name="local-6989586621679020147"><a href="#local-6989586621679020147"><span class="hs-identifier">a</span></a></a><span> </span><a href="GHC.Base.html#%3A%7C"><span class="hs-operator hs-var">:|</span></a><span> </span><span class="hs-keyword">as</span><span class="hs-special">)</span><span> </span><a name="local-3458764513820541482"><a href="GHC.Base.html#%3C%3E"><span class="hs-operator">&lt;&gt;</span></a></a><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><a name="local-6989586621679020149"><a href="#local-6989586621679020149"><span class="hs-identifier">b</span></a></a><span> </span><a href="GHC.Base.html#%3A%7C"><span class="hs-operator hs-var">:|</span></a><span> </span><a name="local-6989586621679020150"><a href="#local-6989586621679020150"><span class="hs-identifier">bs</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679020147"><span class="hs-identifier hs-var">a</span></a><span> </span><a href="GHC.Base.html#%3A%7C"><span class="hs-operator hs-var">:|</span></a><span> </span><span class="hs-special">(</span><span class="hs-keyword">as</span><span> </span><a href="GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a><span> </span><a href="#local-6989586621679020149"><span class="hs-identifier hs-var">b</span></a><span> </span><span class="hs-glyph">:</span><span> </span><a href="#local-6989586621679020150"><span class="hs-identifier hs-var">bs</span></a><span class="hs-special">)</span><span>
</span><a name="line-326"></a><span>
</span><a name="line-327"></a><span class="hs-comment">-- | @since 4.9.0.0</span><span>
</span><a name="line-328"></a><span class="hs-keyword">instance</span><span> </span><a href="GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a><span> </span><a href="#local-6989586621679020138"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020139"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020138"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-329"></a><span>        </span><a name="local-6989586621679020140"><a href="#local-6989586621679020140"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-3458764513820541482"><a href="GHC.Base.html#%3C%3E"><span class="hs-operator">&lt;&gt;</span></a></a><span> </span><a name="local-6989586621679020141"><a href="#local-6989586621679020141"><span class="hs-identifier">g</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679020142"><a href="#local-6989586621679020142"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020140"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679020142"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="#local-6989586621679020141"><span class="hs-identifier hs-var">g</span></a><span> </span><a href="#local-6989586621679020142"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-330"></a><span>        </span><a name="local-8214565720323794784"><a href="GHC.Base.html#stimes"><span class="hs-identifier">stimes</span></a></a><span> </span><a name="local-6989586621679020143"><a href="#local-6989586621679020143"><span class="hs-identifier">n</span></a></a><span> </span><a name="local-6989586621679020144"><a href="#local-6989586621679020144"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679020145"><a href="#local-6989586621679020145"><span class="hs-identifier">e</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Base.html#stimes"><span class="hs-identifier hs-var">stimes</span></a><span> </span><a href="#local-6989586621679020143"><span class="hs-identifier hs-var">n</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020144"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679020145"><span class="hs-identifier hs-var">e</span></a><span class="hs-special">)</span><span>
</span><a name="line-331"></a><span>
</span><a name="line-332"></a><span class="hs-comment">-- | @since 2.01</span><span>
</span><a name="line-333"></a><span class="hs-keyword">instance</span><span> </span><a href="GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a><span> </span><a href="#local-6989586621679020136"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020137"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020136"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-334"></a><span>        </span><a name="local-3458764513820541483"><a href="GHC.Base.html#mempty"><span class="hs-identifier">mempty</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a><span>
</span><a name="line-335"></a><span>
</span><a name="line-336"></a><span class="hs-comment">-- | @since 4.9.0.0</span><span>
</span><a name="line-337"></a><span class="hs-keyword">instance</span><span> </span><a href="GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-338"></a><span>        </span><span class="hs-identifier">_</span><span> </span><a name="local-3458764513820541482"><a href="GHC.Base.html#%3C%3E"><span class="hs-operator">&lt;&gt;</span></a></a><span> </span><span class="hs-identifier">_</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-339"></a><span>        </span><a name="local-8214565720323794783"><a href="GHC.Base.html#sconcat"><span class="hs-identifier">sconcat</span></a></a><span> </span><span class="hs-identifier">_</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-340"></a><span>        </span><a name="local-8214565720323794784"><a href="GHC.Base.html#stimes"><span class="hs-identifier">stimes</span></a></a><span>  </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-341"></a><span>
</span><a name="line-342"></a><span class="hs-comment">-- | @since 2.01</span><span>
</span><a name="line-343"></a><span class="hs-keyword">instance</span><span> </span><a href="GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-344"></a><span>        </span><span class="hs-comment">-- Should it be strict?</span><span>
</span><a name="line-345"></a><span>        </span><a name="local-3458764513820541483"><a href="GHC.Base.html#mempty"><span class="hs-identifier">mempty</span></a></a><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-346"></a><span>        </span><a name="local-3458764513820541485"><a href="GHC.Base.html#mconcat"><span class="hs-identifier">mconcat</span></a></a><span> </span><span class="hs-identifier">_</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-347"></a><span>
</span><a name="line-348"></a><span class="hs-comment">-- | @since 4.9.0.0</span><span>
</span><a name="line-349"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a><span> </span><a href="#local-6989586621679020127"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a><span> </span><a href="#local-6989586621679020128"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020127"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679020128"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-350"></a><span>        </span><span class="hs-special">(</span><a name="local-6989586621679020129"><a href="#local-6989586621679020129"><span class="hs-identifier">a</span></a></a><span class="hs-special">,</span><a name="local-6989586621679020130"><a href="#local-6989586621679020130"><span class="hs-identifier">b</span></a></a><span class="hs-special">)</span><span> </span><a name="local-3458764513820541482"><a href="GHC.Base.html#%3C%3E"><span class="hs-operator">&lt;&gt;</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679020131"><a href="#local-6989586621679020131"><span class="hs-identifier">a'</span></a></a><span class="hs-special">,</span><a name="local-6989586621679020132"><a href="#local-6989586621679020132"><span class="hs-identifier">b'</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020129"><span class="hs-identifier hs-var">a</span></a><a href="GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><a href="#local-6989586621679020131"><span class="hs-identifier hs-var">a'</span></a><span class="hs-special">,</span><a href="#local-6989586621679020130"><span class="hs-identifier hs-var">b</span></a><a href="GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><a href="#local-6989586621679020132"><span class="hs-identifier hs-var">b'</span></a><span class="hs-special">)</span><span>
</span><a name="line-351"></a><span>        </span><a name="local-8214565720323794784"><a href="GHC.Base.html#stimes"><span class="hs-identifier">stimes</span></a></a><span> </span><a name="local-6989586621679020133"><a href="#local-6989586621679020133"><span class="hs-identifier">n</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679020134"><a href="#local-6989586621679020134"><span class="hs-identifier">a</span></a></a><span class="hs-special">,</span><a name="local-6989586621679020135"><a href="#local-6989586621679020135"><span class="hs-identifier">b</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#stimes"><span class="hs-identifier hs-var">stimes</span></a><span> </span><a href="#local-6989586621679020133"><span class="hs-identifier hs-var">n</span></a><span> </span><a href="#local-6989586621679020134"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#stimes"><span class="hs-identifier hs-var">stimes</span></a><span> </span><a href="#local-6989586621679020133"><span class="hs-identifier hs-var">n</span></a><span> </span><a href="#local-6989586621679020135"><span class="hs-identifier hs-var">b</span></a><span class="hs-special">)</span><span>
</span><a name="line-352"></a><span>
</span><a name="line-353"></a><span class="hs-comment">-- | @since 2.01</span><span>
</span><a name="line-354"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a><span> </span><a href="#local-6989586621679020125"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a><span> </span><a href="#local-6989586621679020126"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020125"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><a href="#local-6989586621679020126"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-355"></a><span>        </span><a name="local-3458764513820541483"><a href="GHC.Base.html#mempty"><span class="hs-identifier">mempty</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a><span class="hs-special">)</span><span>
</span><a name="line-356"></a><span>
</span><a name="line-357"></a><span class="hs-comment">-- | @since 4.9.0.0</span><span>
</span><a name="line-358"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a><span> </span><a href="#local-6989586621679020112"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a><span> </span><a href="#local-6989586621679020113"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a><span> </span><a href="#local-6989586621679020114"><span class="hs-identifier hs-type">c</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020112"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679020113"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679020114"><span class="hs-identifier hs-type">c</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-359"></a><span>        </span><span class="hs-special">(</span><a name="local-6989586621679020115"><a href="#local-6989586621679020115"><span class="hs-identifier">a</span></a></a><span class="hs-special">,</span><a name="local-6989586621679020116"><a href="#local-6989586621679020116"><span class="hs-identifier">b</span></a></a><span class="hs-special">,</span><a name="local-6989586621679020117"><a href="#local-6989586621679020117"><span class="hs-identifier">c</span></a></a><span class="hs-special">)</span><span> </span><a name="local-3458764513820541482"><a href="GHC.Base.html#%3C%3E"><span class="hs-operator">&lt;&gt;</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679020118"><a href="#local-6989586621679020118"><span class="hs-identifier">a'</span></a></a><span class="hs-special">,</span><a name="local-6989586621679020119"><a href="#local-6989586621679020119"><span class="hs-identifier">b'</span></a></a><span class="hs-special">,</span><a name="local-6989586621679020120"><a href="#local-6989586621679020120"><span class="hs-identifier">c'</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020115"><span class="hs-identifier hs-var">a</span></a><a href="GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><a href="#local-6989586621679020118"><span class="hs-identifier hs-var">a'</span></a><span class="hs-special">,</span><a href="#local-6989586621679020116"><span class="hs-identifier hs-var">b</span></a><a href="GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><a href="#local-6989586621679020119"><span class="hs-identifier hs-var">b'</span></a><span class="hs-special">,</span><a href="#local-6989586621679020117"><span class="hs-identifier hs-var">c</span></a><a href="GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><a href="#local-6989586621679020120"><span class="hs-identifier hs-var">c'</span></a><span class="hs-special">)</span><span>
</span><a name="line-360"></a><span>        </span><a name="local-8214565720323794784"><a href="GHC.Base.html#stimes"><span class="hs-identifier">stimes</span></a></a><span> </span><a name="local-6989586621679020121"><a href="#local-6989586621679020121"><span class="hs-identifier">n</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679020122"><a href="#local-6989586621679020122"><span class="hs-identifier">a</span></a></a><span class="hs-special">,</span><a name="local-6989586621679020123"><a href="#local-6989586621679020123"><span class="hs-identifier">b</span></a></a><span class="hs-special">,</span><a name="local-6989586621679020124"><a href="#local-6989586621679020124"><span class="hs-identifier">c</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#stimes"><span class="hs-identifier hs-var">stimes</span></a><span> </span><a href="#local-6989586621679020121"><span class="hs-identifier hs-var">n</span></a><span> </span><a href="#local-6989586621679020122"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#stimes"><span class="hs-identifier hs-var">stimes</span></a><span> </span><a href="#local-6989586621679020121"><span class="hs-identifier hs-var">n</span></a><span> </span><a href="#local-6989586621679020123"><span class="hs-identifier hs-var">b</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#stimes"><span class="hs-identifier hs-var">stimes</span></a><span> </span><a href="#local-6989586621679020121"><span class="hs-identifier hs-var">n</span></a><span> </span><a href="#local-6989586621679020124"><span class="hs-identifier hs-var">c</span></a><span class="hs-special">)</span><span>
</span><a name="line-361"></a><span>
</span><a name="line-362"></a><span class="hs-comment">-- | @since 2.01</span><span>
</span><a name="line-363"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a><span> </span><a href="#local-6989586621679020109"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a><span> </span><a href="#local-6989586621679020110"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a><span> </span><a href="#local-6989586621679020111"><span class="hs-identifier hs-type">c</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020109"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><a href="#local-6989586621679020110"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">,</span><a href="#local-6989586621679020111"><span class="hs-identifier hs-type">c</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-364"></a><span>        </span><a name="local-3458764513820541483"><a href="GHC.Base.html#mempty"><span class="hs-identifier">mempty</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a><span class="hs-special">)</span><span>
</span><a name="line-365"></a><span>
</span><a name="line-366"></a><span class="hs-comment">-- | @since 4.9.0.0</span><span>
</span><a name="line-367"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a><span> </span><a href="#local-6989586621679020092"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a><span> </span><a href="#local-6989586621679020093"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a><span> </span><a href="#local-6989586621679020094"><span class="hs-identifier hs-type">c</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a><span> </span><a href="#local-6989586621679020095"><span class="hs-identifier hs-type">d</span></a><span class="hs-special">)</span><span>
</span><a name="line-368"></a><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><a href="GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020092"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679020093"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679020094"><span class="hs-identifier hs-type">c</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679020095"><span class="hs-identifier hs-type">d</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-369"></a><span>        </span><span class="hs-special">(</span><a name="local-6989586621679020096"><a href="#local-6989586621679020096"><span class="hs-identifier">a</span></a></a><span class="hs-special">,</span><a name="local-6989586621679020097"><a href="#local-6989586621679020097"><span class="hs-identifier">b</span></a></a><span class="hs-special">,</span><a name="local-6989586621679020098"><a href="#local-6989586621679020098"><span class="hs-identifier">c</span></a></a><span class="hs-special">,</span><a name="local-6989586621679020099"><a href="#local-6989586621679020099"><span class="hs-identifier">d</span></a></a><span class="hs-special">)</span><span> </span><a name="local-3458764513820541482"><a href="GHC.Base.html#%3C%3E"><span class="hs-operator">&lt;&gt;</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679020100"><a href="#local-6989586621679020100"><span class="hs-identifier">a'</span></a></a><span class="hs-special">,</span><a name="local-6989586621679020101"><a href="#local-6989586621679020101"><span class="hs-identifier">b'</span></a></a><span class="hs-special">,</span><a name="local-6989586621679020102"><a href="#local-6989586621679020102"><span class="hs-identifier">c'</span></a></a><span class="hs-special">,</span><a name="local-6989586621679020103"><a href="#local-6989586621679020103"><span class="hs-identifier">d'</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020096"><span class="hs-identifier hs-var">a</span></a><a href="GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><a href="#local-6989586621679020100"><span class="hs-identifier hs-var">a'</span></a><span class="hs-special">,</span><a href="#local-6989586621679020097"><span class="hs-identifier hs-var">b</span></a><a href="GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><a href="#local-6989586621679020101"><span class="hs-identifier hs-var">b'</span></a><span class="hs-special">,</span><a href="#local-6989586621679020098"><span class="hs-identifier hs-var">c</span></a><a href="GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><a href="#local-6989586621679020102"><span class="hs-identifier hs-var">c'</span></a><span class="hs-special">,</span><a href="#local-6989586621679020099"><span class="hs-identifier hs-var">d</span></a><a href="GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><a href="#local-6989586621679020103"><span class="hs-identifier hs-var">d'</span></a><span class="hs-special">)</span><span>
</span><a name="line-370"></a><span>        </span><a name="local-8214565720323794784"><a href="GHC.Base.html#stimes"><span class="hs-identifier">stimes</span></a></a><span> </span><a name="local-6989586621679020104"><a href="#local-6989586621679020104"><span class="hs-identifier">n</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679020105"><a href="#local-6989586621679020105"><span class="hs-identifier">a</span></a></a><span class="hs-special">,</span><a name="local-6989586621679020106"><a href="#local-6989586621679020106"><span class="hs-identifier">b</span></a></a><span class="hs-special">,</span><a name="local-6989586621679020107"><a href="#local-6989586621679020107"><span class="hs-identifier">c</span></a></a><span class="hs-special">,</span><a name="local-6989586621679020108"><a href="#local-6989586621679020108"><span class="hs-identifier">d</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#stimes"><span class="hs-identifier hs-var">stimes</span></a><span> </span><a href="#local-6989586621679020104"><span class="hs-identifier hs-var">n</span></a><span> </span><a href="#local-6989586621679020105"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#stimes"><span class="hs-identifier hs-var">stimes</span></a><span> </span><a href="#local-6989586621679020104"><span class="hs-identifier hs-var">n</span></a><span> </span><a href="#local-6989586621679020106"><span class="hs-identifier hs-var">b</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#stimes"><span class="hs-identifier hs-var">stimes</span></a><span> </span><a href="#local-6989586621679020104"><span class="hs-identifier hs-var">n</span></a><span> </span><a href="#local-6989586621679020107"><span class="hs-identifier hs-var">c</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#stimes"><span class="hs-identifier hs-var">stimes</span></a><span> </span><a href="#local-6989586621679020104"><span class="hs-identifier hs-var">n</span></a><span> </span><a href="#local-6989586621679020108"><span class="hs-identifier hs-var">d</span></a><span class="hs-special">)</span><span>
</span><a name="line-371"></a><span>
</span><a name="line-372"></a><span class="hs-comment">-- | @since 2.01</span><span>
</span><a name="line-373"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a><span> </span><a href="#local-6989586621679020088"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a><span> </span><a href="#local-6989586621679020089"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a><span> </span><a href="#local-6989586621679020090"><span class="hs-identifier hs-type">c</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a><span> </span><a href="#local-6989586621679020091"><span class="hs-identifier hs-type">d</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020088"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><a href="#local-6989586621679020089"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">,</span><a href="#local-6989586621679020090"><span class="hs-identifier hs-type">c</span></a><span class="hs-special">,</span><a href="#local-6989586621679020091"><span class="hs-identifier hs-type">d</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-374"></a><span>        </span><a name="local-3458764513820541483"><a href="GHC.Base.html#mempty"><span class="hs-identifier">mempty</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a><span class="hs-special">)</span><span>
</span><a name="line-375"></a><span>
</span><a name="line-376"></a><span class="hs-comment">-- | @since 4.9.0.0</span><span>
</span><a name="line-377"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a><span> </span><a href="#local-6989586621679020067"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a><span> </span><a href="#local-6989586621679020068"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a><span> </span><a href="#local-6989586621679020069"><span class="hs-identifier hs-type">c</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a><span> </span><a href="#local-6989586621679020070"><span class="hs-identifier hs-type">d</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a><span> </span><a href="#local-6989586621679020071"><span class="hs-identifier hs-type">e</span></a><span class="hs-special">)</span><span>
</span><a name="line-378"></a><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><a href="GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020067"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679020068"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679020069"><span class="hs-identifier hs-type">c</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679020070"><span class="hs-identifier hs-type">d</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679020071"><span class="hs-identifier hs-type">e</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-379"></a><span>        </span><span class="hs-special">(</span><a name="local-6989586621679020072"><a href="#local-6989586621679020072"><span class="hs-identifier">a</span></a></a><span class="hs-special">,</span><a name="local-6989586621679020073"><a href="#local-6989586621679020073"><span class="hs-identifier">b</span></a></a><span class="hs-special">,</span><a name="local-6989586621679020074"><a href="#local-6989586621679020074"><span class="hs-identifier">c</span></a></a><span class="hs-special">,</span><a name="local-6989586621679020075"><a href="#local-6989586621679020075"><span class="hs-identifier">d</span></a></a><span class="hs-special">,</span><a name="local-6989586621679020076"><a href="#local-6989586621679020076"><span class="hs-identifier">e</span></a></a><span class="hs-special">)</span><span> </span><a name="local-3458764513820541482"><a href="GHC.Base.html#%3C%3E"><span class="hs-operator">&lt;&gt;</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679020077"><a href="#local-6989586621679020077"><span class="hs-identifier">a'</span></a></a><span class="hs-special">,</span><a name="local-6989586621679020078"><a href="#local-6989586621679020078"><span class="hs-identifier">b'</span></a></a><span class="hs-special">,</span><a name="local-6989586621679020079"><a href="#local-6989586621679020079"><span class="hs-identifier">c'</span></a></a><span class="hs-special">,</span><a name="local-6989586621679020080"><a href="#local-6989586621679020080"><span class="hs-identifier">d'</span></a></a><span class="hs-special">,</span><a name="local-6989586621679020081"><a href="#local-6989586621679020081"><span class="hs-identifier">e'</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020072"><span class="hs-identifier hs-var">a</span></a><a href="GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><a href="#local-6989586621679020077"><span class="hs-identifier hs-var">a'</span></a><span class="hs-special">,</span><a href="#local-6989586621679020073"><span class="hs-identifier hs-var">b</span></a><a href="GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><a href="#local-6989586621679020078"><span class="hs-identifier hs-var">b'</span></a><span class="hs-special">,</span><a href="#local-6989586621679020074"><span class="hs-identifier hs-var">c</span></a><a href="GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><a href="#local-6989586621679020079"><span class="hs-identifier hs-var">c'</span></a><span class="hs-special">,</span><a href="#local-6989586621679020075"><span class="hs-identifier hs-var">d</span></a><a href="GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><a href="#local-6989586621679020080"><span class="hs-identifier hs-var">d'</span></a><span class="hs-special">,</span><a href="#local-6989586621679020076"><span class="hs-identifier hs-var">e</span></a><a href="GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><a href="#local-6989586621679020081"><span class="hs-identifier hs-var">e'</span></a><span class="hs-special">)</span><span>
</span><a name="line-380"></a><span>        </span><a name="local-8214565720323794784"><a href="GHC.Base.html#stimes"><span class="hs-identifier">stimes</span></a></a><span> </span><a name="local-6989586621679020082"><a href="#local-6989586621679020082"><span class="hs-identifier">n</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679020083"><a href="#local-6989586621679020083"><span class="hs-identifier">a</span></a></a><span class="hs-special">,</span><a name="local-6989586621679020084"><a href="#local-6989586621679020084"><span class="hs-identifier">b</span></a></a><span class="hs-special">,</span><a name="local-6989586621679020085"><a href="#local-6989586621679020085"><span class="hs-identifier">c</span></a></a><span class="hs-special">,</span><a name="local-6989586621679020086"><a href="#local-6989586621679020086"><span class="hs-identifier">d</span></a></a><span class="hs-special">,</span><a name="local-6989586621679020087"><a href="#local-6989586621679020087"><span class="hs-identifier">e</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-381"></a><span>            </span><span class="hs-special">(</span><a href="GHC.Base.html#stimes"><span class="hs-identifier hs-var">stimes</span></a><span> </span><a href="#local-6989586621679020082"><span class="hs-identifier hs-var">n</span></a><span> </span><a href="#local-6989586621679020083"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#stimes"><span class="hs-identifier hs-var">stimes</span></a><span> </span><a href="#local-6989586621679020082"><span class="hs-identifier hs-var">n</span></a><span> </span><a href="#local-6989586621679020084"><span class="hs-identifier hs-var">b</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#stimes"><span class="hs-identifier hs-var">stimes</span></a><span> </span><a href="#local-6989586621679020082"><span class="hs-identifier hs-var">n</span></a><span> </span><a href="#local-6989586621679020085"><span class="hs-identifier hs-var">c</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#stimes"><span class="hs-identifier hs-var">stimes</span></a><span> </span><a href="#local-6989586621679020082"><span class="hs-identifier hs-var">n</span></a><span> </span><a href="#local-6989586621679020086"><span class="hs-identifier hs-var">d</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#stimes"><span class="hs-identifier hs-var">stimes</span></a><span> </span><a href="#local-6989586621679020082"><span class="hs-identifier hs-var">n</span></a><span> </span><a href="#local-6989586621679020087"><span class="hs-identifier hs-var">e</span></a><span class="hs-special">)</span><span>
</span><a name="line-382"></a><span>
</span><a name="line-383"></a><span class="hs-comment">-- | @since 2.01</span><span>
</span><a name="line-384"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a><span> </span><a href="#local-6989586621679020062"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a><span> </span><a href="#local-6989586621679020063"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a><span> </span><a href="#local-6989586621679020064"><span class="hs-identifier hs-type">c</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a><span> </span><a href="#local-6989586621679020065"><span class="hs-identifier hs-type">d</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a><span> </span><a href="#local-6989586621679020066"><span class="hs-identifier hs-type">e</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><a name="line-385"></a><span>                </span><a href="GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020062"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><a href="#local-6989586621679020063"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">,</span><a href="#local-6989586621679020064"><span class="hs-identifier hs-type">c</span></a><span class="hs-special">,</span><a href="#local-6989586621679020065"><span class="hs-identifier hs-type">d</span></a><span class="hs-special">,</span><a href="#local-6989586621679020066"><span class="hs-identifier hs-type">e</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-386"></a><span>        </span><a name="local-3458764513820541483"><a href="GHC.Base.html#mempty"><span class="hs-identifier">mempty</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a><span class="hs-special">)</span><span>
</span><a name="line-387"></a><span>
</span><a name="line-388"></a><span>
</span><a name="line-389"></a><span class="hs-comment">-- | @since 4.9.0.0</span><span>
</span><a name="line-390"></a><span class="hs-keyword">instance</span><span> </span><a href="GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Ordering"><span class="hs-identifier hs-type">Ordering</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-391"></a><span>    </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#LT"><span class="hs-identifier hs-var">LT</span></a><span> </span><a name="local-3458764513820541482"><a href="GHC.Base.html#%3C%3E"><span class="hs-operator">&lt;&gt;</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#LT"><span class="hs-identifier hs-var">LT</span></a><span>
</span><a name="line-392"></a><span>    </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#EQ"><span class="hs-identifier hs-var">EQ</span></a><span> </span><span class="hs-operator">&lt;&gt;</span><span> </span><a name="local-6989586621679020061"><a href="#local-6989586621679020061"><span class="hs-identifier">y</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679020061"><span class="hs-identifier hs-var">y</span></a><span>
</span><a name="line-393"></a><span>    </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#GT"><span class="hs-identifier hs-var">GT</span></a><span> </span><span class="hs-operator">&lt;&gt;</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#GT"><span class="hs-identifier hs-var">GT</span></a><span>
</span><a name="line-394"></a><span>
</span><a name="line-395"></a><span>    </span><a name="local-8214565720323794784"><a href="GHC.Base.html#stimes"><span class="hs-identifier">stimes</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Semigroup.Internal.html#stimesIdempotentMonoid"><span class="hs-identifier hs-var">stimesIdempotentMonoid</span></a><span>
</span><a name="line-396"></a><span>
</span><a name="line-397"></a><span class="hs-comment">-- lexicographical ordering</span><span>
</span><a name="line-398"></a><span class="hs-comment">-- | @since 2.01</span><span>
</span><a name="line-399"></a><span class="hs-keyword">instance</span><span> </span><a href="GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Ordering"><span class="hs-identifier hs-type">Ordering</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-400"></a><span>    </span><a name="local-3458764513820541483"><a href="GHC.Base.html#mempty"><span class="hs-identifier">mempty</span></a></a><span>             </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#EQ"><span class="hs-identifier hs-var">EQ</span></a><span>
</span><a name="line-401"></a><span>
</span><a name="line-402"></a><span class="hs-comment">-- | @since 4.9.0.0</span><span>
</span><a name="line-403"></a><span class="hs-keyword">instance</span><span> </span><a href="GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a><span> </span><a href="#local-6989586621679020056"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a><span> </span><span class="hs-special">(</span><a href="GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a><span> </span><a href="#local-6989586621679020056"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-404"></a><span>    </span><a href="GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span> </span><a name="local-3458764513820541482"><a href="GHC.Base.html#%3C%3E"><span class="hs-operator">&lt;&gt;</span></a></a><span> </span><a name="local-6989586621679020057"><a href="#local-6989586621679020057"><span class="hs-identifier">b</span></a></a><span>       </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679020057"><span class="hs-identifier hs-var">b</span></a><span>
</span><a name="line-405"></a><span>    </span><a name="local-6989586621679020058"><a href="#local-6989586621679020058"><span class="hs-identifier">a</span></a></a><span>       </span><span class="hs-operator">&lt;&gt;</span><span> </span><a href="GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679020058"><span class="hs-identifier hs-var">a</span></a><span>
</span><a name="line-406"></a><span>    </span><a href="GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><a name="local-6989586621679020059"><a href="#local-6989586621679020059"><span class="hs-identifier">a</span></a></a><span>  </span><span class="hs-operator">&lt;&gt;</span><span> </span><a href="GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><a name="local-6989586621679020060"><a href="#local-6989586621679020060"><span class="hs-identifier">b</span></a></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020059"><span class="hs-identifier hs-var">a</span></a><span> </span><a href="GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="#local-6989586621679020060"><span class="hs-identifier hs-var">b</span></a><span class="hs-special">)</span><span>
</span><a name="line-407"></a><span>
</span><a name="line-408"></a><span>    </span><a name="local-8214565720323794784"><a href="GHC.Base.html#stimes"><span class="hs-identifier">stimes</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Semigroup.Internal.html#stimesMaybe"><span class="hs-identifier hs-var">stimesMaybe</span></a><span>
</span><a name="line-409"></a><span>
</span><a name="line-410"></a><span class="hs-comment">-- | Lift a semigroup into 'Maybe' forming a 'Monoid' according to</span><span>
</span><a name="line-411"></a><span class="hs-comment">-- &lt;http://en.wikipedia.org/wiki/Monoid&gt;: \&quot;Any semigroup @S@ may be</span><span>
</span><a name="line-412"></a><span class="hs-comment">-- turned into a monoid simply by adjoining an element @e@ not in @S@</span><span>
</span><a name="line-413"></a><span class="hs-comment">-- and defining @e*e = e@ and @e*s = s = s*e@ for all @s &#8712; S@.\&quot;</span><span>
</span><a name="line-414"></a><span class="hs-comment">--</span><span>
</span><a name="line-415"></a><span class="hs-comment">-- /Since 4.11.0/: constraint on inner @a@ value generalised from</span><span>
</span><a name="line-416"></a><span class="hs-comment">-- 'Monoid' to 'Semigroup'.</span><span>
</span><a name="line-417"></a><span class="hs-comment">--</span><span>
</span><a name="line-418"></a><span class="hs-comment">-- @since 2.01</span><span>
</span><a name="line-419"></a><span class="hs-keyword">instance</span><span> </span><a href="GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a><span> </span><a href="#local-6989586621679020055"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a><span> </span><span class="hs-special">(</span><a href="GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a><span> </span><a href="#local-6989586621679020055"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-420"></a><span>    </span><a name="local-3458764513820541483"><a href="GHC.Base.html#mempty"><span class="hs-identifier">mempty</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span>
</span><a name="line-421"></a><span>
</span><a name="line-422"></a><span class="hs-comment">-- | For tuples, the 'Monoid' constraint on @a@ determines</span><span>
</span><a name="line-423"></a><span class="hs-comment">-- how the first values merge.</span><span>
</span><a name="line-424"></a><span class="hs-comment">-- For example, 'String's concatenate:</span><span>
</span><a name="line-425"></a><span class="hs-comment">--</span><span>
</span><a name="line-426"></a><span class="hs-comment">-- &gt; (&quot;hello &quot;, (+15)) &lt;*&gt; (&quot;world!&quot;, 2002)</span><span>
</span><a name="line-427"></a><span class="hs-comment">-- &gt; (&quot;hello world!&quot;,2017)</span><span>
</span><a name="line-428"></a><span class="hs-comment">--</span><span>
</span><a name="line-429"></a><span class="hs-comment">-- @since 2.01</span><span>
</span><a name="line-430"></a><span class="hs-keyword">instance</span><span> </span><a href="GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a><span> </span><a href="#local-6989586621679020044"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="GHC.Base.html#Applicative"><span class="hs-identifier hs-type">Applicative</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679020044"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-431"></a><span>    </span><a name="local-3458764513820541680"><a href="GHC.Base.html#pure"><span class="hs-identifier">pure</span></a></a><span> </span><a name="local-6989586621679020045"><a href="#local-6989586621679020045"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679020045"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span>
</span><a name="line-432"></a><span>    </span><span class="hs-special">(</span><a name="local-6989586621679020046"><a href="#local-6989586621679020046"><span class="hs-identifier">u</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679020047"><a href="#local-6989586621679020047"><span class="hs-identifier">f</span></a></a><span class="hs-special">)</span><span> </span><a name="local-3458764513820541679"><a href="GHC.Base.html#%3C%2A%3E"><span class="hs-operator">&lt;*&gt;</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679020048"><a href="#local-6989586621679020048"><span class="hs-identifier">v</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679020049"><a href="#local-6989586621679020049"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020046"><span class="hs-identifier hs-var">u</span></a><span> </span><a href="GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="#local-6989586621679020048"><span class="hs-identifier hs-var">v</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679020047"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679020049"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span>
</span><a name="line-433"></a><span>    </span><a name="local-8214565720323794780"><a href="GHC.Base.html#liftA2"><span class="hs-identifier">liftA2</span></a></a><span> </span><a name="local-6989586621679020050"><a href="#local-6989586621679020050"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679020051"><a href="#local-6989586621679020051"><span class="hs-identifier">u</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679020052"><a href="#local-6989586621679020052"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679020053"><a href="#local-6989586621679020053"><span class="hs-identifier">v</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679020054"><a href="#local-6989586621679020054"><span class="hs-identifier">y</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020051"><span class="hs-identifier hs-var">u</span></a><span> </span><a href="GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="#local-6989586621679020053"><span class="hs-identifier hs-var">v</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679020050"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679020052"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="#local-6989586621679020054"><span class="hs-identifier hs-var">y</span></a><span class="hs-special">)</span><span>
</span><a name="line-434"></a><span>
</span><a name="line-435"></a><span class="hs-comment">-- | @since 4.9.0.0</span><span>
</span><a name="line-436"></a><span class="hs-keyword">instance</span><span> </span><a href="GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a><span> </span><a href="#local-6989586621679020038"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="GHC.Base.html#Monad"><span class="hs-identifier hs-type">Monad</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679020038"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-437"></a><span>    </span><span class="hs-special">(</span><a name="local-6989586621679020039"><a href="#local-6989586621679020039"><span class="hs-identifier">u</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679020040"><a href="#local-6989586621679020040"><span class="hs-identifier">a</span></a></a><span class="hs-special">)</span><span> </span><a name="local-3458764513820541099"><a href="GHC.Base.html#%3E%3E%3D"><span class="hs-operator">&gt;&gt;=</span></a></a><span> </span><a name="local-6989586621679020041"><a href="#local-6989586621679020041"><span class="hs-identifier">k</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679020041"><span class="hs-identifier hs-var">k</span></a><span> </span><a href="#local-6989586621679020040"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-keyword">of</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679020042"><a href="#local-6989586621679020042"><span class="hs-identifier">v</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679020043"><a href="#local-6989586621679020043"><span class="hs-identifier">b</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020039"><span class="hs-identifier hs-var">u</span></a><span> </span><a href="GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="#local-6989586621679020042"><span class="hs-identifier hs-var">v</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679020043"><span class="hs-identifier hs-var">b</span></a><span class="hs-special">)</span><span>
</span><a name="line-438"></a><span>
</span><a name="line-439"></a><span class="hs-comment">-- | @since 4.10.0.0</span><span>
</span><a name="line-440"></a><span class="hs-keyword">instance</span><span> </span><a href="GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a><span> </span><a href="#local-6989586621679020037"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a><span> </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a><span> </span><a href="#local-6989586621679020037"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-441"></a><span>    </span><span class="hs-special">(</span><a name="local-3458764513820541482"><a href="GHC.Base.html#%3C%3E"><span class="hs-operator">&lt;&gt;</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Base.html#liftA2"><span class="hs-identifier hs-var">liftA2</span></a><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span class="hs-special">)</span><span>
</span><a name="line-442"></a><span>
</span><a name="line-443"></a><span class="hs-comment">-- | @since 4.9.0.0</span><span>
</span><a name="line-444"></a><span class="hs-keyword">instance</span><span> </span><a href="GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a><span> </span><a href="#local-6989586621679020036"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a><span> </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a><span> </span><a href="#local-6989586621679020036"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-445"></a><span>    </span><a name="local-3458764513820541483"><a href="GHC.Base.html#mempty"><span class="hs-identifier">mempty</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="GHC.Base.html#mempty"><span class="hs-identifier hs-var">mempty</span></a><span>
</span><a name="line-446"></a><span>
</span><a name="line-447"></a><span class="hs-comment">{- | A type @f@ is a Functor if it provides a function @fmap@ which, given any types @a@ and @b@
lets you apply any function from @(a -&gt; b)@ to turn an @f a@ into an @f b@, preserving the
structure of @f@. Furthermore @f@ needs to adhere to the following laws:

[/identity/]
  @'fmap' 'id' = 'id'@

[/composition/]
  @'fmap' (f . g) = 'fmap' f . 'fmap' g@
-}</span><span>
</span><a name="line-457"></a><span>
</span><a name="line-458"></a><span class="hs-keyword">class</span><span>  </span><a name="Functor"><a href="GHC.Base.html#Functor"><span class="hs-identifier">Functor</span></a></a><span> </span><a name="local-6989586621679019954"><a href="#local-6989586621679019954"><span class="hs-identifier">f</span></a></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-459"></a><span>    </span><a name="fmap"><a href="GHC.Base.html#fmap"><span class="hs-identifier">fmap</span></a></a><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679019955"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019956"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019954"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679019955"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019954"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679019956"><span class="hs-identifier hs-type">b</span></a><span>
</span><a name="line-460"></a><span>
</span><a name="line-461"></a><span>    </span><span class="hs-comment">-- | Replace all locations in the input with the same value.</span><span>
</span><a name="line-462"></a><span>    </span><span class="hs-comment">-- The default definition is @'fmap' . 'const'@, but this may be</span><span>
</span><a name="line-463"></a><span>    </span><span class="hs-comment">-- overridden with a more efficient version.</span><span>
</span><a name="line-464"></a><span>    </span><span class="hs-special">(</span><a name="%3C%24"><a href="GHC.Base.html#%3C%24"><span class="hs-operator">&lt;$</span></a></a><span class="hs-special">)</span><span>        </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679019957"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019954"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679019958"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019954"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679019957"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-465"></a><span>    </span><span class="hs-special">(</span><a name="local-8214565720323794782"><a href="GHC.Base.html#%3C%24"><span class="hs-operator">&lt;$</span></a></a><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span>  </span><a href="GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a><span> </span><a href="GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><span> </span><a href="GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a><span>
</span><a name="line-466"></a><span>
</span><a name="line-467"></a><span class="hs-comment">-- | A functor with application, providing operations to</span><span>
</span><a name="line-468"></a><span class="hs-comment">--</span><span>
</span><a name="line-469"></a><span class="hs-comment">-- * embed pure expressions ('pure'), and</span><span>
</span><a name="line-470"></a><span class="hs-comment">--</span><span>
</span><a name="line-471"></a><span class="hs-comment">-- * sequence computations and combine their results ('&lt;*&gt;' and 'liftA2').</span><span>
</span><a name="line-472"></a><span class="hs-comment">--</span><span>
</span><a name="line-473"></a><span class="hs-comment">-- A minimal complete definition must include implementations of 'pure'</span><span>
</span><a name="line-474"></a><span class="hs-comment">-- and of either '&lt;*&gt;' or 'liftA2'. If it defines both, then they must behave</span><span>
</span><a name="line-475"></a><span class="hs-comment">-- the same as their default definitions:</span><span>
</span><a name="line-476"></a><span class="hs-comment">--</span><span>
</span><a name="line-477"></a><span class="hs-comment">--      @('&lt;*&gt;') = 'liftA2' 'id'@</span><span>
</span><a name="line-478"></a><span class="hs-comment">--</span><span>
</span><a name="line-479"></a><span class="hs-comment">--      @'liftA2' f x y = f 'Prelude.&lt;$&gt;' x '&lt;*&gt;' y@</span><span>
</span><a name="line-480"></a><span class="hs-comment">--</span><span>
</span><a name="line-481"></a><span class="hs-comment">-- Further, any definition must satisfy the following:</span><span>
</span><a name="line-482"></a><span class="hs-comment">--</span><span>
</span><a name="line-483"></a><span class="hs-comment">-- [/identity/]</span><span>
</span><a name="line-484"></a><span class="hs-comment">--</span><span>
</span><a name="line-485"></a><span class="hs-comment">--      @'pure' 'id' '&lt;*&gt;' v = v@</span><span>
</span><a name="line-486"></a><span class="hs-comment">--</span><span>
</span><a name="line-487"></a><span class="hs-comment">-- [/composition/]</span><span>
</span><a name="line-488"></a><span class="hs-comment">--</span><span>
</span><a name="line-489"></a><span class="hs-comment">--      @'pure' (.) '&lt;*&gt;' u '&lt;*&gt;' v '&lt;*&gt;' w = u '&lt;*&gt;' (v '&lt;*&gt;' w)@</span><span>
</span><a name="line-490"></a><span class="hs-comment">--</span><span>
</span><a name="line-491"></a><span class="hs-comment">-- [/homomorphism/]</span><span>
</span><a name="line-492"></a><span class="hs-comment">--</span><span>
</span><a name="line-493"></a><span class="hs-comment">--      @'pure' f '&lt;*&gt;' 'pure' x = 'pure' (f x)@</span><span>
</span><a name="line-494"></a><span class="hs-comment">--</span><span>
</span><a name="line-495"></a><span class="hs-comment">-- [/interchange/]</span><span>
</span><a name="line-496"></a><span class="hs-comment">--</span><span>
</span><a name="line-497"></a><span class="hs-comment">--      @u '&lt;*&gt;' 'pure' y = 'pure' ('$' y) '&lt;*&gt;' u@</span><span>
</span><a name="line-498"></a><span class="hs-comment">--</span><span>
</span><a name="line-499"></a><span class="hs-comment">--</span><span>
</span><a name="line-500"></a><span class="hs-comment">-- The other methods have the following default definitions, which may</span><span>
</span><a name="line-501"></a><span class="hs-comment">-- be overridden with equivalent specialized implementations:</span><span>
</span><a name="line-502"></a><span class="hs-comment">--</span><span>
</span><a name="line-503"></a><span class="hs-comment">--   * @u '*&gt;' v = ('id' '&lt;$' u) '&lt;*&gt;' v@</span><span>
</span><a name="line-504"></a><span class="hs-comment">--</span><span>
</span><a name="line-505"></a><span class="hs-comment">--   * @u '&lt;*' v = 'liftA2' 'const' u v@</span><span>
</span><a name="line-506"></a><span class="hs-comment">--</span><span>
</span><a name="line-507"></a><span class="hs-comment">-- As a consequence of these laws, the 'Functor' instance for @f@ will satisfy</span><span>
</span><a name="line-508"></a><span class="hs-comment">--</span><span>
</span><a name="line-509"></a><span class="hs-comment">--   * @'fmap' f x = 'pure' f '&lt;*&gt;' x@</span><span>
</span><a name="line-510"></a><span class="hs-comment">--</span><span>
</span><a name="line-511"></a><span class="hs-comment">--</span><span>
</span><a name="line-512"></a><span class="hs-comment">-- It may be useful to note that supposing</span><span>
</span><a name="line-513"></a><span class="hs-comment">--</span><span>
</span><a name="line-514"></a><span class="hs-comment">--      @forall x y. p (q x y) = f x . g y@</span><span>
</span><a name="line-515"></a><span class="hs-comment">--</span><span>
</span><a name="line-516"></a><span class="hs-comment">-- it follows from the above that</span><span>
</span><a name="line-517"></a><span class="hs-comment">--</span><span>
</span><a name="line-518"></a><span class="hs-comment">--      @'liftA2' p ('liftA2' q u v) = 'liftA2' f u . 'liftA2' g v@</span><span>
</span><a name="line-519"></a><span class="hs-comment">--</span><span>
</span><a name="line-520"></a><span class="hs-comment">--</span><span>
</span><a name="line-521"></a><span class="hs-comment">-- If @f@ is also a 'Monad', it should satisfy</span><span>
</span><a name="line-522"></a><span class="hs-comment">--</span><span>
</span><a name="line-523"></a><span class="hs-comment">--   * @'pure' = 'return'@</span><span>
</span><a name="line-524"></a><span class="hs-comment">--</span><span>
</span><a name="line-525"></a><span class="hs-comment">--   * @('&lt;*&gt;') = 'ap'@</span><span>
</span><a name="line-526"></a><span class="hs-comment">--</span><span>
</span><a name="line-527"></a><span class="hs-comment">--   * @('*&gt;') = ('&gt;&gt;')@</span><span>
</span><a name="line-528"></a><span class="hs-comment">--</span><span>
</span><a name="line-529"></a><span class="hs-comment">-- (which implies that 'pure' and '&lt;*&gt;' satisfy the applicative functor laws).</span><span>
</span><a name="line-530"></a><span>
</span><a name="line-531"></a><span class="hs-keyword">class</span><span> </span><a href="GHC.Base.html#Functor"><span class="hs-identifier hs-type">Functor</span></a><span> </span><a href="#local-6989586621679019939"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a name="Applicative"><a href="GHC.Base.html#Applicative"><span class="hs-identifier">Applicative</span></a></a><span> </span><a name="local-6989586621679019939"><a href="#local-6989586621679019939"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-532"></a><span>    </span><span class="hs-pragma">{-# MINIMAL</span><span> </span><span class="hs-pragma">pure</span><span class="hs-pragma">,</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;*&gt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">|</span><span> </span><span class="hs-pragma">liftA2</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-533"></a><span>    </span><span class="hs-comment">-- | Lift a value.</span><span>
</span><a name="line-534"></a><span>    </span><a name="pure"><a href="GHC.Base.html#pure"><span class="hs-identifier">pure</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679019940"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019939"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679019940"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-535"></a><span>
</span><a name="line-536"></a><span>    </span><span class="hs-comment">-- | Sequential application.</span><span>
</span><a name="line-537"></a><span>    </span><span class="hs-comment">--</span><span>
</span><a name="line-538"></a><span>    </span><span class="hs-comment">-- A few functors support an implementation of '&lt;*&gt;' that is more</span><span>
</span><a name="line-539"></a><span>    </span><span class="hs-comment">-- efficient than the default one.</span><span>
</span><a name="line-540"></a><span>    </span><span class="hs-special">(</span><a name="%3C%2A%3E"><a href="GHC.Base.html#%3C%2A%3E"><span class="hs-operator">&lt;*&gt;</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679019939"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679019941"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019942"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019939"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679019941"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019939"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679019942"><span class="hs-identifier hs-type">b</span></a><span>
</span><a name="line-541"></a><span>    </span><span class="hs-special">(</span><a name="local-3458764513820541679"><a href="GHC.Base.html#%3C%2A%3E"><span class="hs-operator">&lt;*&gt;</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Base.html#liftA2"><span class="hs-identifier hs-var">liftA2</span></a><span> </span><a href="GHC.Base.html#id"><span class="hs-identifier hs-var">id</span></a><span>
</span><a name="line-542"></a><span>
</span><a name="line-543"></a><span>    </span><span class="hs-comment">-- | Lift a binary function to actions.</span><span>
</span><a name="line-544"></a><span>    </span><span class="hs-comment">--</span><span>
</span><a name="line-545"></a><span>    </span><span class="hs-comment">-- Some functors support an implementation of 'liftA2' that is more</span><span>
</span><a name="line-546"></a><span>    </span><span class="hs-comment">-- efficient than the default one. In particular, if 'fmap' is an</span><span>
</span><a name="line-547"></a><span>    </span><span class="hs-comment">-- expensive operation, it is likely better to use 'liftA2' than to</span><span>
</span><a name="line-548"></a><span>    </span><span class="hs-comment">-- 'fmap' over the structure and then use '&lt;*&gt;'.</span><span>
</span><a name="line-549"></a><span>    </span><a name="liftA2"><a href="GHC.Base.html#liftA2"><span class="hs-identifier">liftA2</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679019943"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019944"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019945"><span class="hs-identifier hs-type">c</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019939"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679019943"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019939"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679019944"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019939"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679019945"><span class="hs-identifier hs-type">c</span></a><span>
</span><a name="line-550"></a><span>    </span><a name="local-8214565720323794780"><a href="GHC.Base.html#liftA2"><span class="hs-identifier">liftA2</span></a></a><span> </span><a name="local-6989586621679019950"><a href="#local-6989586621679019950"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679019951"><a href="#local-6989586621679019951"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a><span> </span><a href="#local-6989586621679019950"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679019951"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span>
</span><a name="line-551"></a><span>
</span><a name="line-552"></a><span>    </span><span class="hs-comment">-- | Sequence actions, discarding the value of the first argument.</span><span>
</span><a name="line-553"></a><span>    </span><span class="hs-special">(</span><a name="%2A%3E"><a href="GHC.Base.html#%2A%3E"><span class="hs-operator">*&gt;</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679019939"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679019946"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019939"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679019947"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019939"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679019947"><span class="hs-identifier hs-type">b</span></a><span>
</span><a name="line-554"></a><span>    </span><a name="local-6989586621679019952"><a href="#local-6989586621679019952"><span class="hs-identifier">a1</span></a></a><span> </span><a name="local-3458764513820541681"><a href="GHC.Base.html#%2A%3E"><span class="hs-operator">*&gt;</span></a></a><span> </span><a name="local-6989586621679019953"><a href="#local-6989586621679019953"><span class="hs-identifier">a2</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#id"><span class="hs-identifier hs-var">id</span></a><span> </span><a href="GHC.Base.html#%3C%24"><span class="hs-operator hs-var">&lt;$</span></a><span> </span><a href="#local-6989586621679019952"><span class="hs-identifier hs-var">a1</span></a><span class="hs-special">)</span><span> </span><a href="GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a><span> </span><a href="#local-6989586621679019953"><span class="hs-identifier hs-var">a2</span></a><span>
</span><a name="line-555"></a><span>    </span><span class="hs-comment">-- This is essentially the same as liftA2 (flip const), but if the</span><span>
</span><a name="line-556"></a><span>    </span><span class="hs-comment">-- Functor instance has an optimized (&lt;$), it may be better to use</span><span>
</span><a name="line-557"></a><span>    </span><span class="hs-comment">-- that instead. Before liftA2 became a method, this definition</span><span>
</span><a name="line-558"></a><span>    </span><span class="hs-comment">-- was strictly better, but now it depends on the functor. For a</span><span>
</span><a name="line-559"></a><span>    </span><span class="hs-comment">-- functor supporting a sharing-enhancing (&lt;$), this definition</span><span>
</span><a name="line-560"></a><span>    </span><span class="hs-comment">-- may reduce allocation by preventing a1 from ever being fully</span><span>
</span><a name="line-561"></a><span>    </span><span class="hs-comment">-- realized. In an implementation with a boring (&lt;$) but an optimizing</span><span>
</span><a name="line-562"></a><span>    </span><span class="hs-comment">-- liftA2, it would likely be better to define (*&gt;) using liftA2.</span><span>
</span><a name="line-563"></a><span>
</span><a name="line-564"></a><span>    </span><span class="hs-comment">-- | Sequence actions, discarding the value of the second argument.</span><span>
</span><a name="line-565"></a><span>    </span><span class="hs-special">(</span><a name="%3C%2A"><a href="GHC.Base.html#%3C%2A"><span class="hs-operator">&lt;*</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679019939"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679019948"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019939"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679019949"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019939"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679019948"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-566"></a><span>    </span><span class="hs-special">(</span><a name="local-8214565720323794781"><a href="GHC.Base.html#%3C%2A"><span class="hs-operator">&lt;*</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Base.html#liftA2"><span class="hs-identifier hs-var">liftA2</span></a><span> </span><a href="GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a><span>
</span><a name="line-567"></a><span>
</span><a name="line-568"></a><span class="hs-comment">-- | A variant of '&lt;*&gt;' with the arguments reversed.</span><span>
</span><a name="line-569"></a><span class="hs-special">(</span><span class="hs-operator">&lt;**&gt;</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="GHC.Base.html#Applicative"><span class="hs-identifier hs-type">Applicative</span></a><span> </span><a href="#local-6989586621679020300"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-6989586621679020300"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679020301"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020300"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020301"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020302"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020300"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679020302"><span class="hs-identifier hs-type">b</span></a><span>
</span><a name="line-570"></a><span class="hs-special">(</span><a name="%3C%2A%2A%3E"><a href="GHC.Base.html#%3C%2A%2A%3E"><span class="hs-operator">&lt;**&gt;</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Base.html#liftA2"><span class="hs-identifier hs-var">liftA2</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><a name="local-6989586621679020303"><a href="#local-6989586621679020303"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-6989586621679020304"><a href="#local-6989586621679020304"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020304"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679020303"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-571"></a><span class="hs-comment">-- Don't use $ here, see the note at the top of the page</span><span>
</span><a name="line-572"></a><span>
</span><a name="line-573"></a><span class="hs-comment">-- | Lift a function to actions.</span><span>
</span><a name="line-574"></a><span class="hs-comment">-- This function may be used as a value for `fmap` in a `Functor` instance.</span><span>
</span><a name="line-575"></a><span class="hs-identifier">liftA</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="GHC.Base.html#Applicative"><span class="hs-identifier hs-type">Applicative</span></a><span> </span><a href="#local-6989586621679020297"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020298"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020299"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020297"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679020298"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020297"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679020299"><span class="hs-identifier hs-type">b</span></a><span>
</span><a name="line-576"></a><a name="liftA"><a href="GHC.Base.html#liftA"><span class="hs-identifier">liftA</span></a></a><span> </span><a name="local-6989586621679020305"><a href="#local-6989586621679020305"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679020306"><a href="#local-6989586621679020306"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="#local-6989586621679020305"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a><span> </span><a href="#local-6989586621679020306"><span class="hs-identifier hs-var">a</span></a><span>
</span><a name="line-577"></a><span class="hs-comment">-- Caution: since this may be used for `fmap`, we can't use the obvious</span><span>
</span><a name="line-578"></a><span class="hs-comment">-- definition of liftA = fmap.</span><span>
</span><a name="line-579"></a><span>
</span><a name="line-580"></a><span class="hs-comment">-- | Lift a ternary function to actions.</span><span>
</span><a name="line-581"></a><span class="hs-identifier">liftA3</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="GHC.Base.html#Applicative"><span class="hs-identifier hs-type">Applicative</span></a><span> </span><a href="#local-6989586621679020292"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020293"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020294"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020295"><span class="hs-identifier hs-type">c</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020296"><span class="hs-identifier hs-type">d</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020292"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679020293"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020292"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679020294"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020292"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679020295"><span class="hs-identifier hs-type">c</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020292"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679020296"><span class="hs-identifier hs-type">d</span></a><span>
</span><a name="line-582"></a><a name="liftA3"><a href="GHC.Base.html#liftA3"><span class="hs-identifier">liftA3</span></a></a><span> </span><a name="local-6989586621679020307"><a href="#local-6989586621679020307"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679020308"><a href="#local-6989586621679020308"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-6989586621679020309"><a href="#local-6989586621679020309"><span class="hs-identifier">b</span></a></a><span> </span><a name="local-6989586621679020310"><a href="#local-6989586621679020310"><span class="hs-identifier">c</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Base.html#liftA2"><span class="hs-identifier hs-var">liftA2</span></a><span> </span><a href="#local-6989586621679020307"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679020308"><span class="hs-identifier hs-var">a</span></a><span> </span><a href="#local-6989586621679020309"><span class="hs-identifier hs-var">b</span></a><span> </span><a href="GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a><span> </span><a href="#local-6989586621679020310"><span class="hs-identifier hs-var">c</span></a><span>
</span><a name="line-583"></a><span>
</span><a name="line-584"></a><span>
</span><a name="line-585"></a><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="hs-pragma">liftA</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-586"></a><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="hs-pragma">liftA</span><span> </span><span class="hs-pragma">::</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">a1</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">r</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">IO</span><span> </span><span class="hs-pragma">a1</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">IO</span><span> </span><span class="hs-pragma">r</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-587"></a><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="hs-pragma">liftA</span><span> </span><span class="hs-pragma">::</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">a1</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">r</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">Maybe</span><span> </span><span class="hs-pragma">a1</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">Maybe</span><span> </span><span class="hs-pragma">r</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-588"></a><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="hs-pragma">liftA3</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-589"></a><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="hs-pragma">liftA3</span><span> </span><span class="hs-pragma">::</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">a1</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">a2</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">a3</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">r</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">IO</span><span> </span><span class="hs-pragma">a1</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">IO</span><span> </span><span class="hs-pragma">a2</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">IO</span><span> </span><span class="hs-pragma">a3</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">IO</span><span> </span><span class="hs-pragma">r</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-590"></a><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="hs-pragma">liftA3</span><span> </span><span class="hs-pragma">::</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">a1</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">a2</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">a3</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">r</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span>
</span><a name="line-591"></a><span>                                </span><span class="hs-pragma">Maybe</span><span> </span><span class="hs-pragma">a1</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">Maybe</span><span> </span><span class="hs-pragma">a2</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">Maybe</span><span> </span><span class="hs-pragma">a3</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">Maybe</span><span> </span><span class="hs-pragma">r</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-592"></a><span>
</span><a name="line-593"></a><span class="hs-comment">-- | The 'join' function is the conventional monad join operator. It</span><span>
</span><a name="line-594"></a><span class="hs-comment">-- is used to remove one level of monadic structure, projecting its</span><span>
</span><a name="line-595"></a><span class="hs-comment">-- bound argument into the outer level.</span><span>
</span><a name="line-596"></a><span class="hs-comment">--</span><span>
</span><a name="line-597"></a><span class="hs-comment">-- ==== __Examples__</span><span>
</span><a name="line-598"></a><span class="hs-comment">--</span><span>
</span><a name="line-599"></a><span class="hs-comment">-- A common use of 'join' is to run an 'IO' computation returned from</span><span>
</span><a name="line-600"></a><span class="hs-comment">-- an 'GHC.Conc.STM' transaction, since 'GHC.Conc.STM' transactions</span><span>
</span><a name="line-601"></a><span class="hs-comment">-- can't perform 'IO' directly. Recall that</span><span>
</span><a name="line-602"></a><span class="hs-comment">--</span><span>
</span><a name="line-603"></a><span class="hs-comment">-- @</span><span>
</span><a name="line-604"></a><span class="hs-comment">-- 'GHC.Conc.atomically' :: STM a -&gt; IO a</span><span>
</span><a name="line-605"></a><span class="hs-comment">-- @</span><span>
</span><a name="line-606"></a><span class="hs-comment">--</span><span>
</span><a name="line-607"></a><span class="hs-comment">-- is used to run 'GHC.Conc.STM' transactions atomically. So, by</span><span>
</span><a name="line-608"></a><span class="hs-comment">-- specializing the types of 'GHC.Conc.atomically' and 'join' to</span><span>
</span><a name="line-609"></a><span class="hs-comment">--</span><span>
</span><a name="line-610"></a><span class="hs-comment">-- @</span><span>
</span><a name="line-611"></a><span class="hs-comment">-- 'GHC.Conc.atomically' :: STM (IO b) -&gt; IO (IO b)</span><span>
</span><a name="line-612"></a><span class="hs-comment">-- 'join'       :: IO (IO b)  -&gt; IO b</span><span>
</span><a name="line-613"></a><span class="hs-comment">-- @</span><span>
</span><a name="line-614"></a><span class="hs-comment">--</span><span>
</span><a name="line-615"></a><span class="hs-comment">-- we can compose them as</span><span>
</span><a name="line-616"></a><span class="hs-comment">--</span><span>
</span><a name="line-617"></a><span class="hs-comment">-- @</span><span>
</span><a name="line-618"></a><span class="hs-comment">-- 'join' . 'GHC.Conc.atomically' :: STM (IO b) -&gt; IO b</span><span>
</span><a name="line-619"></a><span class="hs-comment">-- @</span><span>
</span><a name="line-620"></a><span class="hs-comment">--</span><span>
</span><a name="line-621"></a><span class="hs-comment">-- to run an 'GHC.Conc.STM' transaction and the 'IO' action it</span><span>
</span><a name="line-622"></a><span class="hs-comment">-- returns.</span><span>
</span><a name="line-623"></a><span class="hs-identifier">join</span><span>              </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#Monad"><span class="hs-identifier hs-type">Monad</span></a><span> </span><a href="#local-6989586621679020278"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-6989586621679020278"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020278"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679020279"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020278"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679020279"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-624"></a><a name="join"><a href="GHC.Base.html#join"><span class="hs-identifier">join</span></a></a><span> </span><a name="local-6989586621679020311"><a href="#local-6989586621679020311"><span class="hs-identifier">x</span></a></a><span>            </span><span class="hs-glyph">=</span><span>  </span><a href="#local-6989586621679020311"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a><span> </span><a href="GHC.Base.html#id"><span class="hs-identifier hs-var">id</span></a><span>
</span><a name="line-625"></a><span>
</span><a name="line-626"></a><span class="hs-comment">{- | The 'Monad' class defines the basic operations over a /monad/,
a concept from a branch of mathematics known as /category theory/.
From the perspective of a Haskell programmer, however, it is best to
think of a monad as an /abstract datatype/ of actions.
Haskell's @do@ expressions provide a convenient syntax for writing
monadic expressions.

Instances of 'Monad' should satisfy the following laws:

* @'return' a '&gt;&gt;=' k  =  k a@
* @m '&gt;&gt;=' 'return'  =  m@
* @m '&gt;&gt;=' (\\x -&gt; k x '&gt;&gt;=' h)  =  (m '&gt;&gt;=' k) '&gt;&gt;=' h@

Furthermore, the 'Monad' and 'Applicative' operations should relate as follows:

* @'pure' = 'return'@
* @('&lt;*&gt;') = 'ap'@

The above laws imply:

* @'fmap' f xs  =  xs '&gt;&gt;=' 'return' . f@
* @('&gt;&gt;') = ('*&gt;')@

and that 'pure' and ('&lt;*&gt;') satisfy the applicative functor laws.

The instances of 'Monad' for lists, 'Data.Maybe.Maybe' and 'System.IO.IO'
defined in the &quot;Prelude&quot; satisfy these laws.
-}</span><span>
</span><a name="line-654"></a><span class="hs-keyword">class</span><span> </span><a href="GHC.Base.html#Applicative"><span class="hs-identifier hs-type">Applicative</span></a><span> </span><a href="#local-6989586621679019929"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a name="Monad"><a href="GHC.Base.html#Monad"><span class="hs-identifier">Monad</span></a></a><span> </span><a name="local-6989586621679019929"><a href="#local-6989586621679019929"><span class="hs-identifier">m</span></a></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-655"></a><span>    </span><span class="hs-comment">-- | Sequentially compose two actions, passing any value produced</span><span>
</span><a name="line-656"></a><span>    </span><span class="hs-comment">-- by the first as an argument to the second.</span><span>
</span><a name="line-657"></a><span>    </span><span class="hs-special">(</span><a name="%3E%3E%3D"><a href="GHC.Base.html#%3E%3E%3D"><span class="hs-operator">&gt;&gt;=</span></a></a><span class="hs-special">)</span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679019930"><a href="#local-6989586621679019930"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-6989586621679019931"><a href="#local-6989586621679019931"><span class="hs-identifier">b</span></a></a><span class="hs-operator">.</span><span> </span><a href="#local-6989586621679019929"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679019930"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679019930"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019929"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679019931"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019929"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679019931"><span class="hs-identifier hs-type">b</span></a><span>
</span><a name="line-658"></a><span>
</span><a name="line-659"></a><span>    </span><span class="hs-comment">-- | Sequentially compose two actions, discarding any value produced</span><span>
</span><a name="line-660"></a><span>    </span><span class="hs-comment">-- by the first, like sequencing operators (such as the semicolon)</span><span>
</span><a name="line-661"></a><span>    </span><span class="hs-comment">-- in imperative languages.</span><span>
</span><a name="line-662"></a><span>    </span><span class="hs-special">(</span><a name="%3E%3E"><a href="GHC.Base.html#%3E%3E"><span class="hs-operator">&gt;&gt;</span></a></a><span class="hs-special">)</span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679019932"><a href="#local-6989586621679019932"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-6989586621679019933"><a href="#local-6989586621679019933"><span class="hs-identifier">b</span></a></a><span class="hs-operator">.</span><span> </span><a href="#local-6989586621679019929"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679019932"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019929"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679019933"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019929"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679019933"><span class="hs-identifier hs-type">b</span></a><span>
</span><a name="line-663"></a><span>    </span><a name="local-6989586621679019936"><a href="#local-6989586621679019936"><span class="hs-identifier">m</span></a></a><span> </span><a name="local-3458764513820541100"><a href="GHC.Base.html#%3E%3E"><span class="hs-operator">&gt;&gt;</span></a></a><span> </span><a name="local-6989586621679019937"><a href="#local-6989586621679019937"><span class="hs-identifier">k</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679019936"><span class="hs-identifier hs-var">m</span></a><span> </span><a href="GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019937"><span class="hs-identifier hs-var">k</span></a><span> </span><span class="hs-comment">-- See Note [Recursive bindings for Applicative/Monad]</span><span>
</span><a name="line-664"></a><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&gt;&gt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-665"></a><span>
</span><a name="line-666"></a><span>    </span><span class="hs-comment">-- | Inject a value into the monadic type.</span><span>
</span><a name="line-667"></a><span>    </span><a name="return"><a href="GHC.Base.html#return"><span class="hs-identifier">return</span></a></a><span>      </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679019934"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019929"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679019934"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-668"></a><span>    </span><a name="local-3458764513820541102"><a href="GHC.Base.html#return"><span class="hs-identifier">return</span></a></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span>
</span><a name="line-669"></a><span>
</span><a name="line-670"></a><span>    </span><span class="hs-comment">-- | Fail with a message.  This operation is not part of the</span><span>
</span><a name="line-671"></a><span>    </span><span class="hs-comment">-- mathematical definition of a monad, but is invoked on pattern-match</span><span>
</span><a name="line-672"></a><span>    </span><span class="hs-comment">-- failure in a @do@ expression.</span><span>
</span><a name="line-673"></a><span>    </span><span class="hs-comment">--</span><span>
</span><a name="line-674"></a><span>    </span><span class="hs-comment">-- As part of the MonadFail proposal (MFP), this function is moved</span><span>
</span><a name="line-675"></a><span>    </span><span class="hs-comment">-- to its own class 'Control.Monad.MonadFail' (see &quot;Control.Monad.Fail&quot; for</span><span>
</span><a name="line-676"></a><span>    </span><span class="hs-comment">-- more details). The definition here will be removed in a future</span><span>
</span><a name="line-677"></a><span>    </span><span class="hs-comment">-- release.</span><span>
</span><a name="line-678"></a><span>    </span><a name="fail"><a href="GHC.Base.html#fail"><span class="hs-identifier">fail</span></a></a><span>        </span><span class="hs-glyph">::</span><span> </span><a href="GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019929"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679019935"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-679"></a><span>    </span><a name="local-3458764513820541098"><a href="GHC.Base.html#fail"><span class="hs-identifier">fail</span></a></a><span> </span><a name="local-6989586621679019938"><a href="#local-6989586621679019938"><span class="hs-identifier">s</span></a></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Err.html#errorWithoutStackTrace"><span class="hs-identifier hs-var">errorWithoutStackTrace</span></a><span> </span><a href="#local-6989586621679019938"><span class="hs-identifier hs-var">s</span></a><span>
</span><a name="line-680"></a><span>
</span><a name="line-681"></a><span class="hs-comment">{- Note [Recursive bindings for Applicative/Monad]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The original Applicative/Monad proposal stated that after
implementation, the designated implementation of (&gt;&gt;) would become

  (&gt;&gt;) :: forall a b. m a -&gt; m b -&gt; m b
  (&gt;&gt;) = (*&gt;)

by default. You might be inclined to change this to reflect the stated
proposal, but you really shouldn't! Why? Because people tend to define
such instances the /other/ way around: in particular, it is perfectly
legitimate to define an instance of Applicative (*&gt;) in terms of (&gt;&gt;),
which would lead to an infinite loop for the default implementation of
Monad! And people do this in the wild.

This turned into a nasty bug that was tricky to track down, and rather
than eliminate it everywhere upstream, it's easier to just retain the
original default.

-}</span><span>
</span><a name="line-702"></a><span>
</span><a name="line-703"></a><span class="hs-comment">-- | Same as '&gt;&gt;=', but with the arguments interchanged.</span><span>
</span><a name="line-704"></a><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">=&lt;&lt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">::</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">a</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">[</span><span class="hs-pragma">b</span><span class="hs-pragma">]</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">[</span><span class="hs-pragma">a</span><span class="hs-pragma">]</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">[</span><span class="hs-pragma">b</span><span class="hs-pragma">]</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-705"></a><span class="hs-special">(</span><span class="hs-operator">=&lt;&lt;</span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">::</span><span> </span><a href="GHC.Base.html#Monad"><span class="hs-identifier hs-type">Monad</span></a><span> </span><a href="#local-6989586621679020273"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020274"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020273"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679020275"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020273"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679020274"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020273"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679020275"><span class="hs-identifier hs-type">b</span></a><span>
</span><a name="line-706"></a><a name="local-6989586621679020312"><a href="#local-6989586621679020312"><span class="hs-identifier">f</span></a></a><span> </span><a name="%3D%3C%3C"><a href="GHC.Base.html#%3D%3C%3C"><span class="hs-operator">=&lt;&lt;</span></a></a><span> </span><a name="local-6989586621679020313"><a href="#local-6989586621679020313"><span class="hs-identifier">x</span></a></a><span>         </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679020313"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a><span> </span><a href="#local-6989586621679020312"><span class="hs-identifier hs-var">f</span></a><span>
</span><a name="line-707"></a><span>
</span><a name="line-708"></a><span class="hs-comment">-- | Conditional execution of 'Applicative' expressions. For example,</span><span>
</span><a name="line-709"></a><span class="hs-comment">--</span><span>
</span><a name="line-710"></a><span class="hs-comment">-- &gt; when debug (putStrLn &quot;Debugging&quot;)</span><span>
</span><a name="line-711"></a><span class="hs-comment">--</span><span>
</span><a name="line-712"></a><span class="hs-comment">-- will output the string @Debugging@ if the Boolean value @debug@</span><span>
</span><a name="line-713"></a><span class="hs-comment">-- is 'True', and otherwise do nothing.</span><span>
</span><a name="line-714"></a><span class="hs-identifier">when</span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#Applicative"><span class="hs-identifier hs-type">Applicative</span></a><span> </span><a href="#local-6989586621679020272"><span class="hs-identifier hs-type">f</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020272"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020272"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-715"></a><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="hs-pragma">when</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-716"></a><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="hs-pragma">when</span><span> </span><span class="hs-pragma">::</span><span> </span><span class="hs-pragma">Bool</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">IO</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">IO</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-717"></a><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="hs-pragma">when</span><span> </span><span class="hs-pragma">::</span><span> </span><span class="hs-pragma">Bool</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">Maybe</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">Maybe</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-718"></a><a name="when"><a href="GHC.Base.html#when"><span class="hs-identifier">when</span></a></a><span> </span><a name="local-6989586621679020314"><a href="#local-6989586621679020314"><span class="hs-identifier">p</span></a></a><span> </span><a name="local-6989586621679020315"><a href="#local-6989586621679020315"><span class="hs-identifier">s</span></a></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><a href="#local-6989586621679020314"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-keyword">then</span><span> </span><a href="#local-6989586621679020315"><span class="hs-identifier hs-var">s</span></a><span> </span><span class="hs-keyword">else</span><span> </span><a href="GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-719"></a><span>
</span><a name="line-720"></a><span class="hs-comment">-- | Evaluate each action in the sequence from left to right,</span><span>
</span><a name="line-721"></a><span class="hs-comment">-- and collect the results.</span><span>
</span><a name="line-722"></a><span class="hs-identifier">sequence</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="GHC.Base.html#Monad"><span class="hs-identifier hs-type">Monad</span></a><span> </span><a href="#local-6989586621679020270"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679020270"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679020271"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020270"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">[</span><a href="#local-6989586621679020271"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span>
</span><a name="line-723"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">sequence</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-724"></a><a name="sequence"><a href="GHC.Base.html#sequence"><span class="hs-identifier">sequence</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Base.html#mapM"><span class="hs-identifier hs-var">mapM</span></a><span> </span><a href="GHC.Base.html#id"><span class="hs-identifier hs-var">id</span></a><span>
</span><a name="line-725"></a><span class="hs-comment">-- Note: [sequence and mapM]</span><span>
</span><a name="line-726"></a><span>
</span><a name="line-727"></a><span class="hs-comment">-- | @'mapM' f@ is equivalent to @'sequence' . 'map' f@.</span><span>
</span><a name="line-728"></a><span class="hs-identifier">mapM</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="GHC.Base.html#Monad"><span class="hs-identifier hs-type">Monad</span></a><span> </span><a href="#local-6989586621679020267"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020268"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020267"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679020269"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679020268"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020267"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">[</span><a href="#local-6989586621679020269"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">]</span><span>
</span><a name="line-729"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">mapM</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-730"></a><a name="mapM"><a href="GHC.Base.html#mapM"><span class="hs-identifier">mapM</span></a></a><span> </span><a name="local-6989586621679020316"><a href="#local-6989586621679020316"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Base.html#foldr"><span class="hs-identifier hs-var">foldr</span></a><span> </span><a href="#local-6989586621679020318"><span class="hs-identifier hs-var">k</span></a><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">as</span><span>
</span><a name="line-731"></a><span>            </span><span class="hs-keyword">where</span><span>
</span><a name="line-732"></a><span>              </span><a name="local-6989586621679020318"><a href="#local-6989586621679020318"><span class="hs-identifier">k</span></a></a><span> </span><a name="local-6989586621679020319"><a href="#local-6989586621679020319"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-6989586621679020320"><a href="#local-6989586621679020320"><span class="hs-identifier">r</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><a name="local-6989586621679020321"><a href="#local-6989586621679020321"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679020316"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679020319"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">;</span><span> </span><a name="local-6989586621679020322"><a href="#local-6989586621679020322"><span class="hs-identifier">xs</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679020320"><span class="hs-identifier hs-var">r</span></a><span class="hs-special">;</span><span> </span><a href="GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020321"><span class="hs-identifier hs-var">x</span></a><span class="hs-glyph">:</span><a href="#local-6989586621679020322"><span class="hs-identifier hs-var">xs</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><a name="line-733"></a><span>
</span><a name="line-734"></a><span class="hs-comment">{-
Note: [sequence and mapM]
~~~~~~~~~~~~~~~~~~~~~~~~~
Originally, we defined

mapM f = sequence . map f

This relied on list fusion to produce efficient code for mapM, and led to
excessive allocation in cryptarithm2. Defining

sequence = mapM id

relies only on inlining a tiny function (id) and beta reduction, which tends to
be a more reliable aspect of simplification. Indeed, this does not lead to
similar problems in nofib.
-}</span><span>
</span><a name="line-750"></a><span>
</span><a name="line-751"></a><span class="hs-comment">-- | Promote a function to a monad.</span><span>
</span><a name="line-752"></a><span class="hs-identifier">liftM</span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#Monad"><span class="hs-identifier hs-type">Monad</span></a><span> </span><a href="#local-6989586621679020264"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020265"><span class="hs-identifier hs-type">a1</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020266"><span class="hs-identifier hs-type">r</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020264"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679020265"><span class="hs-identifier hs-type">a1</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020264"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679020266"><span class="hs-identifier hs-type">r</span></a><span>
</span><a name="line-753"></a><a name="liftM"><a href="GHC.Base.html#liftM"><span class="hs-identifier">liftM</span></a></a><span> </span><a name="local-6989586621679020323"><a href="#local-6989586621679020323"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679020324"><a href="#local-6989586621679020324"><span class="hs-identifier">m1</span></a></a><span>              </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><a name="local-6989586621679020325"><a href="#local-6989586621679020325"><span class="hs-identifier">x1</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679020324"><span class="hs-identifier hs-var">m1</span></a><span class="hs-special">;</span><span> </span><a href="GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020323"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679020325"><span class="hs-identifier hs-var">x1</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><a name="line-754"></a><span>
</span><a name="line-755"></a><span class="hs-comment">-- | Promote a function to a monad, scanning the monadic arguments from</span><span>
</span><a name="line-756"></a><span class="hs-comment">-- left to right.  For example,</span><span>
</span><a name="line-757"></a><span class="hs-comment">--</span><span>
</span><a name="line-758"></a><span class="hs-comment">-- &gt; liftM2 (+) [0,1] [0,2] = [0,2,1,3]</span><span>
</span><a name="line-759"></a><span class="hs-comment">-- &gt; liftM2 (+) (Just 1) Nothing = Nothing</span><span>
</span><a name="line-760"></a><span class="hs-comment">--</span><span>
</span><a name="line-761"></a><span class="hs-identifier">liftM2</span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#Monad"><span class="hs-identifier hs-type">Monad</span></a><span> </span><a href="#local-6989586621679020260"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020261"><span class="hs-identifier hs-type">a1</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020262"><span class="hs-identifier hs-type">a2</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020263"><span class="hs-identifier hs-type">r</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020260"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679020261"><span class="hs-identifier hs-type">a1</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020260"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679020262"><span class="hs-identifier hs-type">a2</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020260"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679020263"><span class="hs-identifier hs-type">r</span></a><span>
</span><a name="line-762"></a><a name="liftM2"><a href="GHC.Base.html#liftM2"><span class="hs-identifier">liftM2</span></a></a><span> </span><a name="local-6989586621679020326"><a href="#local-6989586621679020326"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679020327"><a href="#local-6989586621679020327"><span class="hs-identifier">m1</span></a></a><span> </span><a name="local-6989586621679020328"><a href="#local-6989586621679020328"><span class="hs-identifier">m2</span></a></a><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><a name="local-6989586621679020329"><a href="#local-6989586621679020329"><span class="hs-identifier">x1</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679020327"><span class="hs-identifier hs-var">m1</span></a><span class="hs-special">;</span><span> </span><a name="local-6989586621679020330"><a href="#local-6989586621679020330"><span class="hs-identifier">x2</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679020328"><span class="hs-identifier hs-var">m2</span></a><span class="hs-special">;</span><span> </span><a href="GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020326"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679020329"><span class="hs-identifier hs-var">x1</span></a><span> </span><a href="#local-6989586621679020330"><span class="hs-identifier hs-var">x2</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><a name="line-763"></a><span class="hs-comment">-- Caution: since this may be used for `liftA2`, we can't use the obvious</span><span>
</span><a name="line-764"></a><span class="hs-comment">-- definition of liftM2 = liftA2.</span><span>
</span><a name="line-765"></a><span>
</span><a name="line-766"></a><span class="hs-comment">-- | Promote a function to a monad, scanning the monadic arguments from</span><span>
</span><a name="line-767"></a><span class="hs-comment">-- left to right (cf. 'liftM2').</span><span>
</span><a name="line-768"></a><span class="hs-identifier">liftM3</span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#Monad"><span class="hs-identifier hs-type">Monad</span></a><span> </span><a href="#local-6989586621679020255"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020256"><span class="hs-identifier hs-type">a1</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020257"><span class="hs-identifier hs-type">a2</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020258"><span class="hs-identifier hs-type">a3</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020259"><span class="hs-identifier hs-type">r</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020255"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679020256"><span class="hs-identifier hs-type">a1</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020255"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679020257"><span class="hs-identifier hs-type">a2</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020255"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679020258"><span class="hs-identifier hs-type">a3</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020255"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679020259"><span class="hs-identifier hs-type">r</span></a><span>
</span><a name="line-769"></a><a name="liftM3"><a href="GHC.Base.html#liftM3"><span class="hs-identifier">liftM3</span></a></a><span> </span><a name="local-6989586621679020331"><a href="#local-6989586621679020331"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679020332"><a href="#local-6989586621679020332"><span class="hs-identifier">m1</span></a></a><span> </span><a name="local-6989586621679020333"><a href="#local-6989586621679020333"><span class="hs-identifier">m2</span></a></a><span> </span><a name="local-6989586621679020334"><a href="#local-6989586621679020334"><span class="hs-identifier">m3</span></a></a><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><a name="local-6989586621679020335"><a href="#local-6989586621679020335"><span class="hs-identifier">x1</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679020332"><span class="hs-identifier hs-var">m1</span></a><span class="hs-special">;</span><span> </span><a name="local-6989586621679020336"><a href="#local-6989586621679020336"><span class="hs-identifier">x2</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679020333"><span class="hs-identifier hs-var">m2</span></a><span class="hs-special">;</span><span> </span><a name="local-6989586621679020337"><a href="#local-6989586621679020337"><span class="hs-identifier">x3</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679020334"><span class="hs-identifier hs-var">m3</span></a><span class="hs-special">;</span><span> </span><a href="GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020331"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679020335"><span class="hs-identifier hs-var">x1</span></a><span> </span><a href="#local-6989586621679020336"><span class="hs-identifier hs-var">x2</span></a><span> </span><a href="#local-6989586621679020337"><span class="hs-identifier hs-var">x3</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><a name="line-770"></a><span>
</span><a name="line-771"></a><span class="hs-comment">-- | Promote a function to a monad, scanning the monadic arguments from</span><span>
</span><a name="line-772"></a><span class="hs-comment">-- left to right (cf. 'liftM2').</span><span>
</span><a name="line-773"></a><span class="hs-identifier">liftM4</span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#Monad"><span class="hs-identifier hs-type">Monad</span></a><span> </span><a href="#local-6989586621679020249"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020250"><span class="hs-identifier hs-type">a1</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020251"><span class="hs-identifier hs-type">a2</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020252"><span class="hs-identifier hs-type">a3</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020253"><span class="hs-identifier hs-type">a4</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020254"><span class="hs-identifier hs-type">r</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020249"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679020250"><span class="hs-identifier hs-type">a1</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020249"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679020251"><span class="hs-identifier hs-type">a2</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020249"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679020252"><span class="hs-identifier hs-type">a3</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020249"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679020253"><span class="hs-identifier hs-type">a4</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020249"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679020254"><span class="hs-identifier hs-type">r</span></a><span>
</span><a name="line-774"></a><a name="liftM4"><a href="GHC.Base.html#liftM4"><span class="hs-identifier">liftM4</span></a></a><span> </span><a name="local-6989586621679020338"><a href="#local-6989586621679020338"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679020339"><a href="#local-6989586621679020339"><span class="hs-identifier">m1</span></a></a><span> </span><a name="local-6989586621679020340"><a href="#local-6989586621679020340"><span class="hs-identifier">m2</span></a></a><span> </span><a name="local-6989586621679020341"><a href="#local-6989586621679020341"><span class="hs-identifier">m3</span></a></a><span> </span><a name="local-6989586621679020342"><a href="#local-6989586621679020342"><span class="hs-identifier">m4</span></a></a><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><a name="local-6989586621679020343"><a href="#local-6989586621679020343"><span class="hs-identifier">x1</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679020339"><span class="hs-identifier hs-var">m1</span></a><span class="hs-special">;</span><span> </span><a name="local-6989586621679020344"><a href="#local-6989586621679020344"><span class="hs-identifier">x2</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679020340"><span class="hs-identifier hs-var">m2</span></a><span class="hs-special">;</span><span> </span><a name="local-6989586621679020345"><a href="#local-6989586621679020345"><span class="hs-identifier">x3</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679020341"><span class="hs-identifier hs-var">m3</span></a><span class="hs-special">;</span><span> </span><a name="local-6989586621679020346"><a href="#local-6989586621679020346"><span class="hs-identifier">x4</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679020342"><span class="hs-identifier hs-var">m4</span></a><span class="hs-special">;</span><span> </span><a href="GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020338"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679020343"><span class="hs-identifier hs-var">x1</span></a><span> </span><a href="#local-6989586621679020344"><span class="hs-identifier hs-var">x2</span></a><span> </span><a href="#local-6989586621679020345"><span class="hs-identifier hs-var">x3</span></a><span> </span><a href="#local-6989586621679020346"><span class="hs-identifier hs-var">x4</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><a name="line-775"></a><span>
</span><a name="line-776"></a><span class="hs-comment">-- | Promote a function to a monad, scanning the monadic arguments from</span><span>
</span><a name="line-777"></a><span class="hs-comment">-- left to right (cf. 'liftM2').</span><span>
</span><a name="line-778"></a><span class="hs-identifier">liftM5</span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#Monad"><span class="hs-identifier hs-type">Monad</span></a><span> </span><a href="#local-6989586621679020242"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020243"><span class="hs-identifier hs-type">a1</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020244"><span class="hs-identifier hs-type">a2</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020245"><span class="hs-identifier hs-type">a3</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020246"><span class="hs-identifier hs-type">a4</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020247"><span class="hs-identifier hs-type">a5</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020248"><span class="hs-identifier hs-type">r</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020242"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679020243"><span class="hs-identifier hs-type">a1</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020242"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679020244"><span class="hs-identifier hs-type">a2</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020242"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679020245"><span class="hs-identifier hs-type">a3</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020242"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679020246"><span class="hs-identifier hs-type">a4</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020242"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679020247"><span class="hs-identifier hs-type">a5</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020242"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679020248"><span class="hs-identifier hs-type">r</span></a><span>
</span><a name="line-779"></a><a name="liftM5"><a href="GHC.Base.html#liftM5"><span class="hs-identifier">liftM5</span></a></a><span> </span><a name="local-6989586621679020347"><a href="#local-6989586621679020347"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679020348"><a href="#local-6989586621679020348"><span class="hs-identifier">m1</span></a></a><span> </span><a name="local-6989586621679020349"><a href="#local-6989586621679020349"><span class="hs-identifier">m2</span></a></a><span> </span><a name="local-6989586621679020350"><a href="#local-6989586621679020350"><span class="hs-identifier">m3</span></a></a><span> </span><a name="local-6989586621679020351"><a href="#local-6989586621679020351"><span class="hs-identifier">m4</span></a></a><span> </span><a name="local-6989586621679020352"><a href="#local-6989586621679020352"><span class="hs-identifier">m5</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><a name="local-6989586621679020353"><a href="#local-6989586621679020353"><span class="hs-identifier">x1</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679020348"><span class="hs-identifier hs-var">m1</span></a><span class="hs-special">;</span><span> </span><a name="local-6989586621679020354"><a href="#local-6989586621679020354"><span class="hs-identifier">x2</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679020349"><span class="hs-identifier hs-var">m2</span></a><span class="hs-special">;</span><span> </span><a name="local-6989586621679020355"><a href="#local-6989586621679020355"><span class="hs-identifier">x3</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679020350"><span class="hs-identifier hs-var">m3</span></a><span class="hs-special">;</span><span> </span><a name="local-6989586621679020356"><a href="#local-6989586621679020356"><span class="hs-identifier">x4</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679020351"><span class="hs-identifier hs-var">m4</span></a><span class="hs-special">;</span><span> </span><a name="local-6989586621679020357"><a href="#local-6989586621679020357"><span class="hs-identifier">x5</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679020352"><span class="hs-identifier hs-var">m5</span></a><span class="hs-special">;</span><span> </span><a href="GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020347"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679020353"><span class="hs-identifier hs-var">x1</span></a><span> </span><a href="#local-6989586621679020354"><span class="hs-identifier hs-var">x2</span></a><span> </span><a href="#local-6989586621679020355"><span class="hs-identifier hs-var">x3</span></a><span> </span><a href="#local-6989586621679020356"><span class="hs-identifier hs-var">x4</span></a><span> </span><a href="#local-6989586621679020357"><span class="hs-identifier hs-var">x5</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><a name="line-780"></a><span>
</span><a name="line-781"></a><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="hs-pragma">liftM</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-782"></a><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="hs-pragma">liftM</span><span> </span><span class="hs-pragma">::</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">a1</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">r</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">IO</span><span> </span><span class="hs-pragma">a1</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">IO</span><span> </span><span class="hs-pragma">r</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-783"></a><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="hs-pragma">liftM</span><span> </span><span class="hs-pragma">::</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">a1</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">r</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">Maybe</span><span> </span><span class="hs-pragma">a1</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">Maybe</span><span> </span><span class="hs-pragma">r</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-784"></a><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="hs-pragma">liftM2</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-785"></a><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="hs-pragma">liftM2</span><span> </span><span class="hs-pragma">::</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">a1</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">a2</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">r</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">IO</span><span> </span><span class="hs-pragma">a1</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">IO</span><span> </span><span class="hs-pragma">a2</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">IO</span><span> </span><span class="hs-pragma">r</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-786"></a><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="hs-pragma">liftM2</span><span> </span><span class="hs-pragma">::</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">a1</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">a2</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">r</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">Maybe</span><span> </span><span class="hs-pragma">a1</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">Maybe</span><span> </span><span class="hs-pragma">a2</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">Maybe</span><span> </span><span class="hs-pragma">r</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-787"></a><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="hs-pragma">liftM3</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-788"></a><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="hs-pragma">liftM3</span><span> </span><span class="hs-pragma">::</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">a1</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">a2</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">a3</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">r</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">IO</span><span> </span><span class="hs-pragma">a1</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">IO</span><span> </span><span class="hs-pragma">a2</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">IO</span><span> </span><span class="hs-pragma">a3</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">IO</span><span> </span><span class="hs-pragma">r</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-789"></a><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="hs-pragma">liftM3</span><span> </span><span class="hs-pragma">::</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">a1</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">a2</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">a3</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">r</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">Maybe</span><span> </span><span class="hs-pragma">a1</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">Maybe</span><span> </span><span class="hs-pragma">a2</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">Maybe</span><span> </span><span class="hs-pragma">a3</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">Maybe</span><span> </span><span class="hs-pragma">r</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-790"></a><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="hs-pragma">liftM4</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-791"></a><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="hs-pragma">liftM4</span><span> </span><span class="hs-pragma">::</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">a1</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">a2</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">a3</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">a4</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">r</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">IO</span><span> </span><span class="hs-pragma">a1</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">IO</span><span> </span><span class="hs-pragma">a2</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">IO</span><span> </span><span class="hs-pragma">a3</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">IO</span><span> </span><span class="hs-pragma">a4</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">IO</span><span> </span><span class="hs-pragma">r</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-792"></a><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="hs-pragma">liftM4</span><span> </span><span class="hs-pragma">::</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">a1</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">a2</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">a3</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">a4</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">r</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">Maybe</span><span> </span><span class="hs-pragma">a1</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">Maybe</span><span> </span><span class="hs-pragma">a2</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">Maybe</span><span> </span><span class="hs-pragma">a3</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">Maybe</span><span> </span><span class="hs-pragma">a4</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">Maybe</span><span> </span><span class="hs-pragma">r</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-793"></a><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="hs-pragma">liftM5</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-794"></a><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="hs-pragma">liftM5</span><span> </span><span class="hs-pragma">::</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">a1</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">a2</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">a3</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">a4</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">a5</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">r</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">IO</span><span> </span><span class="hs-pragma">a1</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">IO</span><span> </span><span class="hs-pragma">a2</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">IO</span><span> </span><span class="hs-pragma">a3</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">IO</span><span> </span><span class="hs-pragma">a4</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">IO</span><span> </span><span class="hs-pragma">a5</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">IO</span><span> </span><span class="hs-pragma">r</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-795"></a><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="hs-pragma">liftM5</span><span> </span><span class="hs-pragma">::</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">a1</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">a2</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">a3</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">a4</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">a5</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">r</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">Maybe</span><span> </span><span class="hs-pragma">a1</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">Maybe</span><span> </span><span class="hs-pragma">a2</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">Maybe</span><span> </span><span class="hs-pragma">a3</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">Maybe</span><span> </span><span class="hs-pragma">a4</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">Maybe</span><span> </span><span class="hs-pragma">a5</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">Maybe</span><span> </span><span class="hs-pragma">r</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-796"></a><span>
</span><a name="line-797"></a><span class="hs-comment">{- | In many situations, the 'liftM' operations can be replaced by uses of
'ap', which promotes function application.

&gt; return f `ap` x1 `ap` ... `ap` xn

is equivalent to

&gt; liftMn f x1 x2 ... xn

-}</span><span>
</span><a name="line-807"></a><span>
</span><a name="line-808"></a><span class="hs-identifier">ap</span><span>                </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#Monad"><span class="hs-identifier hs-type">Monad</span></a><span> </span><a href="#local-6989586621679020199"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-6989586621679020199"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020200"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020201"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020199"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679020200"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020199"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679020201"><span class="hs-identifier hs-type">b</span></a><span>
</span><a name="line-809"></a><a name="ap"><a href="GHC.Base.html#ap"><span class="hs-identifier">ap</span></a></a><span> </span><a name="local-6989586621679020358"><a href="#local-6989586621679020358"><span class="hs-identifier">m1</span></a></a><span> </span><a name="local-6989586621679020359"><a href="#local-6989586621679020359"><span class="hs-identifier">m2</span></a></a><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><a name="local-6989586621679020360"><a href="#local-6989586621679020360"><span class="hs-identifier">x1</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679020358"><span class="hs-identifier hs-var">m1</span></a><span class="hs-special">;</span><span> </span><a name="local-6989586621679020361"><a href="#local-6989586621679020361"><span class="hs-identifier">x2</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679020359"><span class="hs-identifier hs-var">m2</span></a><span class="hs-special">;</span><span> </span><a href="GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020360"><span class="hs-identifier hs-var">x1</span></a><span> </span><a href="#local-6989586621679020361"><span class="hs-identifier hs-var">x2</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><a name="line-810"></a><span class="hs-comment">-- Since many Applicative instances define (&lt;*&gt;) = ap, we</span><span>
</span><a name="line-811"></a><span class="hs-comment">-- cannot define ap = (&lt;*&gt;)</span><span>
</span><a name="line-812"></a><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="hs-pragma">ap</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-813"></a><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="hs-pragma">ap</span><span> </span><span class="hs-pragma">::</span><span> </span><span class="hs-pragma">IO</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">a</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">b</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">IO</span><span> </span><span class="hs-pragma">a</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">IO</span><span> </span><span class="hs-pragma">b</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-814"></a><span class="hs-pragma">{-# SPECIALISE</span><span> </span><span class="hs-pragma">ap</span><span> </span><span class="hs-pragma">::</span><span> </span><span class="hs-pragma">Maybe</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">a</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">b</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">Maybe</span><span> </span><span class="hs-pragma">a</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">Maybe</span><span> </span><span class="hs-pragma">b</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-815"></a><span>
</span><a name="line-816"></a><span class="hs-comment">-- instances for Prelude types</span><span>
</span><a name="line-817"></a><span>
</span><a name="line-818"></a><span class="hs-comment">-- | @since 2.01</span><span>
</span><a name="line-819"></a><span class="hs-keyword">instance</span><span> </span><a href="GHC.Base.html#Functor"><span class="hs-identifier hs-type">Functor</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679020035"><span class="hs-identifier hs-type">r</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-820"></a><span>    </span><a name="local-3458764513820541101"><a href="GHC.Base.html#fmap"><span class="hs-identifier">fmap</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><span class="hs-special">)</span><span>
</span><a name="line-821"></a><span>
</span><a name="line-822"></a><span class="hs-comment">-- | @since 2.01</span><span>
</span><a name="line-823"></a><span class="hs-keyword">instance</span><span> </span><a href="GHC.Base.html#Applicative"><span class="hs-identifier hs-type">Applicative</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679020027"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-824"></a><span>    </span><a name="local-3458764513820541680"><a href="GHC.Base.html#pure"><span class="hs-identifier">pure</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a><span>
</span><a name="line-825"></a><span>    </span><span class="hs-special">(</span><a name="local-3458764513820541679"><a href="GHC.Base.html#%3C%2A%3E"><span class="hs-operator">&lt;*&gt;</span></a></a><span class="hs-special">)</span><span> </span><a name="local-6989586621679020028"><a href="#local-6989586621679020028"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679020029"><a href="#local-6989586621679020029"><span class="hs-identifier">g</span></a></a><span> </span><a name="local-6989586621679020030"><a href="#local-6989586621679020030"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679020028"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679020030"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020029"><span class="hs-identifier hs-var">g</span></a><span> </span><a href="#local-6989586621679020030"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span>
</span><a name="line-826"></a><span>    </span><a name="local-8214565720323794780"><a href="GHC.Base.html#liftA2"><span class="hs-identifier">liftA2</span></a></a><span> </span><a name="local-6989586621679020031"><a href="#local-6989586621679020031"><span class="hs-identifier">q</span></a></a><span> </span><a name="local-6989586621679020032"><a href="#local-6989586621679020032"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679020033"><a href="#local-6989586621679020033"><span class="hs-identifier">g</span></a></a><span> </span><a name="local-6989586621679020034"><a href="#local-6989586621679020034"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679020031"><span class="hs-identifier hs-var">q</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020032"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679020034"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020033"><span class="hs-identifier hs-var">g</span></a><span> </span><a href="#local-6989586621679020034"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span>
</span><a name="line-827"></a><span>
</span><a name="line-828"></a><span class="hs-comment">-- | @since 2.01</span><span>
</span><a name="line-829"></a><span class="hs-keyword">instance</span><span> </span><a href="GHC.Base.html#Monad"><span class="hs-identifier hs-type">Monad</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679020023"><span class="hs-identifier hs-type">r</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-830"></a><span>    </span><a name="local-6989586621679020024"><a href="#local-6989586621679020024"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-3458764513820541099"><a href="GHC.Base.html#%3E%3E%3D"><span class="hs-operator">&gt;&gt;=</span></a></a><span> </span><a name="local-6989586621679020025"><a href="#local-6989586621679020025"><span class="hs-identifier">k</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span> </span><a name="local-6989586621679020026"><a href="#local-6989586621679020026"><span class="hs-identifier">r</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020025"><span class="hs-identifier hs-var">k</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020024"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679020026"><span class="hs-identifier hs-var">r</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679020026"><span class="hs-identifier hs-var">r</span></a><span>
</span><a name="line-831"></a><span>
</span><a name="line-832"></a><span class="hs-comment">-- | @since 2.01</span><span>
</span><a name="line-833"></a><span class="hs-keyword">instance</span><span> </span><a href="GHC.Base.html#Functor"><span class="hs-identifier hs-type">Functor</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679020019"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-834"></a><span>    </span><a name="local-3458764513820541101"><a href="GHC.Base.html#fmap"><span class="hs-identifier">fmap</span></a></a><span> </span><a name="local-6989586621679020020"><a href="#local-6989586621679020020"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679020021"><a href="#local-6989586621679020021"><span class="hs-identifier">x</span></a></a><span class="hs-special">,</span><a name="local-6989586621679020022"><a href="#local-6989586621679020022"><span class="hs-identifier">y</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020021"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679020020"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679020022"><span class="hs-identifier hs-var">y</span></a><span class="hs-special">)</span><span>
</span><a name="line-835"></a><span>
</span><a name="line-836"></a><span class="hs-comment">-- | @since 2.01</span><span>
</span><a name="line-837"></a><span class="hs-keyword">instance</span><span>  </span><a href="GHC.Base.html#Functor"><span class="hs-identifier hs-type">Functor</span></a><span> </span><a href="GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-838"></a><span>    </span><a name="local-3458764513820541101"><a href="GHC.Base.html#fmap"><span class="hs-identifier">fmap</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><a href="GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span>       </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span>
</span><a name="line-839"></a><span>    </span><span class="hs-identifier">fmap</span><span> </span><a name="local-6989586621679020017"><a href="#local-6989586621679020017"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-special">(</span><a href="GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><a name="local-6989586621679020018"><a href="#local-6989586621679020018"><span class="hs-identifier">a</span></a></a><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020017"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679020018"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-840"></a><span>
</span><a name="line-841"></a><span class="hs-comment">-- | @since 2.01</span><span>
</span><a name="line-842"></a><span class="hs-keyword">instance</span><span> </span><a href="GHC.Base.html#Applicative"><span class="hs-identifier hs-type">Applicative</span></a><span> </span><a href="GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-843"></a><span>    </span><a name="local-3458764513820541680"><a href="GHC.Base.html#pure"><span class="hs-identifier">pure</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span>
</span><a name="line-844"></a><span>
</span><a name="line-845"></a><span>    </span><a href="GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><a name="local-6989586621679020008"><a href="#local-6989586621679020008"><span class="hs-identifier">f</span></a></a><span>  </span><a name="local-3458764513820541679"><a href="GHC.Base.html#%3C%2A%3E"><span class="hs-operator">&lt;*&gt;</span></a></a><span> </span><a name="local-6989586621679020009"><a href="#local-6989586621679020009"><span class="hs-identifier">m</span></a></a><span>       </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a><span> </span><a href="#local-6989586621679020008"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679020009"><span class="hs-identifier hs-var">m</span></a><span>
</span><a name="line-846"></a><span>    </span><a href="GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span> </span><span class="hs-operator">&lt;*&gt;</span><span> </span><a name="local-6989586621679020010"><a href="#local-6989586621679020010"><span class="hs-identifier">_m</span></a></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span>
</span><a name="line-847"></a><span>
</span><a name="line-848"></a><span>    </span><a name="local-8214565720323794780"><a href="GHC.Base.html#liftA2"><span class="hs-identifier">liftA2</span></a></a><span> </span><a name="local-6989586621679020011"><a href="#local-6989586621679020011"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-special">(</span><a href="GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><a name="local-6989586621679020012"><a href="#local-6989586621679020012"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><a name="local-6989586621679020013"><a href="#local-6989586621679020013"><span class="hs-identifier">y</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020011"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679020012"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="#local-6989586621679020013"><span class="hs-identifier hs-var">y</span></a><span class="hs-special">)</span><span>
</span><a name="line-849"></a><span>    </span><span class="hs-identifier">liftA2</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span>
</span><a name="line-850"></a><span>
</span><a name="line-851"></a><span>    </span><a href="GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><a name="local-6989586621679020014"><a href="#local-6989586621679020014"><span class="hs-identifier">_m1</span></a></a><span> </span><a name="local-3458764513820541681"><a href="GHC.Base.html#%2A%3E"><span class="hs-operator">*&gt;</span></a></a><span> </span><a name="local-6989586621679020015"><a href="#local-6989586621679020015"><span class="hs-identifier">m2</span></a></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679020015"><span class="hs-identifier hs-var">m2</span></a><span>
</span><a name="line-852"></a><span>    </span><a href="GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span>  </span><span class="hs-operator">*&gt;</span><span> </span><a name="local-6989586621679020016"><a href="#local-6989586621679020016"><span class="hs-identifier">_m2</span></a></a><span>     </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span>
</span><a name="line-853"></a><span>
</span><a name="line-854"></a><span class="hs-comment">-- | @since 2.01</span><span>
</span><a name="line-855"></a><span class="hs-keyword">instance</span><span>  </span><a href="GHC.Base.html#Monad"><span class="hs-identifier hs-type">Monad</span></a><span> </span><a href="GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-856"></a><span>    </span><span class="hs-special">(</span><a href="GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><a name="local-6989586621679020006"><a href="#local-6989586621679020006"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><a name="local-3458764513820541099"><a href="GHC.Base.html#%3E%3E%3D"><span class="hs-operator">&gt;&gt;=</span></a></a><span> </span><a name="local-6989586621679020007"><a href="#local-6989586621679020007"><span class="hs-identifier">k</span></a></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679020007"><span class="hs-identifier hs-var">k</span></a><span> </span><a href="#local-6989586621679020006"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-857"></a><span>    </span><a href="GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span>  </span><span class="hs-operator">&gt;&gt;=</span><span> </span><span class="hs-identifier">_</span><span>      </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span>
</span><a name="line-858"></a><span>
</span><a name="line-859"></a><span>    </span><span class="hs-special">(</span><a name="local-3458764513820541100"><a href="GHC.Base.html#%3E%3E"><span class="hs-operator">&gt;&gt;</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#%2A%3E"><span class="hs-operator hs-var">*&gt;</span></a><span class="hs-special">)</span><span>
</span><a name="line-860"></a><span>
</span><a name="line-861"></a><span>    </span><a name="local-3458764513820541098"><a href="GHC.Base.html#fail"><span class="hs-identifier">fail</span></a></a><span> </span><span class="hs-identifier">_</span><span>              </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span>
</span><a name="line-862"></a><span>
</span><a name="line-863"></a><span class="hs-comment">-- -----------------------------------------------------------------------------</span><span>
</span><a name="line-864"></a><span class="hs-comment">-- The Alternative class definition</span><span>
</span><a name="line-865"></a><span>
</span><a name="line-866"></a><span class="hs-keyword">infixl</span><span> </span><span class="hs-number">3</span><span> </span><a href="GHC.Base.html#%3C%7C%3E"><span class="hs-operator hs-var">&lt;|&gt;</span></a><span>
</span><a name="line-867"></a><span>
</span><a name="line-868"></a><span class="hs-comment">-- | A monoid on applicative functors.</span><span>
</span><a name="line-869"></a><span class="hs-comment">--</span><span>
</span><a name="line-870"></a><span class="hs-comment">-- If defined, 'some' and 'many' should be the least solutions</span><span>
</span><a name="line-871"></a><span class="hs-comment">-- of the equations:</span><span>
</span><a name="line-872"></a><span class="hs-comment">--</span><span>
</span><a name="line-873"></a><span class="hs-comment">-- * @'some' v = (:) 'Prelude.&lt;$&gt;' v '&lt;*&gt;' 'many' v@</span><span>
</span><a name="line-874"></a><span class="hs-comment">--</span><span>
</span><a name="line-875"></a><span class="hs-comment">-- * @'many' v = 'some' v '&lt;|&gt;' 'pure' []@</span><span>
</span><a name="line-876"></a><span class="hs-keyword">class</span><span> </span><a href="GHC.Base.html#Applicative"><span class="hs-identifier hs-type">Applicative</span></a><span> </span><a href="#local-6989586621679019918"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a name="Alternative"><a href="GHC.Base.html#Alternative"><span class="hs-identifier">Alternative</span></a></a><span> </span><a name="local-6989586621679019918"><a href="#local-6989586621679019918"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-877"></a><span>    </span><span class="hs-comment">-- | The identity of '&lt;|&gt;'</span><span>
</span><a name="line-878"></a><span>    </span><a name="empty"><a href="GHC.Base.html#empty"><span class="hs-identifier">empty</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679019918"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679019919"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-879"></a><span>    </span><span class="hs-comment">-- | An associative binary operation</span><span>
</span><a name="line-880"></a><span>    </span><span class="hs-special">(</span><a name="%3C%7C%3E"><a href="GHC.Base.html#%3C%7C%3E"><span class="hs-operator">&lt;|&gt;</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679019918"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679019920"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019918"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679019920"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019918"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679019920"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-881"></a><span>
</span><a name="line-882"></a><span>    </span><span class="hs-comment">-- | One or more.</span><span>
</span><a name="line-883"></a><span>    </span><a name="some"><a href="GHC.Base.html#some"><span class="hs-identifier">some</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679019918"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679019921"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019918"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">[</span><a href="#local-6989586621679019921"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span>
</span><a name="line-884"></a><span>    </span><a name="local-8214565720323794778"><a href="GHC.Base.html#some"><span class="hs-identifier">some</span></a></a><span> </span><a name="local-6989586621679019923"><a href="#local-6989586621679019923"><span class="hs-identifier">v</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679019925"><span class="hs-identifier hs-var">some_v</span></a><span>
</span><a name="line-885"></a><span>      </span><span class="hs-keyword">where</span><span>
</span><a name="line-886"></a><span>        </span><a name="local-6989586621679019924"><a href="#local-6989586621679019924"><span class="hs-identifier">many_v</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679019925"><span class="hs-identifier hs-var">some_v</span></a><span> </span><a href="GHC.Base.html#%3C%7C%3E"><span class="hs-operator hs-var">&lt;|&gt;</span></a><span> </span><a href="GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-887"></a><span>        </span><a name="local-6989586621679019925"><a href="#local-6989586621679019925"><span class="hs-identifier">some_v</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Base.html#liftA2"><span class="hs-identifier hs-var">liftA2</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">:</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679019923"><span class="hs-identifier hs-var">v</span></a><span> </span><a href="#local-6989586621679019924"><span class="hs-identifier hs-var">many_v</span></a><span>
</span><a name="line-888"></a><span>
</span><a name="line-889"></a><span>    </span><span class="hs-comment">-- | Zero or more.</span><span>
</span><a name="line-890"></a><span>    </span><a name="many"><a href="GHC.Base.html#many"><span class="hs-identifier">many</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679019918"><span class="hs-identifier hs-type">f</span></a><span> </span><a href="#local-6989586621679019922"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019918"><span class="hs-identifier hs-type">f</span></a><span> </span><span class="hs-special">[</span><a href="#local-6989586621679019922"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span>
</span><a name="line-891"></a><span>    </span><a name="local-8214565720323794779"><a href="GHC.Base.html#many"><span class="hs-identifier">many</span></a></a><span> </span><a name="local-6989586621679019926"><a href="#local-6989586621679019926"><span class="hs-identifier">v</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679019927"><span class="hs-identifier hs-var">many_v</span></a><span>
</span><a name="line-892"></a><span>      </span><span class="hs-keyword">where</span><span>
</span><a name="line-893"></a><span>        </span><a name="local-6989586621679019927"><a href="#local-6989586621679019927"><span class="hs-identifier">many_v</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679019928"><span class="hs-identifier hs-var">some_v</span></a><span> </span><a href="GHC.Base.html#%3C%7C%3E"><span class="hs-operator hs-var">&lt;|&gt;</span></a><span> </span><a href="GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-894"></a><span>        </span><a name="local-6989586621679019928"><a href="#local-6989586621679019928"><span class="hs-identifier">some_v</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Base.html#liftA2"><span class="hs-identifier hs-var">liftA2</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">:</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679019926"><span class="hs-identifier hs-var">v</span></a><span> </span><a href="#local-6989586621679019927"><span class="hs-identifier hs-var">many_v</span></a><span>
</span><a name="line-895"></a><span>
</span><a name="line-896"></a><span>
</span><a name="line-897"></a><span class="hs-comment">-- | @since 2.01</span><span>
</span><a name="line-898"></a><span class="hs-keyword">instance</span><span> </span><a href="GHC.Base.html#Alternative"><span class="hs-identifier hs-type">Alternative</span></a><span> </span><a href="GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-899"></a><span>    </span><a name="local-8214565720323794776"><a href="GHC.Base.html#empty"><span class="hs-identifier">empty</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span>
</span><a name="line-900"></a><span>    </span><a href="GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span> </span><a name="local-8214565720323794777"><a href="GHC.Base.html#%3C%7C%3E"><span class="hs-operator">&lt;|&gt;</span></a></a><span> </span><a name="local-6989586621679020004"><a href="#local-6989586621679020004"><span class="hs-identifier">r</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679020004"><span class="hs-identifier hs-var">r</span></a><span>
</span><a name="line-901"></a><span>    </span><a name="local-6989586621679020005"><a href="#local-6989586621679020005"><span class="hs-identifier">l</span></a></a><span>       </span><span class="hs-operator">&lt;|&gt;</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679020005"><span class="hs-identifier hs-var">l</span></a><span>
</span><a name="line-902"></a><span>
</span><a name="line-903"></a><span class="hs-comment">-- -----------------------------------------------------------------------------</span><span>
</span><a name="line-904"></a><span class="hs-comment">-- The MonadPlus class definition</span><span>
</span><a name="line-905"></a><span>
</span><a name="line-906"></a><span class="hs-comment">-- | Monads that also support choice and failure.</span><span>
</span><a name="line-907"></a><span class="hs-keyword">class</span><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#Alternative"><span class="hs-identifier hs-type">Alternative</span></a><span> </span><a href="#local-6989586621679019915"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#Monad"><span class="hs-identifier hs-type">Monad</span></a><span> </span><a href="#local-6989586621679019915"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a name="MonadPlus"><a href="GHC.Base.html#MonadPlus"><span class="hs-identifier">MonadPlus</span></a></a><span> </span><a name="local-6989586621679019915"><a href="#local-6989586621679019915"><span class="hs-identifier">m</span></a></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-908"></a><span>   </span><span class="hs-comment">-- | The identity of 'mplus'.  It should also satisfy the equations</span><span>
</span><a name="line-909"></a><span>   </span><span class="hs-comment">--</span><span>
</span><a name="line-910"></a><span>   </span><span class="hs-comment">-- &gt; mzero &gt;&gt;= f  =  mzero</span><span>
</span><a name="line-911"></a><span>   </span><span class="hs-comment">-- &gt; v &gt;&gt; mzero   =  mzero</span><span>
</span><a name="line-912"></a><span>   </span><span class="hs-comment">--</span><span>
</span><a name="line-913"></a><span>   </span><span class="hs-comment">-- The default definition is</span><span>
</span><a name="line-914"></a><span>   </span><span class="hs-comment">--</span><span>
</span><a name="line-915"></a><span>   </span><span class="hs-comment">-- @</span><span>
</span><a name="line-916"></a><span>   </span><span class="hs-comment">-- mzero = 'empty'</span><span>
</span><a name="line-917"></a><span>   </span><span class="hs-comment">-- @</span><span>
</span><a name="line-918"></a><span>   </span><a name="mzero"><a href="GHC.Base.html#mzero"><span class="hs-identifier">mzero</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679019915"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679019916"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-919"></a><span>   </span><a name="local-8214565720323794773"><a href="GHC.Base.html#mzero"><span class="hs-identifier">mzero</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Base.html#empty"><span class="hs-identifier hs-var">empty</span></a><span>
</span><a name="line-920"></a><span>
</span><a name="line-921"></a><span>   </span><span class="hs-comment">-- | An associative operation. The default definition is</span><span>
</span><a name="line-922"></a><span>   </span><span class="hs-comment">--</span><span>
</span><a name="line-923"></a><span>   </span><span class="hs-comment">-- @</span><span>
</span><a name="line-924"></a><span>   </span><span class="hs-comment">-- mplus = ('&lt;|&gt;')</span><span>
</span><a name="line-925"></a><span>   </span><span class="hs-comment">-- @</span><span>
</span><a name="line-926"></a><span>   </span><a name="mplus"><a href="GHC.Base.html#mplus"><span class="hs-identifier">mplus</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679019915"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679019917"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019915"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679019917"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679019915"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679019917"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-927"></a><span>   </span><a name="local-8214565720323794774"><a href="GHC.Base.html#mplus"><span class="hs-identifier">mplus</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#%3C%7C%3E"><span class="hs-operator hs-var">&lt;|&gt;</span></a><span class="hs-special">)</span><span>
</span><a name="line-928"></a><span>
</span><a name="line-929"></a><span class="hs-comment">-- | @since 2.01</span><span>
</span><a name="line-930"></a><span class="hs-keyword">instance</span><span> </span><a href="GHC.Base.html#MonadPlus"><span class="hs-identifier hs-type">MonadPlus</span></a><span> </span><a href="GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a><span>
</span><a name="line-931"></a><span>
</span><a name="line-932"></a><span class="hs-comment">---------------------------------------------</span><span>
</span><a name="line-933"></a><span class="hs-comment">-- The non-empty list type</span><span>
</span><a name="line-934"></a><span>
</span><a name="line-935"></a><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">5</span><span> </span><a href="GHC.Base.html#%3A%7C"><span class="hs-operator hs-var">:|</span></a><span>
</span><a name="line-936"></a><span>
</span><a name="line-937"></a><span class="hs-comment">-- | Non-empty (and non-strict) list type.</span><span>
</span><a name="line-938"></a><span class="hs-comment">--</span><span>
</span><a name="line-939"></a><span class="hs-comment">-- @since 4.9.0.0</span><span>
</span><a name="line-940"></a><span class="hs-keyword">data</span><span> </span><a name="NonEmpty"><a href="GHC.Base.html#NonEmpty"><span class="hs-identifier">NonEmpty</span></a></a><span> </span><a name="local-6989586621679019914"><a href="#local-6989586621679019914"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679019914"><span class="hs-identifier hs-type">a</span></a><span> </span><a name="%3A%7C"><a href="GHC.Base.html#%3A%7C"><span class="hs-operator">:|</span></a></a><span> </span><span class="hs-special">[</span><a href="#local-6989586621679019914"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span>
</span><a name="line-941"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a><span>  </span><span class="hs-comment">-- ^ @since 4.9.0.0</span><span>
</span><a name="line-942"></a><span>           </span><span class="hs-special">,</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html#Ord"><span class="hs-identifier hs-type">Ord</span></a><span> </span><span class="hs-comment">-- ^ @since 4.9.0.0</span><span>
</span><a name="line-943"></a><span>           </span><span class="hs-special">)</span><span>
</span><a name="line-944"></a><span>
</span><a name="line-945"></a><span class="hs-comment">-- | @since 4.9.0.0</span><span>
</span><a name="line-946"></a><span class="hs-keyword">instance</span><span> </span><a href="GHC.Base.html#Functor"><span class="hs-identifier hs-type">Functor</span></a><span> </span><a href="GHC.Base.html#NonEmpty"><span class="hs-identifier hs-type">NonEmpty</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-947"></a><span>  </span><a name="local-3458764513820541101"><a href="GHC.Base.html#fmap"><span class="hs-identifier">fmap</span></a></a><span> </span><a name="local-6989586621679019999"><a href="#local-6989586621679019999"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><a name="local-6989586621679020000"><a href="#local-6989586621679020000"><span class="hs-identifier">a</span></a></a><span> </span><a href="GHC.Base.html#%3A%7C"><span class="hs-operator hs-var">:|</span></a><span> </span><span class="hs-keyword">as</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679019999"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679020000"><span class="hs-identifier hs-var">a</span></a><span> </span><a href="GHC.Base.html#%3A%7C"><span class="hs-operator hs-var">:|</span></a><span> </span><a href="GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a><span> </span><a href="#local-6989586621679019999"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-keyword">as</span><span>
</span><a name="line-948"></a><span>  </span><a name="local-6989586621679020002"><a href="#local-6989586621679020002"><span class="hs-identifier">b</span></a></a><span> </span><a name="local-8214565720323794782"><a href="GHC.Base.html#%3C%24"><span class="hs-operator">&lt;$</span></a></a><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><span class="hs-identifier">_</span><span> </span><a href="GHC.Base.html#%3A%7C"><span class="hs-operator hs-var">:|</span></a><span> </span><span class="hs-keyword">as</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679020002"><span class="hs-identifier hs-var">b</span></a><span>   </span><a href="GHC.Base.html#%3A%7C"><span class="hs-operator hs-var">:|</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020002"><span class="hs-identifier hs-var">b</span></a><span> </span><a href="GHC.Base.html#%3C%24"><span class="hs-operator hs-var">&lt;$</span></a><span> </span><span class="hs-keyword">as</span><span class="hs-special">)</span><span>
</span><a name="line-949"></a><span>
</span><a name="line-950"></a><span class="hs-comment">-- | @since 4.9.0.0</span><span>
</span><a name="line-951"></a><span class="hs-keyword">instance</span><span> </span><a href="GHC.Base.html#Applicative"><span class="hs-identifier hs-type">Applicative</span></a><span> </span><a href="GHC.Base.html#NonEmpty"><span class="hs-identifier hs-type">NonEmpty</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-952"></a><span>  </span><a name="local-3458764513820541680"><a href="GHC.Base.html#pure"><span class="hs-identifier">pure</span></a></a><span> </span><a name="local-6989586621679019998"><a href="#local-6989586621679019998"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679019998"><span class="hs-identifier hs-var">a</span></a><span> </span><a href="GHC.Base.html#%3A%7C"><span class="hs-operator hs-var">:|</span></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-953"></a><span>  </span><span class="hs-special">(</span><a name="local-3458764513820541679"><a href="GHC.Base.html#%3C%2A%3E"><span class="hs-operator">&lt;*&gt;</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Base.html#ap"><span class="hs-identifier hs-var">ap</span></a><span>
</span><a name="line-954"></a><span>  </span><a name="local-8214565720323794780"><a href="GHC.Base.html#liftA2"><span class="hs-identifier">liftA2</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Base.html#liftM2"><span class="hs-identifier hs-var">liftM2</span></a><span>
</span><a name="line-955"></a><span>
</span><a name="line-956"></a><span class="hs-comment">-- | @since 4.9.0.0</span><span>
</span><a name="line-957"></a><span class="hs-keyword">instance</span><span> </span><a href="GHC.Base.html#Monad"><span class="hs-identifier hs-type">Monad</span></a><span> </span><a href="GHC.Base.html#NonEmpty"><span class="hs-identifier hs-type">NonEmpty</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-958"></a><span>  </span><span class="hs-glyph">~</span><span class="hs-special">(</span><a name="local-6989586621679019989"><a href="#local-6989586621679019989"><span class="hs-identifier">a</span></a></a><span> </span><a href="GHC.Base.html#%3A%7C"><span class="hs-operator hs-var">:|</span></a><span> </span><span class="hs-keyword">as</span><span class="hs-special">)</span><span> </span><a name="local-3458764513820541099"><a href="GHC.Base.html#%3E%3E%3D"><span class="hs-operator">&gt;&gt;=</span></a></a><span> </span><a name="local-6989586621679019991"><a href="#local-6989586621679019991"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679019992"><span class="hs-identifier hs-var">b</span></a><span> </span><a href="GHC.Base.html#%3A%7C"><span class="hs-operator hs-var">:|</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679019993"><span class="hs-identifier hs-var">bs</span></a><span> </span><a href="GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a><span> </span><a href="#local-6989586621679019994"><span class="hs-identifier hs-var">bs'</span></a><span class="hs-special">)</span><span>
</span><a name="line-959"></a><span>    </span><span class="hs-keyword">where</span><span> </span><a name="local-6989586621679019992"><a href="#local-6989586621679019992"><span class="hs-identifier">b</span></a></a><span> </span><a href="GHC.Base.html#%3A%7C"><span class="hs-operator hs-var">:|</span></a><span> </span><a name="local-6989586621679019993"><a href="#local-6989586621679019993"><span class="hs-identifier">bs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679019991"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679019989"><span class="hs-identifier hs-var">a</span></a><span>
</span><a name="line-960"></a><span>          </span><a name="local-6989586621679019994"><a href="#local-6989586621679019994"><span class="hs-identifier">bs'</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">as</span><span> </span><a href="GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a><span> </span><a href="#local-6989586621679019995"><span class="hs-identifier hs-var">toList</span></a><span> </span><a href="GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><span> </span><a href="#local-6989586621679019991"><span class="hs-identifier hs-var">f</span></a><span>
</span><a name="line-961"></a><span>          </span><a name="local-6989586621679019995"><a href="#local-6989586621679019995"><span class="hs-identifier">toList</span></a></a><span> </span><span class="hs-glyph">~</span><span class="hs-special">(</span><a name="local-6989586621679019996"><a href="#local-6989586621679019996"><span class="hs-identifier">c</span></a></a><span> </span><a href="GHC.Base.html#%3A%7C"><span class="hs-operator hs-var">:|</span></a><span> </span><a name="local-6989586621679019997"><a href="#local-6989586621679019997"><span class="hs-identifier">cs</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679019996"><span class="hs-identifier hs-var">c</span></a><span> </span><span class="hs-glyph">:</span><span> </span><a href="#local-6989586621679019997"><span class="hs-identifier hs-var">cs</span></a><span>
</span><a name="line-962"></a><span>
</span><a name="line-963"></a><span class="hs-comment">----------------------------------------------</span><span>
</span><a name="line-964"></a><span class="hs-comment">-- The list type</span><span>
</span><a name="line-965"></a><span>
</span><a name="line-966"></a><span class="hs-comment">-- | @since 2.01</span><span>
</span><a name="line-967"></a><span class="hs-keyword">instance</span><span> </span><a href="GHC.Base.html#Functor"><span class="hs-identifier hs-type">Functor</span></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-968"></a><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">fmap</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-969"></a><span>    </span><a name="local-3458764513820541101"><a href="GHC.Base.html#fmap"><span class="hs-identifier">fmap</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a><span>
</span><a name="line-970"></a><span>
</span><a name="line-971"></a><span class="hs-comment">-- See Note: [List comprehensions and inlining]</span><span>
</span><a name="line-972"></a><span class="hs-comment">-- | @since 2.01</span><span>
</span><a name="line-973"></a><span class="hs-keyword">instance</span><span> </span><a href="GHC.Base.html#Applicative"><span class="hs-identifier hs-type">Applicative</span></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-974"></a><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">pure</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-975"></a><span>    </span><a name="local-3458764513820541680"><a href="GHC.Base.html#pure"><span class="hs-identifier">pure</span></a></a><span> </span><a name="local-6989586621679019976"><a href="#local-6989586621679019976"><span class="hs-identifier">x</span></a></a><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679019976"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">]</span><span>
</span><a name="line-976"></a><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&lt;*&gt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-977"></a><span>    </span><a name="local-6989586621679019977"><a href="#local-6989586621679019977"><span class="hs-identifier">fs</span></a></a><span> </span><a name="local-3458764513820541679"><a href="GHC.Base.html#%3C%2A%3E"><span class="hs-operator">&lt;*&gt;</span></a></a><span> </span><a name="local-6989586621679019978"><a href="#local-6989586621679019978"><span class="hs-identifier">xs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679019979"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679019980"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-glyph">|</span><span> </span><a name="local-6989586621679019979"><a href="#local-6989586621679019979"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679019977"><span class="hs-identifier hs-var">fs</span></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679019980"><a href="#local-6989586621679019980"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679019978"><span class="hs-identifier hs-var">xs</span></a><span class="hs-special">]</span><span>
</span><a name="line-978"></a><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">liftA2</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-979"></a><span>    </span><a name="local-8214565720323794780"><a href="GHC.Base.html#liftA2"><span class="hs-identifier">liftA2</span></a></a><span> </span><a name="local-6989586621679019981"><a href="#local-6989586621679019981"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679019982"><a href="#local-6989586621679019982"><span class="hs-identifier">xs</span></a></a><span> </span><a name="local-6989586621679019983"><a href="#local-6989586621679019983"><span class="hs-identifier">ys</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679019981"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679019984"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="#local-6989586621679019985"><span class="hs-identifier hs-var">y</span></a><span> </span><span class="hs-glyph">|</span><span> </span><a name="local-6989586621679019984"><a href="#local-6989586621679019984"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679019982"><span class="hs-identifier hs-var">xs</span></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679019985"><a href="#local-6989586621679019985"><span class="hs-identifier">y</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679019983"><span class="hs-identifier hs-var">ys</span></a><span class="hs-special">]</span><span>
</span><a name="line-980"></a><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">*&gt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-981"></a><span>    </span><a name="local-6989586621679019986"><a href="#local-6989586621679019986"><span class="hs-identifier">xs</span></a></a><span> </span><a name="local-3458764513820541681"><a href="GHC.Base.html#%2A%3E"><span class="hs-operator">*&gt;</span></a></a><span> </span><a name="local-6989586621679019987"><a href="#local-6989586621679019987"><span class="hs-identifier">ys</span></a></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679019988"><span class="hs-identifier hs-var">y</span></a><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679019986"><span class="hs-identifier hs-var">xs</span></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679019988"><a href="#local-6989586621679019988"><span class="hs-identifier">y</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679019987"><span class="hs-identifier hs-var">ys</span></a><span class="hs-special">]</span><span>
</span><a name="line-982"></a><span>
</span><a name="line-983"></a><span class="hs-comment">-- See Note: [List comprehensions and inlining]</span><span>
</span><a name="line-984"></a><span class="hs-comment">-- | @since 2.01</span><span>
</span><a name="line-985"></a><span class="hs-keyword">instance</span><span> </span><a href="GHC.Base.html#Monad"><span class="hs-identifier hs-type">Monad</span></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-986"></a><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&gt;&gt;=</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-987"></a><span>    </span><a name="local-6989586621679019972"><a href="#local-6989586621679019972"><span class="hs-identifier">xs</span></a></a><span> </span><a name="local-3458764513820541099"><a href="GHC.Base.html#%3E%3E%3D"><span class="hs-operator">&gt;&gt;=</span></a></a><span> </span><a name="local-6989586621679019973"><a href="#local-6989586621679019973"><span class="hs-identifier">f</span></a></a><span>             </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679019975"><span class="hs-identifier hs-var">y</span></a><span> </span><span class="hs-glyph">|</span><span> </span><a name="local-6989586621679019974"><a href="#local-6989586621679019974"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679019972"><span class="hs-identifier hs-var">xs</span></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679019975"><a href="#local-6989586621679019975"><span class="hs-identifier">y</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679019973"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679019974"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">]</span><span>
</span><a name="line-988"></a><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&gt;&gt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-989"></a><span>    </span><span class="hs-special">(</span><a name="local-3458764513820541100"><a href="GHC.Base.html#%3E%3E"><span class="hs-operator">&gt;&gt;</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#%2A%3E"><span class="hs-operator hs-var">*&gt;</span></a><span class="hs-special">)</span><span>
</span><a name="line-990"></a><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">fail</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-991"></a><span>    </span><a name="local-3458764513820541098"><a href="GHC.Base.html#fail"><span class="hs-identifier">fail</span></a></a><span> </span><span class="hs-identifier">_</span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-992"></a><span>
</span><a name="line-993"></a><span class="hs-comment">-- | @since 2.01</span><span>
</span><a name="line-994"></a><span class="hs-keyword">instance</span><span> </span><a href="GHC.Base.html#Alternative"><span class="hs-identifier hs-type">Alternative</span></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-995"></a><span>    </span><a name="local-8214565720323794776"><a href="GHC.Base.html#empty"><span class="hs-identifier">empty</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-996"></a><span>    </span><span class="hs-special">(</span><a name="local-8214565720323794777"><a href="GHC.Base.html#%3C%7C%3E"><span class="hs-operator">&lt;|&gt;</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a><span class="hs-special">)</span><span>
</span><a name="line-997"></a><span>
</span><a name="line-998"></a><span class="hs-comment">-- | @since 2.01</span><span>
</span><a name="line-999"></a><span class="hs-keyword">instance</span><span> </span><a href="GHC.Base.html#MonadPlus"><span class="hs-identifier hs-type">MonadPlus</span></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-1000"></a><span>
</span><a name="line-1001"></a><span class="hs-comment">{-
A few list functions that appear here because they are used here.
The rest of the prelude list functions are in GHC.List.
-}</span><span>
</span><a name="line-1005"></a><span>
</span><a name="line-1006"></a><span class="hs-comment">----------------------------------------------</span><span>
</span><a name="line-1007"></a><span class="hs-comment">--      foldr/build/augment</span><span>
</span><a name="line-1008"></a><span class="hs-comment">----------------------------------------------</span><span>
</span><a name="line-1009"></a><span>
</span><a name="line-1010"></a><span class="hs-comment">-- | 'foldr', applied to a binary operator, a starting value (typically</span><span>
</span><a name="line-1011"></a><span class="hs-comment">-- the right-identity of the operator), and a list, reduces the list</span><span>
</span><a name="line-1012"></a><span class="hs-comment">-- using the binary operator, from right to left:</span><span>
</span><a name="line-1013"></a><span class="hs-comment">--</span><span>
</span><a name="line-1014"></a><span class="hs-comment">-- &gt; foldr f z [x1, x2, ..., xn] == x1 `f` (x2 `f` ... (xn `f` z)...)</span><span>
</span><a name="line-1015"></a><span>
</span><a name="line-1016"></a><span class="hs-identifier">foldr</span><span>            </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020193"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020194"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020194"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020194"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679020193"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020194"><span class="hs-identifier hs-type">b</span></a><span>
</span><a name="line-1017"></a><span class="hs-comment">-- foldr _ z []     =  z</span><span>
</span><a name="line-1018"></a><span class="hs-comment">-- foldr f z (x:xs) =  f x (foldr f z xs)</span><span>
</span><a name="line-1019"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">[</span><span class="hs-pragma">0</span><span class="hs-pragma">]</span><span> </span><span class="hs-pragma">foldr</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-1020"></a><span class="hs-comment">-- Inline only in the final stage, after the foldr/cons rule has had a chance</span><span>
</span><a name="line-1021"></a><span class="hs-comment">-- Also note that we inline it when it has *two* parameters, which are the</span><span>
</span><a name="line-1022"></a><span class="hs-comment">-- ones we are keen about specialising!</span><span>
</span><a name="line-1023"></a><a name="foldr"><a href="GHC.Base.html#foldr"><span class="hs-identifier">foldr</span></a></a><span> </span><a name="local-6989586621679020362"><a href="#local-6989586621679020362"><span class="hs-identifier">k</span></a></a><span> </span><a name="local-6989586621679020363"><a href="#local-6989586621679020363"><span class="hs-identifier">z</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679020364"><span class="hs-identifier hs-var">go</span></a><span>
</span><a name="line-1024"></a><span>          </span><span class="hs-keyword">where</span><span>
</span><a name="line-1025"></a><span>            </span><a name="local-6989586621679020364"><a href="#local-6989586621679020364"><span class="hs-identifier">go</span></a></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>     </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679020363"><span class="hs-identifier hs-var">z</span></a><span>
</span><a name="line-1026"></a><span>            </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679020365"><a href="#local-6989586621679020365"><span class="hs-identifier">y</span></a></a><span class="hs-glyph">:</span><a name="local-6989586621679020366"><a href="#local-6989586621679020366"><span class="hs-identifier">ys</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679020365"><span class="hs-identifier hs-var">y</span></a><span> </span><span class="hs-special">`</span><a href="#local-6989586621679020362"><span class="hs-identifier hs-var">k</span></a><span class="hs-special">`</span><span> </span><a href="#local-6989586621679020364"><span class="hs-identifier hs-var">go</span></a><span> </span><a href="#local-6989586621679020366"><span class="hs-identifier hs-var">ys</span></a><span>
</span><a name="line-1027"></a><span>
</span><a name="line-1028"></a><span class="hs-comment">-- | A list producer that can be fused with 'foldr'.</span><span>
</span><a name="line-1029"></a><span class="hs-comment">-- This function is merely</span><span>
</span><a name="line-1030"></a><span class="hs-comment">--</span><span>
</span><a name="line-1031"></a><span class="hs-comment">-- &gt;    build g = g (:) []</span><span>
</span><a name="line-1032"></a><span class="hs-comment">--</span><span>
</span><a name="line-1033"></a><span class="hs-comment">-- but GHC's simplifier will transform an expression of the form</span><span>
</span><a name="line-1034"></a><span class="hs-comment">-- @'foldr' k z ('build' g)@, which may arise after inlining, to @g k z@,</span><span>
</span><a name="line-1035"></a><span class="hs-comment">-- which avoids producing an intermediate list.</span><span>
</span><a name="line-1036"></a><span>
</span><a name="line-1037"></a><span class="hs-identifier">build</span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679020191"><a href="#local-6989586621679020191"><span class="hs-identifier">a</span></a></a><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679020192"><a href="#local-6989586621679020192"><span class="hs-identifier">b</span></a></a><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020191"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020192"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020192"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020192"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020192"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679020191"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span>
</span><a name="line-1038"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">[</span><span class="hs-pragma">1</span><span class="hs-pragma">]</span><span> </span><span class="hs-pragma">build</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-1039"></a><span>        </span><span class="hs-comment">-- The INLINE is important, even though build is tiny,</span><span>
</span><a name="line-1040"></a><span>        </span><span class="hs-comment">-- because it prevents [] getting inlined in the version that</span><span>
</span><a name="line-1041"></a><span>        </span><span class="hs-comment">-- appears in the interface file.  If [] *is* inlined, it</span><span>
</span><a name="line-1042"></a><span>        </span><span class="hs-comment">-- won't match with [] appearing in rules in an importing module.</span><span>
</span><a name="line-1043"></a><span>        </span><span class="hs-comment">--</span><span>
</span><a name="line-1044"></a><span>        </span><span class="hs-comment">-- The &quot;1&quot; says to inline in phase 1</span><span>
</span><a name="line-1045"></a><span>
</span><a name="line-1046"></a><a name="build"><a href="GHC.Base.html#build"><span class="hs-identifier">build</span></a></a><span> </span><a name="local-6989586621679020367"><a href="#local-6989586621679020367"><span class="hs-identifier">g</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679020367"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">:</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-1047"></a><span>
</span><a name="line-1048"></a><span class="hs-comment">-- | A list producer that can be fused with 'foldr'.</span><span>
</span><a name="line-1049"></a><span class="hs-comment">-- This function is merely</span><span>
</span><a name="line-1050"></a><span class="hs-comment">--</span><span>
</span><a name="line-1051"></a><span class="hs-comment">-- &gt;    augment g xs = g (:) xs</span><span>
</span><a name="line-1052"></a><span class="hs-comment">--</span><span>
</span><a name="line-1053"></a><span class="hs-comment">-- but GHC's simplifier will transform an expression of the form</span><span>
</span><a name="line-1054"></a><span class="hs-comment">-- @'foldr' k z ('augment' g xs)@, which may arise after inlining, to</span><span>
</span><a name="line-1055"></a><span class="hs-comment">-- @g k ('foldr' k z xs)@, which avoids producing an intermediate list.</span><span>
</span><a name="line-1056"></a><span>
</span><a name="line-1057"></a><span class="hs-identifier">augment</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679020189"><a href="#local-6989586621679020189"><span class="hs-identifier">a</span></a></a><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><a name="local-6989586621679020190"><a href="#local-6989586621679020190"><span class="hs-identifier">b</span></a></a><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020189"><span class="hs-identifier hs-type">a</span></a><span class="hs-glyph">-&gt;</span><a href="#local-6989586621679020190"><span class="hs-identifier hs-type">b</span></a><span class="hs-glyph">-&gt;</span><a href="#local-6989586621679020190"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020190"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679020190"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679020189"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679020189"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span>
</span><a name="line-1058"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">[</span><span class="hs-pragma">1</span><span class="hs-pragma">]</span><span> </span><span class="hs-pragma">augment</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-1059"></a><a name="augment"><a href="GHC.Base.html#augment"><span class="hs-identifier">augment</span></a></a><span> </span><a name="local-6989586621679020368"><a href="#local-6989586621679020368"><span class="hs-identifier">g</span></a></a><span> </span><a name="local-6989586621679020369"><a href="#local-6989586621679020369"><span class="hs-identifier">xs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679020368"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">:</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679020369"><span class="hs-identifier hs-var">xs</span></a><span>
</span><a name="line-1060"></a><span>
</span><a name="line-1061"></a><span class="hs-pragma">{-# RULES</span><span>
</span><a name="line-1062"></a><span class="hs-pragma">&quot;fold/build&quot;</span><span>    </span><span class="hs-pragma">forall</span><span> </span><span class="hs-pragma">k</span><span> </span><span class="hs-pragma">z</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">g</span><span class="hs-pragma">::</span><span class="hs-pragma">forall</span><span> </span><span class="hs-pragma">b</span><span class="hs-pragma">.</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">a</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">b</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">b</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">b</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">b</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">.</span><span>
</span><a name="line-1063"></a><span>                </span><span class="hs-pragma">foldr</span><span> </span><span class="hs-pragma">k</span><span> </span><span class="hs-pragma">z</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">build</span><span> </span><span class="hs-pragma">g</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">=</span><span> </span><span class="hs-pragma">g</span><span> </span><span class="hs-pragma">k</span><span> </span><span class="hs-pragma">z</span><span>
</span><a name="line-1064"></a><span>
</span><a name="line-1065"></a><span class="hs-pragma">&quot;foldr/augment&quot;</span><span> </span><span class="hs-pragma">forall</span><span> </span><span class="hs-pragma">k</span><span> </span><span class="hs-pragma">z</span><span> </span><span class="hs-pragma">xs</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">g</span><span class="hs-pragma">::</span><span class="hs-pragma">forall</span><span> </span><span class="hs-pragma">b</span><span class="hs-pragma">.</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">a</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">b</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">b</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">b</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">b</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">.</span><span>
</span><a name="line-1066"></a><span>                </span><span class="hs-pragma">foldr</span><span> </span><span class="hs-pragma">k</span><span> </span><span class="hs-pragma">z</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">augment</span><span> </span><span class="hs-pragma">g</span><span> </span><span class="hs-pragma">xs</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">=</span><span> </span><span class="hs-pragma">g</span><span> </span><span class="hs-pragma">k</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">foldr</span><span> </span><span class="hs-pragma">k</span><span> </span><span class="hs-pragma">z</span><span> </span><span class="hs-pragma">xs</span><span class="hs-pragma">)</span><span>
</span><a name="line-1067"></a><span>
</span><a name="line-1068"></a><span class="hs-pragma">&quot;foldr/id&quot;</span><span>                        </span><span class="hs-pragma">foldr</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">:</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">[</span><span class="hs-pragma">]</span><span> </span><span class="hs-pragma">=</span><span> </span><span class="hs-pragma">\</span><span class="hs-pragma">x</span><span>  </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">x</span><span>
</span><a name="line-1069"></a><span class="hs-pragma">&quot;foldr/app&quot;</span><span>     </span><span class="hs-pragma">[</span><span class="hs-pragma">1</span><span class="hs-pragma">]</span><span> </span><span class="hs-pragma">forall</span><span> </span><span class="hs-pragma">ys</span><span class="hs-pragma">.</span><span> </span><span class="hs-pragma">foldr</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">:</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">ys</span><span> </span><span class="hs-pragma">=</span><span> </span><span class="hs-pragma">\</span><span class="hs-pragma">xs</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">xs</span><span> </span><span class="hs-pragma">++</span><span> </span><span class="hs-pragma">ys</span><span>
</span><a name="line-1070"></a><span>        </span><span class="hs-pragma">-- Only activate this from phase 1, because that's</span><span>
</span><a name="line-1071"></a><span>        </span><span class="hs-pragma">-- when we disable the rule that expands (++) into foldr</span><span>
</span><a name="line-1072"></a><span>
</span><a name="line-1073"></a><span class="hs-pragma">-- The foldr/cons rule looks nice, but it can give disastrously</span><span>
</span><a name="line-1074"></a><span class="hs-pragma">-- bloated code when commpiling</span><span>
</span><a name="line-1075"></a><span class="hs-pragma">--      array (a,b) [(1,2), (2,2), (3,2), ...very long list... ]</span><span>
</span><a name="line-1076"></a><span class="hs-pragma">-- i.e. when there are very very long literal lists</span><span>
</span><a name="line-1077"></a><span class="hs-pragma">-- So I've disabled it for now. We could have special cases</span><span>
</span><a name="line-1078"></a><span class="hs-pragma">-- for short lists, I suppose.</span><span>
</span><a name="line-1079"></a><span class="hs-pragma">-- &quot;foldr/cons&quot; forall k z x xs. foldr k z (x:xs) = k x (foldr k z xs)</span><span>
</span><a name="line-1080"></a><span>
</span><a name="line-1081"></a><span class="hs-pragma">&quot;foldr/single&quot;</span><span>  </span><span class="hs-pragma">forall</span><span> </span><span class="hs-pragma">k</span><span> </span><span class="hs-pragma">z</span><span> </span><span class="hs-pragma">x</span><span class="hs-pragma">.</span><span> </span><span class="hs-pragma">foldr</span><span> </span><span class="hs-pragma">k</span><span> </span><span class="hs-pragma">z</span><span> </span><span class="hs-pragma">[</span><span class="hs-pragma">x</span><span class="hs-pragma">]</span><span> </span><span class="hs-pragma">=</span><span> </span><span class="hs-pragma">k</span><span> </span><span class="hs-pragma">x</span><span> </span><span class="hs-pragma">z</span><span>
</span><a name="line-1082"></a><span class="hs-pragma">&quot;foldr/nil&quot;</span><span>     </span><span class="hs-pragma">forall</span><span> </span><span class="hs-pragma">k</span><span> </span><span class="hs-pragma">z</span><span class="hs-pragma">.</span><span>   </span><span class="hs-pragma">foldr</span><span> </span><span class="hs-pragma">k</span><span> </span><span class="hs-pragma">z</span><span> </span><span class="hs-pragma">[</span><span class="hs-pragma">]</span><span>  </span><span class="hs-pragma">=</span><span> </span><span class="hs-pragma">z</span><span>
</span><a name="line-1083"></a><span>
</span><a name="line-1084"></a><span class="hs-pragma">&quot;foldr/cons/build&quot;</span><span> </span><span class="hs-pragma">forall</span><span> </span><span class="hs-pragma">k</span><span> </span><span class="hs-pragma">z</span><span> </span><span class="hs-pragma">x</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">g</span><span class="hs-pragma">::</span><span class="hs-pragma">forall</span><span> </span><span class="hs-pragma">b</span><span class="hs-pragma">.</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">a</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">b</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">b</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">b</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">b</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">.</span><span>
</span><a name="line-1085"></a><span>                           </span><span class="hs-pragma">foldr</span><span> </span><span class="hs-pragma">k</span><span> </span><span class="hs-pragma">z</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">x</span><span class="hs-pragma">:</span><span class="hs-pragma">build</span><span> </span><span class="hs-pragma">g</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">=</span><span> </span><span class="hs-pragma">k</span><span> </span><span class="hs-pragma">x</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">g</span><span> </span><span class="hs-pragma">k</span><span> </span><span class="hs-pragma">z</span><span class="hs-pragma">)</span><span>
</span><a name="line-1086"></a><span>
</span><a name="line-1087"></a><span class="hs-pragma">&quot;augment/build&quot;</span><span> </span><span class="hs-pragma">forall</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">g</span><span class="hs-pragma">::</span><span class="hs-pragma">forall</span><span> </span><span class="hs-pragma">b</span><span class="hs-pragma">.</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">a</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">b</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">b</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">b</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">b</span><span class="hs-pragma">)</span><span>
</span><a name="line-1088"></a><span>                       </span><span class="hs-pragma">(</span><span class="hs-pragma">h</span><span class="hs-pragma">::</span><span class="hs-pragma">forall</span><span> </span><span class="hs-pragma">b</span><span class="hs-pragma">.</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">a</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">b</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">b</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">b</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">b</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">.</span><span>
</span><a name="line-1089"></a><span>                       </span><span class="hs-pragma">augment</span><span> </span><span class="hs-pragma">g</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">build</span><span> </span><span class="hs-pragma">h</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">=</span><span> </span><span class="hs-pragma">build</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">\</span><span class="hs-pragma">c</span><span> </span><span class="hs-pragma">n</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">g</span><span> </span><span class="hs-pragma">c</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">h</span><span> </span><span class="hs-pragma">c</span><span> </span><span class="hs-pragma">n</span><span class="hs-pragma">)</span><span class="hs-pragma">)</span><span>
</span><a name="line-1090"></a><span class="hs-pragma">&quot;augment/nil&quot;</span><span>   </span><span class="hs-pragma">forall</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">g</span><span class="hs-pragma">::</span><span class="hs-pragma">forall</span><span> </span><span class="hs-pragma">b</span><span class="hs-pragma">.</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">a</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">b</span><span class="hs-pragma">-&gt;</span><span class="hs-pragma">b</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">b</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">b</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">.</span><span>
</span><a name="line-1091"></a><span>                        </span><span class="hs-pragma">augment</span><span> </span><span class="hs-pragma">g</span><span> </span><span class="hs-pragma">[</span><span class="hs-pragma">]</span><span> </span><span class="hs-pragma">=</span><span> </span><span class="hs-pragma">build</span><span> </span><span class="hs-pragma">g</span><span>
</span><a name="line-1092"></a><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-1093"></a><span>
</span><a name="line-1094"></a><span class="hs-comment">-- This rule is true, but not (I think) useful:</span><span>
</span><a name="line-1095"></a><span class="hs-comment">--      augment g (augment h t) = augment (\cn -&gt; g c (h c n)) t</span><span>
</span><a name="line-1096"></a><span>
</span><a name="line-1097"></a><span class="hs-comment">----------------------------------------------</span><span>
</span><a name="line-1098"></a><span class="hs-comment">--              map</span><span>
</span><a name="line-1099"></a><span class="hs-comment">----------------------------------------------</span><span>
</span><a name="line-1100"></a><span>
</span><a name="line-1101"></a><span class="hs-comment">-- | 'map' @f xs@ is the list obtained by applying @f@ to each element</span><span>
</span><a name="line-1102"></a><span class="hs-comment">-- of @xs@, i.e.,</span><span>
</span><a name="line-1103"></a><span class="hs-comment">--</span><span>
</span><a name="line-1104"></a><span class="hs-comment">-- &gt; map f [x1, x2, ..., xn] == [f x1, f x2, ..., f xn]</span><span>
</span><a name="line-1105"></a><span class="hs-comment">-- &gt; map f [x1, x2, ...] == [f x1, f x2, ...]</span><span>
</span><a name="line-1106"></a><span>
</span><a name="line-1107"></a><span class="hs-identifier">map</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">b</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">a</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">b</span><span class="hs-special">]</span><span>
</span><a name="line-1108"></a><span class="hs-pragma">{-# NOINLINE</span><span> </span><span class="hs-pragma">[</span><span class="hs-pragma">0</span><span class="hs-pragma">]</span><span> </span><span class="hs-pragma">map</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-1109"></a><span>  </span><span class="hs-comment">-- We want the RULEs &quot;map&quot; and &quot;map/coerce&quot; to fire first.</span><span>
</span><a name="line-1110"></a><span>  </span><span class="hs-comment">-- map is recursive, so won't inline anyway,</span><span>
</span><a name="line-1111"></a><span>  </span><span class="hs-comment">-- but saying so is more explicit, and silences warnings</span><span>
</span><a name="line-1112"></a><span class="hs-identifier">map</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-1113"></a><a name="map"><a href="GHC.Base.html#map"><span class="hs-identifier">map</span></a></a><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#%5B%5D"><span class="hs-identifier hs-var">x</span></a><span class="hs-glyph">:</span><span class="hs-identifier">xs</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">x</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">xs</span><span>
</span><a name="line-1114"></a><span>
</span><a name="line-1115"></a><span class="hs-comment">-- Note eta expanded</span><span>
</span><a name="line-1116"></a><span class="hs-identifier">mapFB</span><span> </span><span class="hs-glyph">::</span><span>  </span><span class="hs-special">(</span><span class="hs-identifier">elt</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">lst</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">lst</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">elt</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">lst</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">lst</span><span>
</span><a name="line-1117"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">[</span><span class="hs-pragma">0</span><span class="hs-pragma">]</span><span> </span><span class="hs-pragma">mapFB</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="hs-comment">-- See Note [Inline FB functions] in GHC.List</span><span>
</span><a name="line-1118"></a><span class="hs-identifier">mapFB</span><span> </span><span class="hs-identifier">c</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">x</span><span> </span><span class="hs-identifier">ys</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">c</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">x</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">ys</span><span>
</span><a name="line-1119"></a><span>
</span><a name="line-1120"></a><span class="hs-comment">{- Note [The rules for map]
~~~~~~~~~~~~~~~~~~~~~~~~~~~
The rules for map work like this.

* Up to (but not including) phase 1, we use the &quot;map&quot; rule to
  rewrite all saturated applications of map with its build/fold
  form, hoping for fusion to happen.

  In phase 1 and 0, we switch off that rule, inline build, and
  switch on the &quot;mapList&quot; rule, which rewrites the foldr/mapFB
  thing back into plain map.

  It's important that these two rules aren't both active at once
  (along with build's unfolding) else we'd get an infinite loop
  in the rules.  Hence the activation control below.

* This same pattern is followed by many other functions:
  e.g. append, filter, iterate, repeat, etc. in GHC.List

  See also Note [Inline FB functions] in GHC.List

* The &quot;mapFB&quot; rule optimises compositions of map

* The &quot;mapFB/id&quot; rule gets rid of 'map id' calls.
  You might think that (mapFB c id) will turn into c simply
  when mapFB is inlined; but before that happens the &quot;mapList&quot;
  rule turns
     (foldr (mapFB (:) id) [] a
  back into
     map id
  Which is not very clever.

* Any similarity to the Functor laws for [] is expected.
-}</span><span>
</span><a name="line-1154"></a><span>
</span><a name="line-1155"></a><span class="hs-pragma">{-# RULES</span><span>
</span><a name="line-1156"></a><span class="hs-pragma">&quot;map&quot;</span><span>       </span><span class="hs-pragma">[</span><span class="hs-pragma">~</span><span class="hs-pragma">1</span><span class="hs-pragma">]</span><span> </span><span class="hs-pragma">forall</span><span> </span><span class="hs-pragma">f</span><span> </span><span class="hs-pragma">xs</span><span class="hs-pragma">.</span><span>   </span><span class="hs-pragma">map</span><span> </span><span class="hs-pragma">f</span><span> </span><span class="hs-pragma">xs</span><span>                </span><span class="hs-pragma">=</span><span> </span><span class="hs-pragma">build</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">\</span><span class="hs-pragma">c</span><span> </span><span class="hs-pragma">n</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">foldr</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">mapFB</span><span> </span><span class="hs-pragma">c</span><span> </span><span class="hs-pragma">f</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">n</span><span> </span><span class="hs-pragma">xs</span><span class="hs-pragma">)</span><span>
</span><a name="line-1157"></a><span class="hs-pragma">&quot;mapList&quot;</span><span>   </span><span class="hs-pragma">[</span><span class="hs-pragma">1</span><span class="hs-pragma">]</span><span>  </span><span class="hs-pragma">forall</span><span> </span><span class="hs-pragma">f</span><span class="hs-pragma">.</span><span>      </span><span class="hs-pragma">foldr</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">mapFB</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">:</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">f</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">[</span><span class="hs-pragma">]</span><span>  </span><span class="hs-pragma">=</span><span> </span><span class="hs-pragma">map</span><span> </span><span class="hs-pragma">f</span><span>
</span><a name="line-1158"></a><span class="hs-pragma">&quot;mapFB&quot;</span><span>     </span><span class="hs-pragma">forall</span><span> </span><span class="hs-pragma">c</span><span> </span><span class="hs-pragma">f</span><span> </span><span class="hs-pragma">g</span><span class="hs-pragma">.</span><span>       </span><span class="hs-pragma">mapFB</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">mapFB</span><span> </span><span class="hs-pragma">c</span><span> </span><span class="hs-pragma">f</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">g</span><span>     </span><span class="hs-pragma">=</span><span> </span><span class="hs-pragma">mapFB</span><span> </span><span class="hs-pragma">c</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">f</span><span class="hs-pragma">.</span><span class="hs-pragma">g</span><span class="hs-pragma">)</span><span>
</span><a name="line-1159"></a><span class="hs-pragma">&quot;mapFB/id&quot;</span><span>  </span><span class="hs-pragma">forall</span><span> </span><span class="hs-pragma">c</span><span class="hs-pragma">.</span><span>           </span><span class="hs-pragma">mapFB</span><span> </span><span class="hs-pragma">c</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">\</span><span class="hs-pragma">x</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">x</span><span class="hs-pragma">)</span><span>       </span><span class="hs-pragma">=</span><span> </span><span class="hs-pragma">c</span><span>
</span><a name="line-1160"></a><span>  </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-1161"></a><span>
</span><a name="line-1162"></a><span class="hs-comment">-- See Breitner, Eisenberg, Peyton Jones, and Weirich, &quot;Safe Zero-cost</span><span>
</span><a name="line-1163"></a><span class="hs-comment">-- Coercions for Haskell&quot;, section 6.5:</span><span>
</span><a name="line-1164"></a><span class="hs-comment">--   http://research.microsoft.com/en-us/um/people/simonpj/papers/ext-f/coercible.pdf</span><span>
</span><a name="line-1165"></a><span>
</span><a name="line-1166"></a><span class="hs-pragma">{-# RULES</span><span> </span><span class="hs-pragma">&quot;map/coerce&quot;</span><span> </span><span class="hs-pragma">[</span><span class="hs-pragma">1</span><span class="hs-pragma">]</span><span> </span><span class="hs-pragma">map</span><span> </span><span class="hs-pragma">coerce</span><span> </span><span class="hs-pragma">=</span><span> </span><span class="hs-pragma">coerce</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-1167"></a><span>
</span><a name="line-1168"></a><span>
</span><a name="line-1169"></a><span class="hs-comment">----------------------------------------------</span><span>
</span><a name="line-1170"></a><span class="hs-comment">--              append</span><span>
</span><a name="line-1171"></a><span class="hs-comment">----------------------------------------------</span><span>
</span><a name="line-1172"></a><span>
</span><a name="line-1173"></a><span class="hs-comment">-- | Append two lists, i.e.,</span><span>
</span><a name="line-1174"></a><span class="hs-comment">--</span><span>
</span><a name="line-1175"></a><span class="hs-comment">-- &gt; [x1, ..., xm] ++ [y1, ..., yn] == [x1, ..., xm, y1, ..., yn]</span><span>
</span><a name="line-1176"></a><span class="hs-comment">-- &gt; [x1, ..., xm] ++ [y1, ...] == [x1, ..., xm, y1, ...]</span><span>
</span><a name="line-1177"></a><span class="hs-comment">--</span><span>
</span><a name="line-1178"></a><span class="hs-comment">-- If the first list is not finite, the result is the first list.</span><span>
</span><a name="line-1179"></a><span>
</span><a name="line-1180"></a><span class="hs-special">(</span><span class="hs-operator">++</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">a</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">a</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">a</span><span class="hs-special">]</span><span>
</span><a name="line-1181"></a><span class="hs-pragma">{-# NOINLINE</span><span> </span><span class="hs-pragma">[</span><span class="hs-pragma">1</span><span class="hs-pragma">]</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">++</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>    </span><span class="hs-comment">-- We want the RULE to fire first.</span><span>
</span><a name="line-1182"></a><span>                             </span><span class="hs-comment">-- It's recursive, so won't inline anyway,</span><span>
</span><a name="line-1183"></a><span>                             </span><span class="hs-comment">-- but saying so is more explicit</span><span>
</span><a name="line-1184"></a><span class="hs-special">(</span><span class="hs-operator">++</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>     </span><span class="hs-identifier">ys</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">ys</span><span>
</span><a name="line-1185"></a><span class="hs-special">(</span><span class="hs-operator">++</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">x</span><span class="hs-glyph">:</span><span class="hs-identifier">xs</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">ys</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">x</span><span> </span><span class="hs-glyph">:</span><span> </span><span class="hs-identifier">xs</span><span> </span><span class="hs-operator">++</span><span> </span><span class="hs-identifier">ys</span><span>
</span><a name="line-1186"></a><span>
</span><a name="line-1187"></a><span class="hs-pragma">{-# RULES</span><span>
</span><a name="line-1188"></a><span class="hs-pragma">&quot;++&quot;</span><span>    </span><span class="hs-pragma">[</span><span class="hs-pragma">~</span><span class="hs-pragma">1</span><span class="hs-pragma">]</span><span> </span><span class="hs-pragma">forall</span><span> </span><span class="hs-pragma">xs</span><span> </span><span class="hs-pragma">ys</span><span class="hs-pragma">.</span><span> </span><span class="hs-pragma">xs</span><span> </span><span class="hs-pragma">++</span><span> </span><span class="hs-pragma">ys</span><span> </span><span class="hs-pragma">=</span><span> </span><span class="hs-pragma">augment</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">\</span><span class="hs-pragma">c</span><span> </span><span class="hs-pragma">n</span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="hs-pragma">foldr</span><span> </span><span class="hs-pragma">c</span><span> </span><span class="hs-pragma">n</span><span> </span><span class="hs-pragma">xs</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">ys</span><span>
</span><a name="line-1189"></a><span>  </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-1190"></a><span>
</span><a name="line-1191"></a><span>
</span><a name="line-1192"></a><span class="hs-comment">-- |'otherwise' is defined as the value 'True'.  It helps to make</span><span>
</span><a name="line-1193"></a><span class="hs-comment">-- guards more readable.  eg.</span><span>
</span><a name="line-1194"></a><span class="hs-comment">--</span><span>
</span><a name="line-1195"></a><span class="hs-comment">-- &gt;  f x | x &lt; 0     = ...</span><span>
</span><a name="line-1196"></a><span class="hs-comment">-- &gt;      | otherwise = ...</span><span>
</span><a name="line-1197"></a><span class="hs-identifier">otherwise</span><span>               </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Bool</span><span>
</span><a name="line-1198"></a><span class="hs-identifier">otherwise</span><span>               </span><span class="hs-glyph">=</span><span>  </span><span class="hs-identifier">True</span><span>
</span><a name="line-1199"></a><span>
</span><a name="line-1200"></a><span class="hs-comment">----------------------------------------------</span><span>
</span><a name="line-1201"></a><span class="hs-comment">-- Type Char and String</span><span>
</span><a name="line-1202"></a><span class="hs-comment">----------------------------------------------</span><span>
</span><a name="line-1203"></a><span>
</span><a name="line-1204"></a><span class="hs-comment">-- | A 'String' is a list of characters.  String constants in Haskell are values</span><span>
</span><a name="line-1205"></a><span class="hs-comment">-- of type 'String'.</span><span>
</span><a name="line-1206"></a><span class="hs-comment">--</span><span>
</span><a name="line-1207"></a><span class="hs-keyword">type</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">Char</span><span class="hs-special">]</span><span>
</span><a name="line-1208"></a><span>
</span><a name="line-1209"></a><span class="hs-identifier">unsafeChr</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Char</span><span>
</span><a name="line-1210"></a><span class="hs-identifier">unsafeChr</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">I#</span><span> </span><span class="hs-identifier">i#</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">C#</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">chr#</span><span> </span><span class="hs-identifier">i#</span><span class="hs-special">)</span><span>
</span><a name="line-1211"></a><span>
</span><a name="line-1212"></a><span class="hs-comment">-- | The 'Prelude.fromEnum' method restricted to the type 'Data.Char.Char'.</span><span>
</span><a name="line-1213"></a><a name="unsafeChr"><a href="GHC.Base.html#unsafeChr"><span class="hs-identifier">ord</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Char</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Int</span><span>
</span><a name="line-1214"></a><span class="hs-identifier">ord</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">C#</span><span> </span><span class="hs-identifier">c#</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">I#</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">ord#</span><span> </span><span class="hs-identifier">c#</span><span class="hs-special">)</span><span>
</span><a name="line-1215"></a><span>
</span><a name="line-1216"></a><span class="hs-comment">-- | This 'String' equality predicate is used when desugaring</span><span>
</span><a name="line-1217"></a><span class="hs-comment">-- pattern-matches against strings.</span><span>
</span><a name="line-1218"></a><span class="hs-identifier">eqString</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Bool</span><span>
</span><a name="line-1219"></a><span class="hs-identifier">eqString</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>       </span><span class="hs-special">[</span><span class="hs-special">]</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">True</span><span>
</span><a name="line-1220"></a><span class="hs-identifier">eqString</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">c1</span><span class="hs-glyph">:</span><span class="hs-identifier">cs1</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">c2</span><span class="hs-glyph">:</span><span class="hs-identifier">cs2</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">c1</span><span> </span><span class="hs-operator">==</span><span> </span><span class="hs-identifier">c2</span><span> </span><span class="hs-operator">&amp;&amp;</span><span> </span><span class="hs-identifier">cs1</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">eqString</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">cs2</span><span>
</span><a name="line-1221"></a><span class="hs-identifier">eqString</span><span> </span><span class="hs-identifier">_</span><span>        </span><span class="hs-identifier">_</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><a name="line-1222"></a><span>
</span><a name="line-1223"></a><span class="hs-pragma">{-# RULES</span><span> </span><span class="hs-pragma">&quot;eqString&quot;</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">==</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">=</span><span> </span><span class="hs-pragma">eqString</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-1224"></a><span class="hs-comment">-- eqString also has a BuiltInRule in PrelRules.hs:</span><span>
</span><a name="line-1225"></a><span class="hs-comment">--      eqString (unpackCString# (Lit s1)) (unpackCString# (Lit s2)) = s1==s2</span><span>
</span><a name="line-1226"></a><span>
</span><a name="line-1227"></a><span>
</span><a name="line-1228"></a><span class="hs-comment">----------------------------------------------</span><span>
</span><a name="line-1229"></a><span class="hs-comment">-- 'Int' related definitions</span><span>
</span><a name="line-1230"></a><span class="hs-comment">----------------------------------------------</span><span>
</span><a name="line-1231"></a><span>
</span><a name="line-1232"></a><span class="hs-identifier">maxInt</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">minInt</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span>
</span><a name="line-1233"></a><span>
</span><a name="line-1234"></a><span class="hs-comment">{- Seems clumsy. Should perhaps put minInt and MaxInt directly into MachDeps.h -}</span><span>
</span><a name="line-1235"></a><span class="hs-cpp">#if WORD_SIZE_IN_BITS == 31
</span><span class="hs-identifier">minInt</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">I#</span><span> </span><span class="hs-special">(</span><span class="hs-number">-0x40000000#</span><span class="hs-special">)</span><span>
</span><a name="line-1237"></a><span class="hs-identifier">maxInt</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">I#</span><span> </span><span class="hs-number">0x3FFFFFFF#</span><span>
</span><a name="line-1238"></a><span class="hs-cpp">#elif WORD_SIZE_IN_BITS == 32
</span><span class="hs-identifier">minInt</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">I#</span><span> </span><span class="hs-special">(</span><span class="hs-number">-0x80000000#</span><span class="hs-special">)</span><span>
</span><a name="line-1240"></a><span class="hs-identifier">maxInt</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">I#</span><span> </span><span class="hs-number">0x7FFFFFFF#</span><span>
</span><a name="line-1241"></a><span class="hs-cpp">#else
</span><span class="hs-identifier">minInt</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">I#</span><span> </span><span class="hs-special">(</span><span class="hs-number">-0x8000000000000000#</span><span class="hs-special">)</span><span>
</span><a name="line-1243"></a><span class="hs-identifier">maxInt</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">I#</span><span> </span><span class="hs-number">0x7FFFFFFFFFFFFFFF#</span><span>
</span><a name="line-1244"></a><span class="hs-cpp">#endif
</span><span>
</span><a name="line-1246"></a><span class="hs-comment">----------------------------------------------</span><span>
</span><a name="line-1247"></a><span class="hs-comment">-- The function type</span><span>
</span><a name="line-1248"></a><span class="hs-comment">----------------------------------------------</span><span>
</span><a name="line-1249"></a><span>
</span><a name="line-1250"></a><span class="hs-comment">-- | Identity function.</span><span>
</span><a name="line-1251"></a><span class="hs-comment">--</span><span>
</span><a name="line-1252"></a><span class="hs-comment">-- &gt; id x = x</span><span>
</span><a name="line-1253"></a><span class="hs-identifier">id</span><span>                      </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">a</span><span>
</span><a name="line-1254"></a><span class="hs-identifier">id</span><span> </span><span class="hs-identifier">x</span><span>                    </span><span class="hs-glyph">=</span><span>  </span><span class="hs-identifier">x</span><span>
</span><a name="line-1255"></a><span>
</span><a name="line-1256"></a><span class="hs-comment">-- Assertion function.  This simply ignores its boolean argument.</span><span>
</span><a name="line-1257"></a><span class="hs-comment">-- The compiler may rewrite it to @('assertError' line)@.</span><span>
</span><a name="line-1258"></a><span>
</span><a name="line-1259"></a><span class="hs-comment">-- | If the first argument evaluates to 'True', then the result is the</span><span>
</span><a name="line-1260"></a><span class="hs-comment">-- second argument.  Otherwise an 'Control.Exception.AssertionFailed' exception</span><span>
</span><a name="line-1261"></a><span class="hs-comment">-- is raised, containing a 'String' with the source file and line number of the</span><span>
</span><a name="line-1262"></a><span class="hs-comment">-- call to 'assert'.</span><span>
</span><a name="line-1263"></a><span class="hs-comment">--</span><span>
</span><a name="line-1264"></a><span class="hs-comment">-- Assertions can normally be turned on or off with a compiler flag</span><span>
</span><a name="line-1265"></a><span class="hs-comment">-- (for GHC, assertions are normally on unless optimisation is turned on</span><span>
</span><a name="line-1266"></a><span class="hs-comment">-- with @-O@ or the @-fignore-asserts@</span><span>
</span><a name="line-1267"></a><span class="hs-comment">-- option is given).  When assertions are turned off, the first</span><span>
</span><a name="line-1268"></a><span class="hs-comment">-- argument to 'assert' is ignored, and the second argument is</span><span>
</span><a name="line-1269"></a><span class="hs-comment">-- returned as the result.</span><span>
</span><a name="line-1270"></a><span>
</span><a name="line-1271"></a><span class="hs-comment">--      SLPJ: in 5.04 etc 'assert' is in GHC.Prim,</span><span>
</span><a name="line-1272"></a><span class="hs-comment">--      but from Template Haskell onwards it's simply</span><span>
</span><a name="line-1273"></a><span class="hs-comment">--      defined here in Base.hs</span><span>
</span><a name="line-1274"></a><span class="hs-identifier">assert</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Bool</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">a</span><span>
</span><a name="line-1275"></a><span class="hs-identifier">assert</span><span> </span><span class="hs-identifier">_pred</span><span> </span><span class="hs-identifier">r</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">r</span><span>
</span><a name="line-1276"></a><span>
</span><a name="line-1277"></a><span class="hs-identifier">breakpoint</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">a</span><span>
</span><a name="line-1278"></a><span class="hs-identifier">breakpoint</span><span> </span><a name="local-6989586621679020388"><a href="#local-6989586621679020388"><span class="hs-identifier">r</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">r</span><span>
</span><a name="line-1279"></a><span>
</span><a name="line-1280"></a><span class="hs-identifier">breakpointCond</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Bool</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">a</span><span>
</span><a name="line-1281"></a><span class="hs-identifier">breakpointCond</span><span> </span><a href="#local-6989586621679020390"><span class="hs-identifier hs-var">_</span></a><span> </span><span class="hs-identifier">r</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">r</span><span>
</span><a name="line-1282"></a><span>
</span><a name="line-1283"></a><span class="hs-keyword">data</span><span> </span><span class="hs-identifier">Opaque</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Bool"><span class="hs-identifier hs-type">a</span></a><span class="hs-operator">.</span><span> </span><span class="hs-identifier">O</span><span> </span><a href="#local-6989586621679020179"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-1284"></a><span class="hs-comment">-- | @const x@ is a unary function which evaluates to @x@ for all inputs.</span><span>
</span><a name="line-1285"></a><span class="hs-comment">--</span><span>
</span><a name="line-1286"></a><span class="hs-comment">-- &gt;&gt;&gt; const 42 &quot;hello&quot;</span><span>
</span><a name="line-1287"></a><span class="hs-comment">-- 42</span><span>
</span><a name="line-1288"></a><span class="hs-comment">--</span><span>
</span><a name="line-1289"></a><span class="hs-comment">-- &gt;&gt;&gt; map (const 42) [0..3]</span><span>
</span><a name="line-1290"></a><span class="hs-comment">-- [42,42,42,42]</span><span>
</span><a name="line-1291"></a><span class="hs-identifier">const</span><span>                   </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">a</span><span>
</span><a name="line-1292"></a><span class="hs-identifier">const</span><span> </span><span class="hs-identifier">x</span><span> </span><span class="hs-identifier">_</span><span>               </span><span class="hs-glyph">=</span><span>  </span><span class="hs-identifier">x</span><span>
</span><a name="line-1293"></a><span>
</span><a name="line-1294"></a><span class="hs-comment">-- | Function composition.</span><span>
</span><a name="line-1295"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">.</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-1296"></a><span class="hs-comment">-- Make sure it has TWO args only on the left, so that it inlines</span><span>
</span><a name="line-1297"></a><span class="hs-comment">-- when applied to two functions, even if there is no final argument</span><span>
</span><a name="line-1298"></a><span class="hs-special">(</span><span class="hs-operator">.</span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">b</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">c</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">b</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">c</span><span>
</span><a name="line-1299"></a><span class="hs-special">(</span><span class="hs-operator">.</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">g</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">x</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">g</span><span> </span><span class="hs-identifier">x</span><span class="hs-special">)</span><span>
</span><a name="line-1300"></a><span>
</span><a name="line-1301"></a><span class="hs-comment">-- | @'flip' f@ takes its (first) two arguments in the reverse order of @f@.</span><span>
</span><a name="line-1302"></a><span class="hs-comment">--</span><span>
</span><a name="line-1303"></a><span class="hs-comment">-- &gt;&gt;&gt; flip (++) &quot;hello&quot; &quot;world&quot;</span><span>
</span><a name="line-1304"></a><span class="hs-comment">-- &quot;worldhello&quot;</span><span>
</span><a name="line-1305"></a><span class="hs-identifier">flip</span><span>                    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">c</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">c</span><span>
</span><a name="line-1306"></a><span class="hs-identifier">flip</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">x</span><span> </span><span class="hs-identifier">y</span><span>              </span><span class="hs-glyph">=</span><span>  </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">y</span><span> </span><span class="hs-identifier">x</span><span>
</span><a name="line-1307"></a><span>
</span><a name="line-1308"></a><span class="hs-comment">-- | Application operator.  This operator is redundant, since ordinary</span><span>
</span><a name="line-1309"></a><span class="hs-comment">-- application @(f x)@ means the same as @(f '$' x)@. However, '$' has</span><span>
</span><a name="line-1310"></a><span class="hs-comment">-- low, right-associative binding precedence, so it sometimes allows</span><span>
</span><a name="line-1311"></a><span class="hs-comment">-- parentheses to be omitted; for example:</span><span>
</span><a name="line-1312"></a><span class="hs-comment">--</span><span>
</span><a name="line-1313"></a><span class="hs-comment">-- &gt; f $ g $ h x  =  f (g (h x))</span><span>
</span><a name="line-1314"></a><span class="hs-comment">--</span><span>
</span><a name="line-1315"></a><span class="hs-comment">-- It is also useful in higher-order situations, such as @'map' ('$' 0) xs@,</span><span>
</span><a name="line-1316"></a><span class="hs-comment">-- or @'Data.List.zipWith' ('$') fs xs@.</span><span>
</span><a name="line-1317"></a><span class="hs-comment">--</span><span>
</span><a name="line-1318"></a><span class="hs-comment">-- Note that @($)@ is levity-polymorphic in its result type, so that</span><span>
</span><a name="line-1319"></a><span class="hs-comment">--     foo $ True    where  foo :: Bool -&gt; Int#</span><span>
</span><a name="line-1320"></a><span class="hs-comment">-- is well-typed</span><span>
</span><a name="line-1321"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">$</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-1322"></a><span class="hs-special">(</span><span class="hs-operator">$</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span class="hs-identifier">r</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">b</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">TYPE</span><span> </span><span class="hs-identifier">r</span><span class="hs-special">)</span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">b</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">b</span><span>
</span><a name="line-1323"></a><span class="hs-identifier">f</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">x</span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">x</span><span>
</span><a name="line-1324"></a><span>
</span><a name="line-1325"></a><span class="hs-comment">-- | Strict (call-by-value) application operator. It takes a function and an</span><span>
</span><a name="line-1326"></a><span class="hs-comment">-- argument, evaluates the argument to weak head normal form (WHNF), then calls</span><span>
</span><a name="line-1327"></a><span class="hs-comment">-- the function with that value.</span><span>
</span><a name="line-1328"></a><span>
</span><a name="line-1329"></a><span class="hs-special">(</span><span class="hs-operator">$!</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span class="hs-identifier">r</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">b</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">TYPE</span><span> </span><span class="hs-identifier">r</span><span class="hs-special">)</span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">b</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">b</span><span>
</span><a name="line-1330"></a><span class="hs-identifier">f</span><span> </span><span class="hs-operator">$!</span><span> </span><span class="hs-identifier">x</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-glyph">!</span><span class="hs-identifier">vx</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">x</span><span> </span><span class="hs-keyword">in</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">vx</span><span>  </span><span class="hs-comment">-- see #2273</span><span>
</span><a name="line-1331"></a><span>
</span><a name="line-1332"></a><span class="hs-comment">-- | @'until' p f@ yields the result of applying @f@ until @p@ holds.</span><span>
</span><a name="line-1333"></a><span class="hs-identifier">until</span><span>                   </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Bool</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">a</span><span>
</span><a name="line-1334"></a><span class="hs-identifier">until</span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">go</span><span>
</span><a name="line-1335"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-1336"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-identifier">x</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">p</span><span> </span><span class="hs-identifier">x</span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">x</span><span>
</span><a name="line-1337"></a><span>         </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">otherwise</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">x</span><span class="hs-special">)</span><span>
</span><a name="line-1338"></a><span>
</span><a name="line-1339"></a><span class="hs-comment">-- | 'asTypeOf' is a type-restricted version of 'const'.  It is usually</span><span>
</span><a name="line-1340"></a><span class="hs-comment">-- used as an infix operator, and its typing forces its first argument</span><span>
</span><a name="line-1341"></a><span class="hs-comment">-- (which is usually overloaded) to have the same type as the second.</span><span>
</span><a name="line-1342"></a><span class="hs-identifier">asTypeOf</span><span>                </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">a</span><span>
</span><a name="line-1343"></a><span class="hs-identifier">asTypeOf</span><span>                </span><span class="hs-glyph">=</span><span>  </span><span class="hs-identifier">const</span><span>
</span><a name="line-1344"></a><span>
</span><a name="line-1345"></a><span class="hs-comment">----------------------------------------------</span><span>
</span><a name="line-1346"></a><span class="hs-comment">-- Functor/Applicative/Monad instances for IO</span><span>
</span><a name="line-1347"></a><span class="hs-comment">----------------------------------------------</span><span>
</span><a name="line-1348"></a><span>
</span><a name="line-1349"></a><span class="hs-comment">-- | @since 2.01</span><span>
</span><a name="line-1350"></a><span class="hs-keyword">instance</span><span>  </span><span class="hs-identifier">Functor</span><span> </span><span class="hs-identifier">IO</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1351"></a><span>   </span><span class="hs-identifier">fmap</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-identifier">x</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">x</span><span> </span><span class="hs-operator">&gt;&gt;=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">pure</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">f</span><span class="hs-special">)</span><span>
</span><a name="line-1352"></a><span>
</span><a name="line-1353"></a><span class="hs-comment">-- | @since 2.01</span><span>
</span><a name="line-1354"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Applicative</span><span> </span><a href="GHC.Base.html#pure"><span class="hs-identifier hs-var">IO</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1355"></a><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">pure</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-1356"></a><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">*&gt;</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-1357"></a><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">liftA2</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-1358"></a><span>    </span><span class="hs-identifier">pure</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">returnIO</span><span>
</span><a name="line-1359"></a><span>    </span><span class="hs-special">(</span><span class="hs-operator">*&gt;</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">thenIO</span><span>
</span><a name="line-1360"></a><span>    </span><span class="hs-special">(</span><span class="hs-operator">&lt;*&gt;</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">ap</span><span>
</span><a name="line-1361"></a><span>    </span><span class="hs-identifier">liftA2</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Base.html#returnIO"><span class="hs-identifier hs-var">liftM2</span></a><span>
</span><a name="line-1362"></a><span>
</span><a name="line-1363"></a><span class="hs-comment">-- | @since 2.01</span><span>
</span><a name="line-1364"></a><span class="hs-keyword">instance</span><span>  </span><span class="hs-identifier">Monad</span><span> </span><a href="GHC.Base.html#liftM2"><span class="hs-identifier hs-var">IO</span></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-1365"></a><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&gt;&gt;</span><span class="hs-pragma">)</span><span>   </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-1366"></a><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">&gt;&gt;=</span><span class="hs-pragma">)</span><span>  </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-1367"></a><span>    </span><span class="hs-special">(</span><span class="hs-operator">&gt;&gt;</span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-operator">*&gt;</span><span class="hs-special">)</span><span>
</span><a name="line-1368"></a><span>    </span><span class="hs-special">(</span><span class="hs-operator">&gt;&gt;=</span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">bindIO</span><span>
</span><a name="line-1369"></a><span>    </span><span class="hs-identifier">fail</span><span> </span><span class="hs-identifier">s</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">failIO</span><span> </span><span class="hs-identifier">s</span><span>
</span><a name="line-1370"></a><span>
</span><a name="line-1371"></a><span class="hs-comment">-- | @since 4.9.0.0</span><span>
</span><a name="line-1372"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Alternative</span><span> </span><span class="hs-identifier">IO</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1373"></a><span>    </span><span class="hs-identifier">empty</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">failIO</span><span> </span><span class="hs-string">&quot;mzero&quot;</span><span>
</span><a name="line-1374"></a><span>    </span><span class="hs-special">(</span><span class="hs-operator">&lt;|&gt;</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">mplusIO</span><span>
</span><a name="line-1375"></a><span>
</span><a name="line-1376"></a><span class="hs-comment">-- | @since 4.9.0.0</span><span>
</span><a name="line-1377"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">MonadPlus</span><span> </span><span class="hs-identifier">IO</span><span>
</span><a name="line-1378"></a><span>
</span><a name="line-1379"></a><span class="hs-identifier">returnIO</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">IO</span><span> </span><span class="hs-identifier">a</span><span>
</span><a name="line-1380"></a><span class="hs-identifier">returnIO</span><span> </span><a href="GHC.Base.html#MonadPlus"><span class="hs-identifier hs-type">x</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Base.html#MonadPlus"><span class="hs-identifier hs-type">IO</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#IO"><span class="hs-identifier hs-type">s</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(#</span><span> </span><span class="hs-identifier">s</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">x</span><span> </span><span class="hs-special">#)</span><span class="hs-special">)</span><span>
</span><a name="line-1381"></a><span>
</span><a name="line-1382"></a><span class="hs-identifier">bindIO</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">IO</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">IO</span><span> </span><span class="hs-identifier">b</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">IO</span><span> </span><span class="hs-identifier">b</span><span>
</span><a name="line-1383"></a><a name="returnIO"><a href="GHC.Base.html#returnIO"><span class="hs-identifier">bindIO</span></a></a><span> </span><span class="hs-special">(</span><span class="hs-identifier">IO</span><span> </span><span class="hs-identifier">m</span><span class="hs-special">)</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#IO"><span class="hs-identifier hs-var">k</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">IO</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-keyword">of</span><span> </span><span class="hs-special">(#</span><span> </span><span class="hs-identifier">new_s</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-special">#)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">unIO</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">k</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">new_s</span><span class="hs-special">)</span><span>
</span><a name="line-1384"></a><span>
</span><a name="line-1385"></a><span class="hs-identifier">thenIO</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a><span> </span><a href="#local-6989586621679020160"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">IO</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">IO</span><span> </span><span class="hs-identifier">b</span><span>
</span><a name="line-1386"></a><a name="bindIO"><a href="GHC.Base.html#bindIO"><span class="hs-identifier">thenIO</span></a></a><span> </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#IO"><span class="hs-identifier hs-var">IO</span></a><span> </span><a name="local-6989586621679020410"><a href="#local-6989586621679020410"><span class="hs-identifier">m</span></a></a><span class="hs-special">)</span><span> </span><a name="local-6989586621679020411"><a href="#local-6989586621679020411"><span class="hs-identifier">k</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#IO"><span class="hs-identifier hs-var">IO</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><a name="local-6989586621679020412"><a href="#local-6989586621679020412"><span class="hs-identifier">s</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679020410"><span class="hs-identifier hs-var">m</span></a><span> </span><a href="#local-6989586621679020412"><span class="hs-identifier hs-var">s</span></a><span> </span><span class="hs-keyword">of</span><span> </span><span class="hs-special">(#</span><span> </span><a name="local-6989586621679020413"><a href="#local-6989586621679020413"><span class="hs-identifier">new_s</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679020414"><a href="#local-6989586621679020414"><span class="hs-identifier">_</span></a></a><span> </span><span class="hs-special">#)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="GHC.Base.html#unIO"><span class="hs-identifier hs-var">unIO</span></a><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-identifier">new_s</span><span class="hs-special">)</span><span>
</span><a name="line-1387"></a><span>
</span><a name="line-1388"></a><span class="hs-identifier">unIO</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">IO</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#IO"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">State#</span><span> </span><span class="hs-identifier">RealWorld</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(#</span><span> </span><span class="hs-identifier">State#</span><span> </span><span class="hs-identifier">RealWorld</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-special">#)</span><span class="hs-special">)</span><span>
</span><a name="line-1389"></a><a name="thenIO"><a href="GHC.Base.html#thenIO"><span class="hs-identifier">unIO</span></a></a><span> </span><span class="hs-special">(</span><span class="hs-identifier">IO</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#IO"><span class="hs-identifier hs-var">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621679020416"><a href="#local-6989586621679020416"><span class="hs-identifier">a</span></a></a><span>
</span><a name="line-1390"></a><span>
</span><a name="line-1391"></a><span class="hs-comment">{- |
Returns the tag of a constructor application; this function is used
by the deriving code for Eq, Ord and Enum.
-}</span><span>
</span><a name="line-1395"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">getTag</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-1396"></a><span class="hs-identifier">getTag</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Int#</span><span>
</span><a name="line-1397"></a><span class="hs-identifier">getTag</span><span> </span><span class="hs-identifier">x</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">dataToTag#</span><span> </span><span class="hs-identifier">x</span><span>
</span><a name="line-1398"></a><span>
</span><a name="line-1399"></a><span class="hs-comment">----------------------------------------------</span><span>
</span><a name="line-1400"></a><span class="hs-comment">-- Numeric primops</span><span>
</span><a name="line-1401"></a><span class="hs-comment">----------------------------------------------</span><span>
</span><a name="line-1402"></a><span>
</span><a name="line-1403"></a><span class="hs-comment">-- Definitions of the boxed PrimOps; these will be</span><span>
</span><a name="line-1404"></a><span class="hs-comment">-- used in the case of partial applications, etc.</span><span>
</span><a name="line-1405"></a><span>
</span><a name="line-1406"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">quotInt</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-1407"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">remInt</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-1408"></a><span>
</span><a name="line-1409"></a><span class="hs-identifier">quotInt</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">remInt</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">divInt</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">modInt</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Int</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Int</span><span>
</span><a name="line-1410"></a><span class="hs-special">(</span><span class="hs-identifier">I#</span><span> </span><span class="hs-identifier">x</span><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">quotInt</span><span class="hs-special">`</span><span>  </span><span class="hs-special">(</span><span class="hs-identifier">I#</span><span> </span><span class="hs-identifier">y</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">I#</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">x</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">quotInt#</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">y</span><span class="hs-special">)</span><span>
</span><a name="line-1411"></a><span class="hs-special">(</span><span class="hs-identifier">I#</span><span> </span><span class="hs-identifier">x</span><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">remInt</span><span class="hs-special">`</span><span>   </span><span class="hs-special">(</span><span class="hs-identifier">I#</span><span> </span><span class="hs-identifier">y</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">I#</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">x</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">remInt#</span><span class="hs-special">`</span><span>  </span><span class="hs-identifier">y</span><span class="hs-special">)</span><span>
</span><a name="line-1412"></a><span class="hs-special">(</span><span class="hs-identifier">I#</span><span> </span><span class="hs-identifier">x</span><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">divInt</span><span class="hs-special">`</span><span>   </span><span class="hs-special">(</span><span class="hs-identifier">I#</span><span> </span><span class="hs-identifier">y</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">I#</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">x</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">divInt#</span><span class="hs-special">`</span><span>  </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Int"><span class="hs-identifier hs-type">y</span></a><span class="hs-special">)</span><span>
</span><a name="line-1413"></a><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><a name="local-6989586621679020421"><a href="#local-6989586621679020421"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><a name="quotInt"><a href="GHC.Base.html#quotInt"><span class="hs-identifier">modInt</span></a></a><span class="hs-special">`</span><span>   </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><a name="local-6989586621679020422"><a href="#local-6989586621679020422"><span class="hs-identifier">y</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020421"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">modInt#</span><span class="hs-special">`</span><span>  </span><a href="#local-6989586621679020422"><span class="hs-identifier hs-var">y</span></a><span class="hs-special">)</span><span>
</span><a name="line-1414"></a><span>
</span><a name="line-1415"></a><span class="hs-identifier">quotRemInt</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Int</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html#divInt%23"><span class="hs-identifier hs-var">Int</span></a><span class="hs-special">)</span><span>
</span><a name="line-1416"></a><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><a name="local-6989586621679020427"><a href="#local-6989586621679020427"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">quotRemInt</span><span class="hs-special">`</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">I#</span><span> </span><span class="hs-identifier">y</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html#modInt%23"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier">quotRemInt#</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">y</span><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-1417"></a><span>                             </span><span class="hs-special">(#</span><span> </span><span class="hs-identifier">q</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">r</span><span> </span><span class="hs-special">#)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-1418"></a><span>                                 </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Int"><span class="hs-identifier hs-type">I#</span></a><span> </span><span class="hs-identifier">q</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">I#</span><span> </span><span class="hs-identifier">r</span><span class="hs-special">)</span><span>
</span><a name="line-1419"></a><span>
</span><a name="line-1420"></a><span class="hs-identifier">divModInt</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Int</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Int</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Int</span><span class="hs-special">)</span><span>
</span><a name="line-1421"></a><span class="hs-special">(</span><span class="hs-identifier">I#</span><span> </span><span class="hs-identifier">x</span><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">divModInt</span><span class="hs-special">`</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">I#</span><span> </span><span class="hs-identifier">y</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">x</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">divModInt#</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">y</span><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-1422"></a><span>                            </span><span class="hs-special">(#</span><span> </span><span class="hs-identifier">q</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">r</span><span> </span><span class="hs-special">#)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">I#</span><span> </span><span class="hs-identifier">q</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">I#</span><span> </span><span class="hs-identifier">r</span><span class="hs-special">)</span><span>
</span><a name="line-1423"></a><span>
</span><a name="line-1424"></a><span class="hs-identifier">divModInt#</span><span> </span><span class="hs-glyph">::</span><span> </span><a name="divModInt"><a href="GHC.Base.html#divModInt"><span class="hs-identifier">Int#</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Int#</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(#</span><span> </span><span class="hs-identifier">Int#</span><span class="hs-special">,</span><span> </span><a href="GHC.Base.html#divModInt%23"><span class="hs-identifier hs-var">Int#</span></a><span> </span><span class="hs-special">#)</span><span>
</span><a name="line-1425"></a><span class="hs-identifier">x#</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">divModInt#</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">y#</span><span>
</span><a name="line-1426"></a><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">isTrue#</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">x#</span><span> </span><span class="hs-operator">&gt;#</span><span> </span><span class="hs-number">0#</span><span class="hs-special">)</span><span> </span><span class="hs-operator">&amp;&amp;</span><span> </span><span class="hs-identifier">isTrue#</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">y#</span><span> </span><span class="hs-operator">&lt;#</span><span> </span><span class="hs-number">0#</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-1427"></a><span>                                    </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">x#</span><span> </span><span class="hs-operator">-#</span><span> </span><span class="hs-number">1#</span><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">quotRemInt#</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">y#</span><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-1428"></a><span>                                      </span><span class="hs-special">(#</span><span> </span><span class="hs-identifier">q</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">r</span><span> </span><span class="hs-special">#)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(#</span><span> </span><span class="hs-identifier">q</span><span> </span><span class="hs-operator">-#</span><span> </span><span class="hs-number">1#</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">r</span><span> </span><span class="hs-operator">+#</span><span> </span><span class="hs-identifier">y#</span><span> </span><span class="hs-operator">+#</span><span> </span><span class="hs-number">1#</span><span> </span><span class="hs-special">#)</span><span>
</span><a name="line-1429"></a><span> </span><span class="hs-glyph">|</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#isTrue%23"><span class="hs-identifier hs-var">isTrue#</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020437"><span class="hs-identifier hs-var">x#</span></a><span> </span><span class="hs-operator hs-var">&lt;#</span><span> </span><span class="hs-number">0#</span><span class="hs-special">)</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html#%26%26"><span class="hs-operator hs-var">&amp;&amp;</span></a><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#isTrue%23"><span class="hs-identifier hs-var">isTrue#</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020438"><span class="hs-identifier hs-var">y#</span></a><span> </span><span class="hs-operator hs-var">&gt;#</span><span> </span><span class="hs-number">0#</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-1430"></a><span>                                    </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679020437"><span class="hs-identifier hs-var">x#</span></a><span> </span><span class="hs-operator hs-var">+#</span><span> </span><span class="hs-number">1#</span><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">quotRemInt#</span><span class="hs-special">`</span><span> </span><a href="#local-6989586621679020438"><span class="hs-identifier hs-var">y#</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-1431"></a><span>                                      </span><span class="hs-special">(#</span><span> </span><a name="local-6989586621679020439"><a href="#local-6989586621679020439"><span class="hs-identifier">q</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679020440"><a href="#local-6989586621679020440"><span class="hs-identifier">r</span></a></a><span> </span><span class="hs-special">#)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(#</span><span> </span><a href="#local-6989586621679020439"><span class="hs-identifier hs-var">q</span></a><span> </span><span class="hs-operator hs-var">-#</span><span> </span><span class="hs-number">1#</span><span class="hs-special">,</span><span> </span><a href="#local-6989586621679020440"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-operator hs-var">+#</span><span> </span><a href="#local-6989586621679020438"><span class="hs-identifier hs-var">y#</span></a><span> </span><span class="hs-operator hs-var">-#</span><span> </span><span class="hs-number">1#</span><span> </span><span class="hs-special">#)</span><span>
</span><a name="line-1432"></a><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">otherwise</span><span>                                </span><span class="hs-glyph">=</span><span>
</span><a name="line-1433"></a><span>                                    </span><span class="hs-identifier">x#</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">quotRemInt#</span><span class="hs-special">`</span><span> </span><span class="hs-identifier hs-var">y#</span><span>
</span><a name="line-1434"></a><span>
</span><a name="line-1435"></a><span class="hs-comment">-- Wrappers for the shift operations.  The uncheckedShift# family are</span><span>
</span><a name="line-1436"></a><span class="hs-comment">-- undefined when the amount being shifted by is greater than the size</span><span>
</span><a name="line-1437"></a><span class="hs-comment">-- in bits of Int#, so these wrappers perform a check and return</span><span>
</span><a name="line-1438"></a><span class="hs-comment">-- either zero or -1 appropriately.</span><span>
</span><a name="line-1439"></a><span class="hs-comment">--</span><span>
</span><a name="line-1440"></a><span class="hs-comment">-- Note that these wrappers still produce undefined results when the</span><span>
</span><a name="line-1441"></a><span class="hs-comment">-- second argument (the shift amount) is negative.</span><span>
</span><a name="line-1442"></a><span>
</span><a name="line-1443"></a><span class="hs-comment">-- | Shift the argument left by the specified number of bits</span><span>
</span><a name="line-1444"></a><span class="hs-comment">-- (which must be non-negative).</span><span>
</span><a name="line-1445"></a><span class="hs-identifier">shiftL#</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Word#</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Int#</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Word#</span><span>
</span><a name="line-1446"></a><span class="hs-identifier">a</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">shiftL#</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">b</span><span>   </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">isTrue#</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">b</span><span> </span><span class="hs-operator">&gt;=#</span><span> </span><span class="hs-identifier">WORD_SIZE_IN_BITS#</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0##</span><span>
</span><a name="line-1447"></a><span>                </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">otherwise</span><span>                          </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">uncheckedShiftL#</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">b</span><span>
</span><a name="line-1448"></a><span>
</span><a name="line-1449"></a><span class="hs-comment">-- | Shift the argument right by the specified number of bits</span><span>
</span><a name="line-1450"></a><span class="hs-comment">-- (which must be non-negative).</span><span>
</span><a name="line-1451"></a><span class="hs-comment">-- The &quot;RL&quot; means &quot;right, logical&quot; (as opposed to RA for arithmetic)</span><span>
</span><a name="line-1452"></a><span class="hs-comment">-- (although an arithmetic right shift wouldn't make sense for Word#)</span><span>
</span><a name="line-1453"></a><span class="hs-identifier">shiftRL#</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Word#</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Int#</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Word#</span><span>
</span><a name="line-1454"></a><span class="hs-identifier">a</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">shiftRL#</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">b</span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">isTrue#</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">b</span><span> </span><span class="hs-operator">&gt;=#</span><span> </span><span class="hs-identifier">WORD_SIZE_IN_BITS#</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0##</span><span>
</span><a name="line-1455"></a><span>                </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">otherwise</span><span>                          </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">uncheckedShiftRL#</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">b</span><span>
</span><a name="line-1456"></a><span>
</span><a name="line-1457"></a><span class="hs-comment">-- | Shift the argument left by the specified number of bits</span><span>
</span><a name="line-1458"></a><span class="hs-comment">-- (which must be non-negative).</span><span>
</span><a name="line-1459"></a><span class="hs-identifier">iShiftL#</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int#</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Int#</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Int#</span><span>
</span><a name="line-1460"></a><span class="hs-identifier">a</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">iShiftL#</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">b</span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">isTrue#</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">b</span><span> </span><span class="hs-operator">&gt;=#</span><span> </span><span class="hs-identifier">WORD_SIZE_IN_BITS#</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0#</span><span>
</span><a name="line-1461"></a><span>                </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">otherwise</span><span>                          </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">uncheckedIShiftL#</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">b</span><span>
</span><a name="line-1462"></a><span>
</span><a name="line-1463"></a><span class="hs-comment">-- | Shift the argument right (signed) by the specified number of bits</span><span>
</span><a name="line-1464"></a><span class="hs-comment">-- (which must be non-negative).</span><span>
</span><a name="line-1465"></a><span class="hs-comment">-- The &quot;RA&quot; means &quot;right, arithmetic&quot; (as opposed to RL for logical)</span><span>
</span><a name="line-1466"></a><span class="hs-identifier">iShiftRA#</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int#</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Int#</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Int#</span><span>
</span><a name="line-1467"></a><span class="hs-identifier">a</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">iShiftRA#</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">isTrue#</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">b</span><span> </span><span class="hs-operator">&gt;=#</span><span> </span><span class="hs-identifier">WORD_SIZE_IN_BITS#</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="hs-identifier">isTrue#</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span> </span><span class="hs-operator">&lt;#</span><span> </span><span class="hs-number">0#</span><span class="hs-special">)</span><span>
</span><a name="line-1468"></a><span>                                                          </span><span class="hs-keyword">then</span><span> </span><span class="hs-special">(</span><span class="hs-number">-1#</span><span class="hs-special">)</span><span>
</span><a name="line-1469"></a><span>                                                          </span><span class="hs-keyword">else</span><span> </span><span class="hs-number">0#</span><span>
</span><a name="line-1470"></a><span>                </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">otherwise</span><span>                          </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">a</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">uncheckedIShiftRA#</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">b</span><span>
</span><a name="line-1471"></a><span>
</span><a name="line-1472"></a><span class="hs-comment">-- | Shift the argument right (unsigned) by the specified number of bits</span><span>
</span><a name="line-1473"></a><span class="hs-comment">-- (which must be non-negative).</span><span>
</span><a name="line-1474"></a><span class="hs-comment">-- The &quot;RL&quot; means &quot;right, logical&quot; (as opposed to RA for arithmetic)</span><span>
</span><a name="line-1475"></a><span class="hs-identifier">iShiftRL#</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Int#</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Int#</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Int#</span><span>
</span><a name="line-1476"></a><span class="hs-identifier">a</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">iShiftRL#</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">isTrue#</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">b</span><span> </span><span class="hs-operator">&gt;=#</span><span> </span><span class="hs-identifier">WORD_SIZE_IN_BITS#</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0#</span><span>
</span><a name="line-1477"></a><span>                </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">otherwise</span><span>                          </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">uncheckedIShiftRL#</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">b</span><span>
</span><a name="line-1478"></a><span>
</span><a name="line-1479"></a><span class="hs-comment">-- Rules for C strings (the functions themselves are now in GHC.CString)</span><span>
</span><a name="line-1480"></a><span class="hs-pragma">{-# RULES</span><span>
</span><a name="line-1481"></a><span class="hs-pragma">&quot;unpack&quot;</span><span>       </span><span class="hs-pragma">[</span><span class="hs-pragma">~</span><span class="hs-pragma">1</span><span class="hs-pragma">]</span><span> </span><span class="hs-pragma">forall</span><span> </span><span class="hs-pragma">a</span><span>   </span><span class="hs-pragma">.</span><span> </span><span class="hs-pragma">unpackCString#</span><span> </span><span class="hs-pragma">a</span><span>             </span><span class="hs-pragma">=</span><span> </span><span class="hs-pragma">build</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">unpackFoldrCString#</span><span> </span><span class="hs-pragma">a</span><span class="hs-pragma">)</span><span>
</span><a name="line-1482"></a><span class="hs-pragma">&quot;unpack-list&quot;</span><span>  </span><span class="hs-pragma">[</span><span class="hs-pragma">1</span><span class="hs-pragma">]</span><span>  </span><span class="hs-pragma">forall</span><span> </span><span class="hs-pragma">a</span><span>   </span><span class="hs-pragma">.</span><span> </span><span class="hs-pragma">unpackFoldrCString#</span><span> </span><span class="hs-pragma">a</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">:</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">[</span><span class="hs-pragma">]</span><span> </span><span class="hs-pragma">=</span><span> </span><span class="hs-pragma">unpackCString#</span><span> </span><span class="hs-pragma">a</span><span>
</span><a name="line-1483"></a><span class="hs-pragma">&quot;unpack-append&quot;</span><span>     </span><span class="hs-pragma">forall</span><span> </span><span class="hs-pragma">a</span><span> </span><span class="hs-pragma">n</span><span> </span><span class="hs-pragma">.</span><span> </span><span class="hs-pragma">unpackFoldrCString#</span><span> </span><span class="hs-pragma">a</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">:</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">n</span><span>  </span><span class="hs-pragma">=</span><span> </span><span class="hs-pragma">unpackAppendCString#</span><span> </span><span class="hs-pragma">a</span><span> </span><span class="hs-pragma">n</span><span>
</span><a name="line-1484"></a><span>
</span><a name="line-1485"></a><span class="hs-pragma">-- There's a built-in rule (in PrelRules.hs) for</span><span>
</span><a name="line-1486"></a><span class="hs-pragma">--      unpackFoldr &quot;foo&quot; c (unpackFoldr &quot;baz&quot; c n)  =  unpackFoldr &quot;foobaz&quot; c n</span><span>
</span><a name="line-1487"></a><span>
</span><a name="line-1488"></a><span>  </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-1489"></a></pre></body></html>