<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE Trustworthy #-}</span><span>
</span><a name="line-2"></a><span class="hs-pragma">{-# LANGUAGE CPP, NoImplicitPrelude, BangPatterns, MagicHash #-}</span><span>
</span><a name="line-3"></a><span>
</span><a name="line-4"></a><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><a name="line-5"></a><span class="hs-comment">-- |</span><span>
</span><a name="line-6"></a><span class="hs-comment">-- Module      :  Data.Bits</span><span>
</span><a name="line-7"></a><span class="hs-comment">-- Copyright   :  (c) The University of Glasgow 2001</span><span>
</span><a name="line-8"></a><span class="hs-comment">-- License     :  BSD-style (see the file libraries/base/LICENSE)</span><span>
</span><a name="line-9"></a><span class="hs-comment">--</span><span>
</span><a name="line-10"></a><span class="hs-comment">-- Maintainer  :  libraries@haskell.org</span><span>
</span><a name="line-11"></a><span class="hs-comment">-- Stability   :  experimental</span><span>
</span><a name="line-12"></a><span class="hs-comment">-- Portability :  portable</span><span>
</span><a name="line-13"></a><span class="hs-comment">--</span><span>
</span><a name="line-14"></a><span class="hs-comment">-- This module defines bitwise operations for signed and unsigned</span><span>
</span><a name="line-15"></a><span class="hs-comment">-- integers.  Instances of the class 'Bits' for the 'Int' and</span><span>
</span><a name="line-16"></a><span class="hs-comment">-- 'Integer' types are available from this module, and instances for</span><span>
</span><a name="line-17"></a><span class="hs-comment">-- explicitly sized integral types are available from the</span><span>
</span><a name="line-18"></a><span class="hs-comment">-- &quot;Data.Int&quot; and &quot;Data.Word&quot; modules.</span><span>
</span><a name="line-19"></a><span class="hs-comment">--</span><span>
</span><a name="line-20"></a><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><a name="line-21"></a><span>
</span><a name="line-22"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Data.Bits</span><span> </span><span class="hs-special">(</span><span>
</span><a name="line-23"></a><span>  </span><a href="Data.Bits.html#Bits"><span class="hs-identifier hs-type">Bits</span></a><span class="hs-special">(</span><span>
</span><a name="line-24"></a><span>    </span><span class="hs-special">(</span><a href="Data.Bits.html#.%26."><span class="hs-operator hs-var">.&amp;.</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><a href="Data.Bits.html#.%7C."><span class="hs-operator hs-var">.|.</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="Data.Bits.html#xor"><span class="hs-identifier hs-var">xor</span></a><span class="hs-special">,</span><span>
</span><a name="line-25"></a><span>    </span><a href="Data.Bits.html#complement"><span class="hs-identifier hs-var">complement</span></a><span class="hs-special">,</span><span>
</span><a name="line-26"></a><span>    </span><a href="Data.Bits.html#shift"><span class="hs-identifier hs-var">shift</span></a><span class="hs-special">,</span><span>
</span><a name="line-27"></a><span>    </span><a href="Data.Bits.html#rotate"><span class="hs-identifier hs-var">rotate</span></a><span class="hs-special">,</span><span>
</span><a name="line-28"></a><span>    </span><a href="Data.Bits.html#zeroBits"><span class="hs-identifier hs-var">zeroBits</span></a><span class="hs-special">,</span><span>
</span><a name="line-29"></a><span>    </span><a href="Data.Bits.html#bit"><span class="hs-identifier hs-var">bit</span></a><span class="hs-special">,</span><span>
</span><a name="line-30"></a><span>    </span><a href="Data.Bits.html#setBit"><span class="hs-identifier hs-var">setBit</span></a><span class="hs-special">,</span><span>
</span><a name="line-31"></a><span>    </span><a href="Data.Bits.html#clearBit"><span class="hs-identifier hs-var">clearBit</span></a><span class="hs-special">,</span><span>
</span><a name="line-32"></a><span>    </span><a href="Data.Bits.html#complementBit"><span class="hs-identifier hs-var">complementBit</span></a><span class="hs-special">,</span><span>
</span><a name="line-33"></a><span>    </span><a href="Data.Bits.html#testBit"><span class="hs-identifier hs-var">testBit</span></a><span class="hs-special">,</span><span>
</span><a name="line-34"></a><span>    </span><a href="Data.Bits.html#bitSizeMaybe"><span class="hs-identifier hs-var">bitSizeMaybe</span></a><span class="hs-special">,</span><span>
</span><a name="line-35"></a><span>    </span><a href="Data.Bits.html#bitSize"><span class="hs-identifier hs-var">bitSize</span></a><span class="hs-special">,</span><span>
</span><a name="line-36"></a><span>    </span><a href="Data.Bits.html#isSigned"><span class="hs-identifier hs-var">isSigned</span></a><span class="hs-special">,</span><span>
</span><a name="line-37"></a><span>    </span><a href="Data.Bits.html#shiftL"><span class="hs-identifier hs-var">shiftL</span></a><span class="hs-special">,</span><span> </span><a href="Data.Bits.html#shiftR"><span class="hs-identifier hs-var">shiftR</span></a><span class="hs-special">,</span><span>
</span><a name="line-38"></a><span>    </span><a href="Data.Bits.html#unsafeShiftL"><span class="hs-identifier hs-var">unsafeShiftL</span></a><span class="hs-special">,</span><span> </span><a href="Data.Bits.html#unsafeShiftR"><span class="hs-identifier hs-var">unsafeShiftR</span></a><span class="hs-special">,</span><span>
</span><a name="line-39"></a><span>    </span><a href="Data.Bits.html#rotateL"><span class="hs-identifier hs-var">rotateL</span></a><span class="hs-special">,</span><span> </span><a href="Data.Bits.html#rotateR"><span class="hs-identifier hs-var">rotateR</span></a><span class="hs-special">,</span><span>
</span><a name="line-40"></a><span>    </span><a href="Data.Bits.html#popCount"><span class="hs-identifier hs-var">popCount</span></a><span>
</span><a name="line-41"></a><span>  </span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-42"></a><span>  </span><a href="Data.Bits.html#FiniteBits"><span class="hs-identifier hs-type">FiniteBits</span></a><span class="hs-special">(</span><span>
</span><a name="line-43"></a><span>    </span><a href="Data.Bits.html#finiteBitSize"><span class="hs-identifier hs-var">finiteBitSize</span></a><span class="hs-special">,</span><span>
</span><a name="line-44"></a><span>    </span><a href="Data.Bits.html#countLeadingZeros"><span class="hs-identifier hs-var">countLeadingZeros</span></a><span class="hs-special">,</span><span>
</span><a name="line-45"></a><span>    </span><a href="Data.Bits.html#countTrailingZeros"><span class="hs-identifier hs-var">countTrailingZeros</span></a><span>
</span><a name="line-46"></a><span>  </span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-47"></a><span>
</span><a name="line-48"></a><span>  </span><a href="Data.Bits.html#bitDefault"><span class="hs-identifier hs-var">bitDefault</span></a><span class="hs-special">,</span><span>
</span><a name="line-49"></a><span>  </span><a href="Data.Bits.html#testBitDefault"><span class="hs-identifier hs-var">testBitDefault</span></a><span class="hs-special">,</span><span>
</span><a name="line-50"></a><span>  </span><a href="Data.Bits.html#popCountDefault"><span class="hs-identifier hs-var">popCountDefault</span></a><span class="hs-special">,</span><span>
</span><a name="line-51"></a><span>  </span><a href="Data.Bits.html#toIntegralSized"><span class="hs-identifier hs-var">toIntegralSized</span></a><span>
</span><a name="line-52"></a><span> </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-53"></a><span>
</span><a name="line-54"></a><span class="hs-comment">-- Defines the @Bits@ class containing bit-based operations.</span><span>
</span><a name="line-55"></a><span class="hs-comment">-- See library document for details on the semantics of the</span><span>
</span><a name="line-56"></a><span class="hs-comment">-- individual operations.</span><span>
</span><a name="line-57"></a><span>
</span><a name="line-58"></a><span class="hs-cpp">#include &quot;MachDeps.h&quot;
</span><span>
</span><a name="line-60"></a><span class="hs-keyword">import</span><span> </span><a href="Data.Maybe.html"><span class="hs-identifier">Data.Maybe</span></a><span>
</span><a name="line-61"></a><span class="hs-keyword">import</span><span> </span><a href="GHC.Enum.html"><span class="hs-identifier">GHC.Enum</span></a><span>
</span><a name="line-62"></a><span class="hs-keyword">import</span><span> </span><a href="GHC.Num.html"><span class="hs-identifier">GHC.Num</span></a><span>
</span><a name="line-63"></a><span class="hs-keyword">import</span><span> </span><a href="GHC.Base.html"><span class="hs-identifier">GHC.Base</span></a><span>
</span><a name="line-64"></a><span class="hs-keyword">import</span><span> </span><a href="GHC.Real.html"><span class="hs-identifier">GHC.Real</span></a><span>
</span><a name="line-65"></a><span>
</span><a name="line-66"></a><span class="hs-cpp">#if defined(MIN_VERSION_integer_gmp)
</span><span class="hs-keyword">import</span><span> </span><a href="../integer-gmp/src/%{MODULE}.html#%{NAME}/GHC.Integer.GMP.Internals.html"><span class="hs-identifier">GHC.Integer.GMP.Internals</span></a><span> </span><span class="hs-special">(</span><a href="../integer-gmp/src/%{MODULE}.html#%{NAME}/GHC.Integer.Type.html#bitInteger"><span class="hs-identifier hs-var">bitInteger</span></a><span class="hs-special">,</span><span> </span><a href="../integer-gmp/src/%{MODULE}.html#%{NAME}/GHC.Integer.Type.html#popCountInteger"><span class="hs-identifier hs-var">popCountInteger</span></a><span class="hs-special">)</span><span>
</span><a name="line-68"></a><span class="hs-cpp">#endif
</span><span>
</span><a name="line-70"></a><span class="hs-keyword">infixl</span><span> </span><span class="hs-number">8</span><span> </span><span class="hs-special">`</span><a href="Data.Bits.html#shift"><span class="hs-identifier hs-var">shift</span></a><span class="hs-special">`</span><span class="hs-special">,</span><span> </span><span class="hs-special">`</span><a href="Data.Bits.html#rotate"><span class="hs-identifier hs-var">rotate</span></a><span class="hs-special">`</span><span class="hs-special">,</span><span> </span><span class="hs-special">`</span><a href="Data.Bits.html#shiftL"><span class="hs-identifier hs-var">shiftL</span></a><span class="hs-special">`</span><span class="hs-special">,</span><span> </span><span class="hs-special">`</span><a href="Data.Bits.html#shiftR"><span class="hs-identifier hs-var">shiftR</span></a><span class="hs-special">`</span><span class="hs-special">,</span><span> </span><span class="hs-special">`</span><a href="Data.Bits.html#rotateL"><span class="hs-identifier hs-var">rotateL</span></a><span class="hs-special">`</span><span class="hs-special">,</span><span> </span><span class="hs-special">`</span><a href="Data.Bits.html#rotateR"><span class="hs-identifier hs-var">rotateR</span></a><span class="hs-special">`</span><span>
</span><a name="line-71"></a><span class="hs-keyword">infixl</span><span> </span><span class="hs-number">7</span><span> </span><a href="Data.Bits.html#.%26."><span class="hs-operator hs-var">.&amp;.</span></a><span>
</span><a name="line-72"></a><span class="hs-keyword">infixl</span><span> </span><span class="hs-number">6</span><span> </span><span class="hs-special">`</span><a href="Data.Bits.html#xor"><span class="hs-identifier hs-var">xor</span></a><span class="hs-special">`</span><span>
</span><a name="line-73"></a><span class="hs-keyword">infixl</span><span> </span><span class="hs-number">5</span><span> </span><a href="Data.Bits.html#.%7C."><span class="hs-operator hs-var">.|.</span></a><span>
</span><a name="line-74"></a><span>
</span><a name="line-75"></a><span class="hs-pragma">{-# DEPRECATED</span><span> </span><span class="hs-pragma">bitSize</span><span> </span><span class="hs-pragma">&quot;Use 'bitSizeMaybe' or 'finiteBitSize' instead&quot;</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="hs-comment">-- deprecated in 7.8</span><span>
</span><a name="line-76"></a><span>
</span><a name="line-77"></a><span class="hs-comment">-- | The 'Bits' class defines bitwise operations over integral types.</span><span>
</span><a name="line-78"></a><span class="hs-comment">--</span><span>
</span><a name="line-79"></a><span class="hs-comment">-- * Bits are numbered from 0 with bit 0 being the least</span><span>
</span><a name="line-80"></a><span class="hs-comment">--   significant bit.</span><span>
</span><a name="line-81"></a><span class="hs-keyword">class</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a name="Bits"><a href="Data.Bits.html#Bits"><span class="hs-identifier">Bits</span></a></a><span> </span><a name="local-6989586621679054647"><a href="#local-6989586621679054647"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-82"></a><span>    </span><span class="hs-pragma">{-# MINIMAL</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">.&amp;.</span><span class="hs-pragma">)</span><span class="hs-pragma">,</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">.|.</span><span class="hs-pragma">)</span><span class="hs-pragma">,</span><span> </span><span class="hs-pragma">xor</span><span class="hs-pragma">,</span><span> </span><span class="hs-pragma">complement</span><span class="hs-pragma">,</span><span>
</span><a name="line-83"></a><span>                </span><span class="hs-pragma">(</span><span class="hs-pragma">shift</span><span> </span><span class="hs-pragma">|</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">shiftL</span><span class="hs-pragma">,</span><span> </span><span class="hs-pragma">shiftR</span><span class="hs-pragma">)</span><span class="hs-pragma">)</span><span class="hs-pragma">,</span><span>
</span><a name="line-84"></a><span>                </span><span class="hs-pragma">(</span><span class="hs-pragma">rotate</span><span> </span><span class="hs-pragma">|</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">rotateL</span><span class="hs-pragma">,</span><span> </span><span class="hs-pragma">rotateR</span><span class="hs-pragma">)</span><span class="hs-pragma">)</span><span class="hs-pragma">,</span><span>
</span><a name="line-85"></a><span>                </span><span class="hs-pragma">bitSize</span><span class="hs-pragma">,</span><span> </span><span class="hs-pragma">bitSizeMaybe</span><span class="hs-pragma">,</span><span> </span><span class="hs-pragma">isSigned</span><span class="hs-pragma">,</span><span> </span><span class="hs-pragma">testBit</span><span class="hs-pragma">,</span><span> </span><span class="hs-pragma">bit</span><span class="hs-pragma">,</span><span> </span><span class="hs-pragma">popCount</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-86"></a><span>
</span><a name="line-87"></a><span>    </span><span class="hs-comment">-- | Bitwise \&quot;and\&quot;</span><span>
</span><a name="line-88"></a><span>    </span><span class="hs-special">(</span><a name=".%26."><a href="Data.Bits.html#.%26."><span class="hs-operator">.&amp;.</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-89"></a><span>
</span><a name="line-90"></a><span>    </span><span class="hs-comment">-- | Bitwise \&quot;or\&quot;</span><span>
</span><a name="line-91"></a><span>    </span><span class="hs-special">(</span><a name=".%7C."><a href="Data.Bits.html#.%7C."><span class="hs-operator">.|.</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-92"></a><span>
</span><a name="line-93"></a><span>    </span><span class="hs-comment">-- | Bitwise \&quot;xor\&quot;</span><span>
</span><a name="line-94"></a><span>    </span><a name="xor"><a href="Data.Bits.html#xor"><span class="hs-identifier">xor</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-95"></a><span>
</span><a name="line-96"></a><span>    </span><span class="hs-comment">{-| Reverse all the bits in the argument -}</span><span>
</span><a name="line-97"></a><span>    </span><a name="complement"><a href="Data.Bits.html#complement"><span class="hs-identifier">complement</span></a></a><span>        </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-98"></a><span>
</span><a name="line-99"></a><span>    </span><span class="hs-comment">{-| @'shift' x i@ shifts @x@ left by @i@ bits if @i@ is positive,
        or right by @-i@ bits otherwise.
        Right shifts perform sign extension on signed number types;
        i.e. they fill the top bits with 1 if the @x@ is negative
        and with 0 otherwise.

        An instance can define either this unified 'shift' or 'shiftL' and
        'shiftR', depending on which is more convenient for the type in
        question. -}</span><span>
</span><a name="line-108"></a><span>    </span><a name="shift"><a href="Data.Bits.html#shift"><span class="hs-identifier">shift</span></a></a><span>             </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-109"></a><span>
</span><a name="line-110"></a><span>    </span><a name="local-6989586621679054648"><a href="#local-6989586621679054648"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-special">`</span><a name="local-8214565720323829526"><a href="Data.Bits.html#shift"><span class="hs-identifier">shift</span></a></a><span class="hs-special">`</span><span>   </span><a name="local-6989586621679054649"><a href="#local-6989586621679054649"><span class="hs-identifier">i</span></a></a><span> </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621679054649"><span class="hs-identifier hs-var">i</span></a><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html#%3C"><span class="hs-operator hs-var">&lt;</span></a><span class="hs-number">0</span><span>       </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679054648"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-special">`</span><a href="Data.Bits.html#shiftR"><span class="hs-identifier hs-var">shiftR</span></a><span class="hs-special">`</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><a href="#local-6989586621679054649"><span class="hs-identifier hs-var">i</span></a><span class="hs-special">)</span><span>
</span><a name="line-111"></a><span>                  </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621679054649"><span class="hs-identifier hs-var">i</span></a><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html#%3E"><span class="hs-operator hs-var">&gt;</span></a><span class="hs-number">0</span><span>       </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679054648"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-special">`</span><a href="Data.Bits.html#shiftL"><span class="hs-identifier hs-var">shiftL</span></a><span class="hs-special">`</span><span> </span><a href="#local-6989586621679054649"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-112"></a><span>                  </span><span class="hs-glyph">|</span><span> </span><a href="GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679054648"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-113"></a><span>
</span><a name="line-114"></a><span>    </span><span class="hs-comment">{-| @'rotate' x i@ rotates @x@ left by @i@ bits if @i@ is positive,
        or right by @-i@ bits otherwise.

        For unbounded types like 'Integer', 'rotate' is equivalent to 'shift'.

        An instance can define either this unified 'rotate' or 'rotateL' and
        'rotateR', depending on which is more convenient for the type in
        question. -}</span><span>
</span><a name="line-122"></a><span>    </span><a name="rotate"><a href="Data.Bits.html#rotate"><span class="hs-identifier">rotate</span></a></a><span>            </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-123"></a><span>
</span><a name="line-124"></a><span>    </span><a name="local-6989586621679054650"><a href="#local-6989586621679054650"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-special">`</span><a name="local-8214565720323829527"><a href="Data.Bits.html#rotate"><span class="hs-identifier">rotate</span></a></a><span class="hs-special">`</span><span>  </span><a name="local-6989586621679054651"><a href="#local-6989586621679054651"><span class="hs-identifier">i</span></a></a><span> </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621679054651"><span class="hs-identifier hs-var">i</span></a><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html#%3C"><span class="hs-operator hs-var">&lt;</span></a><span class="hs-number">0</span><span>       </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679054650"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-special">`</span><a href="Data.Bits.html#rotateR"><span class="hs-identifier hs-var">rotateR</span></a><span class="hs-special">`</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><a href="#local-6989586621679054651"><span class="hs-identifier hs-var">i</span></a><span class="hs-special">)</span><span>
</span><a name="line-125"></a><span>                  </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621679054651"><span class="hs-identifier hs-var">i</span></a><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html#%3E"><span class="hs-operator hs-var">&gt;</span></a><span class="hs-number">0</span><span>       </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679054650"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-special">`</span><a href="Data.Bits.html#rotateL"><span class="hs-identifier hs-var">rotateL</span></a><span class="hs-special">`</span><span> </span><a href="#local-6989586621679054651"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-126"></a><span>                  </span><span class="hs-glyph">|</span><span> </span><a href="GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679054650"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-127"></a><span>
</span><a name="line-128"></a><span>    </span><span class="hs-comment">{-
    -- Rotation can be implemented in terms of two shifts, but care is
    -- needed for negative values.  This suggested implementation assumes
    -- 2's-complement arithmetic.  It is commented out because it would
    -- require an extra context (Ord a) on the signature of 'rotate'.
    x `rotate`  i | i&lt;0 &amp;&amp; isSigned x &amp;&amp; x&lt;0
                         = let left = i+bitSize x in
                           ((x `shift` i) .&amp;. complement ((-1) `shift` left))
                           .|. (x `shift` left)
                  | i&lt;0  = (x `shift` i) .|. (x `shift` (i+bitSize x))
                  | i==0 = x
                  | i&gt;0  = (x `shift` i) .|. (x `shift` (i-bitSize x))
    -}</span><span>
</span><a name="line-141"></a><span>
</span><a name="line-142"></a><span>    </span><span class="hs-comment">-- | 'zeroBits' is the value with all bits unset.</span><span>
</span><a name="line-143"></a><span>    </span><span class="hs-comment">--</span><span>
</span><a name="line-144"></a><span>    </span><span class="hs-comment">-- The following laws ought to hold (for all valid bit indices @/n/@):</span><span>
</span><a name="line-145"></a><span>    </span><span class="hs-comment">--</span><span>
</span><a name="line-146"></a><span>    </span><span class="hs-comment">--   * @'clearBit' 'zeroBits' /n/ == 'zeroBits'@</span><span>
</span><a name="line-147"></a><span>    </span><span class="hs-comment">--   * @'setBit'   'zeroBits' /n/ == 'bit' /n/@</span><span>
</span><a name="line-148"></a><span>    </span><span class="hs-comment">--   * @'testBit'  'zeroBits' /n/ == False@</span><span>
</span><a name="line-149"></a><span>    </span><span class="hs-comment">--   * @'popCount' 'zeroBits'   == 0@</span><span>
</span><a name="line-150"></a><span>    </span><span class="hs-comment">--</span><span>
</span><a name="line-151"></a><span>    </span><span class="hs-comment">-- This method uses @'clearBit' ('bit' 0) 0@ as its default</span><span>
</span><a name="line-152"></a><span>    </span><span class="hs-comment">-- implementation (which ought to be equivalent to 'zeroBits' for</span><span>
</span><a name="line-153"></a><span>    </span><span class="hs-comment">-- types which possess a 0th bit).</span><span>
</span><a name="line-154"></a><span>    </span><span class="hs-comment">--</span><span>
</span><a name="line-155"></a><span>    </span><span class="hs-comment">-- @since 4.7.0.0</span><span>
</span><a name="line-156"></a><span>    </span><a name="zeroBits"><a href="Data.Bits.html#zeroBits"><span class="hs-identifier">zeroBits</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-157"></a><span>    </span><a name="local-8214565720323829528"><a href="Data.Bits.html#zeroBits"><span class="hs-identifier">zeroBits</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Bits.html#clearBit"><span class="hs-identifier hs-var">clearBit</span></a><span> </span><span class="hs-special">(</span><a href="Data.Bits.html#bit"><span class="hs-identifier hs-var">bit</span></a><span> </span><span class="hs-number">0</span><span class="hs-special">)</span><span> </span><span class="hs-number">0</span><span>
</span><a name="line-158"></a><span>
</span><a name="line-159"></a><span>    </span><span class="hs-comment">-- | @bit /i/@ is a value with the @/i/@th bit set and all other bits clear.</span><span>
</span><a name="line-160"></a><span>    </span><span class="hs-comment">--</span><span>
</span><a name="line-161"></a><span>    </span><span class="hs-comment">-- Can be implemented using `bitDefault' if @a@ is also an</span><span>
</span><a name="line-162"></a><span>    </span><span class="hs-comment">-- instance of 'Num'.</span><span>
</span><a name="line-163"></a><span>    </span><span class="hs-comment">--</span><span>
</span><a name="line-164"></a><span>    </span><span class="hs-comment">-- See also 'zeroBits'.</span><span>
</span><a name="line-165"></a><span>    </span><a name="bit"><a href="Data.Bits.html#bit"><span class="hs-identifier">bit</span></a></a><span>               </span><span class="hs-glyph">::</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-166"></a><span>
</span><a name="line-167"></a><span>    </span><span class="hs-comment">-- | @x \`setBit\` i@ is the same as @x .|. bit i@</span><span>
</span><a name="line-168"></a><span>    </span><a name="setBit"><a href="Data.Bits.html#setBit"><span class="hs-identifier">setBit</span></a></a><span>            </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-169"></a><span>
</span><a name="line-170"></a><span>    </span><span class="hs-comment">-- | @x \`clearBit\` i@ is the same as @x .&amp;. complement (bit i)@</span><span>
</span><a name="line-171"></a><span>    </span><a name="clearBit"><a href="Data.Bits.html#clearBit"><span class="hs-identifier">clearBit</span></a></a><span>          </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-172"></a><span>
</span><a name="line-173"></a><span>    </span><span class="hs-comment">-- | @x \`complementBit\` i@ is the same as @x \`xor\` bit i@</span><span>
</span><a name="line-174"></a><span>    </span><a name="complementBit"><a href="Data.Bits.html#complementBit"><span class="hs-identifier">complementBit</span></a></a><span>     </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-175"></a><span>
</span><a name="line-176"></a><span>    </span><span class="hs-comment">-- | Return 'True' if the @n@th bit of the argument is 1</span><span>
</span><a name="line-177"></a><span>    </span><span class="hs-comment">--</span><span>
</span><a name="line-178"></a><span>    </span><span class="hs-comment">-- Can be implemented using `testBitDefault' if @a@ is also an</span><span>
</span><a name="line-179"></a><span>    </span><span class="hs-comment">-- instance of 'Num'.</span><span>
</span><a name="line-180"></a><span>    </span><a name="testBit"><a href="Data.Bits.html#testBit"><span class="hs-identifier">testBit</span></a></a><span>           </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a><span>
</span><a name="line-181"></a><span>
</span><a name="line-182"></a><span>    </span><span class="hs-comment">{-| Return the number of bits in the type of the argument.  The actual
        value of the argument is ignored.  Returns Nothing
        for types that do not have a fixed bitsize, like 'Integer'.

        @since 4.7.0.0
        -}</span><span>
</span><a name="line-188"></a><span>    </span><a name="bitSizeMaybe"><a href="Data.Bits.html#bitSizeMaybe"><span class="hs-identifier">bitSizeMaybe</span></a></a><span>      </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span>
</span><a name="line-189"></a><span>
</span><a name="line-190"></a><span>    </span><span class="hs-comment">{-| Return the number of bits in the type of the argument.  The actual
        value of the argument is ignored.  The function 'bitSize' is
        undefined for types that do not have a fixed bitsize, like 'Integer'.

        Default implementation based upon 'bitSizeMaybe' provided since
        4.12.0.0.
        -}</span><span>
</span><a name="line-197"></a><span>    </span><a name="bitSize"><a href="Data.Bits.html#bitSize"><span class="hs-identifier">bitSize</span></a></a><span>           </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span>
</span><a name="line-198"></a><span>    </span><a name="local-8214565720323829535"><a href="Data.Bits.html#bitSize"><span class="hs-identifier">bitSize</span></a></a><span> </span><a name="local-6989586621679054652"><a href="#local-6989586621679054652"><span class="hs-identifier">b</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Maybe.html#fromMaybe"><span class="hs-identifier hs-var">fromMaybe</span></a><span> </span><span class="hs-special">(</span><a href="GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a><span> </span><span class="hs-string">&quot;bitSize is undefined&quot;</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="Data.Bits.html#bitSizeMaybe"><span class="hs-identifier hs-var">bitSizeMaybe</span></a><span> </span><a href="#local-6989586621679054652"><span class="hs-identifier hs-var">b</span></a><span class="hs-special">)</span><span>
</span><a name="line-199"></a><span>
</span><a name="line-200"></a><span>    </span><span class="hs-comment">{-| Return 'True' if the argument is a signed type.  The actual
        value of the argument is ignored -}</span><span>
</span><a name="line-202"></a><span>    </span><a name="isSigned"><a href="Data.Bits.html#isSigned"><span class="hs-identifier">isSigned</span></a></a><span>          </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a><span>
</span><a name="line-203"></a><span>
</span><a name="line-204"></a><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">setBit</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-205"></a><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">clearBit</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-206"></a><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">complementBit</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-207"></a><span>    </span><a name="local-6989586621679054653"><a href="#local-6989586621679054653"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-special">`</span><a name="local-8214565720323829530"><a href="Data.Bits.html#setBit"><span class="hs-identifier">setBit</span></a></a><span class="hs-special">`</span><span> </span><a name="local-6989586621679054654"><a href="#local-6989586621679054654"><span class="hs-identifier">i</span></a></a><span>        </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679054653"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="Data.Bits.html#.%7C."><span class="hs-operator hs-var">.|.</span></a><span> </span><a href="Data.Bits.html#bit"><span class="hs-identifier hs-var">bit</span></a><span> </span><a href="#local-6989586621679054654"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-208"></a><span>    </span><a name="local-6989586621679054655"><a href="#local-6989586621679054655"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-special">`</span><a name="local-8214565720323829531"><a href="Data.Bits.html#clearBit"><span class="hs-identifier">clearBit</span></a></a><span class="hs-special">`</span><span> </span><a name="local-6989586621679054656"><a href="#local-6989586621679054656"><span class="hs-identifier">i</span></a></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679054655"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="Data.Bits.html#.%26."><span class="hs-operator hs-var">.&amp;.</span></a><span> </span><a href="Data.Bits.html#complement"><span class="hs-identifier hs-var">complement</span></a><span> </span><span class="hs-special">(</span><a href="Data.Bits.html#bit"><span class="hs-identifier hs-var">bit</span></a><span> </span><a href="#local-6989586621679054656"><span class="hs-identifier hs-var">i</span></a><span class="hs-special">)</span><span>
</span><a name="line-209"></a><span>    </span><a name="local-6989586621679054657"><a href="#local-6989586621679054657"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-special">`</span><a name="local-8214565720323829532"><a href="Data.Bits.html#complementBit"><span class="hs-identifier">complementBit</span></a></a><span class="hs-special">`</span><span> </span><a name="local-6989586621679054658"><a href="#local-6989586621679054658"><span class="hs-identifier">i</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679054657"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-special">`</span><a href="Data.Bits.html#xor"><span class="hs-identifier hs-var">xor</span></a><span class="hs-special">`</span><span> </span><a href="Data.Bits.html#bit"><span class="hs-identifier hs-var">bit</span></a><span> </span><a href="#local-6989586621679054658"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-210"></a><span>
</span><a name="line-211"></a><span>    </span><span class="hs-comment">{-| Shift the argument left by the specified number of bits
        (which must be non-negative).

        An instance can define either this and 'shiftR' or the unified
        'shift', depending on which is more convenient for the type in
        question. -}</span><span>
</span><a name="line-217"></a><span>    </span><a name="shiftL"><a href="Data.Bits.html#shiftL"><span class="hs-identifier">shiftL</span></a></a><span>            </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-218"></a><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">shiftL</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-219"></a><span>    </span><a name="local-6989586621679054659"><a href="#local-6989586621679054659"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-special">`</span><a name="local-8214565720323829537"><a href="Data.Bits.html#shiftL"><span class="hs-identifier">shiftL</span></a></a><span class="hs-special">`</span><span>  </span><a name="local-6989586621679054660"><a href="#local-6989586621679054660"><span class="hs-identifier">i</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679054659"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-special">`</span><a href="Data.Bits.html#shift"><span class="hs-identifier hs-var">shift</span></a><span class="hs-special">`</span><span>  </span><a href="#local-6989586621679054660"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-220"></a><span>
</span><a name="line-221"></a><span>    </span><span class="hs-comment">{-| Shift the argument left by the specified number of bits.  The
        result is undefined for negative shift amounts and shift amounts
        greater or equal to the 'bitSize'.

        Defaults to 'shiftL' unless defined explicitly by an instance.

        @since 4.5.0.0 -}</span><span>
</span><a name="line-228"></a><span>    </span><a name="unsafeShiftL"><a href="Data.Bits.html#unsafeShiftL"><span class="hs-identifier">unsafeShiftL</span></a></a><span>            </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-229"></a><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">unsafeShiftL</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-230"></a><span>    </span><a name="local-6989586621679054661"><a href="#local-6989586621679054661"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-special">`</span><a name="local-8214565720323829538"><a href="Data.Bits.html#unsafeShiftL"><span class="hs-identifier">unsafeShiftL</span></a></a><span class="hs-special">`</span><span> </span><a name="local-6989586621679054662"><a href="#local-6989586621679054662"><span class="hs-identifier">i</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679054661"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-special">`</span><a href="Data.Bits.html#shiftL"><span class="hs-identifier hs-var">shiftL</span></a><span class="hs-special">`</span><span> </span><a href="#local-6989586621679054662"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-231"></a><span>
</span><a name="line-232"></a><span>    </span><span class="hs-comment">{-| Shift the first argument right by the specified number of bits. The
        result is undefined for negative shift amounts and shift amounts
        greater or equal to the 'bitSize'.

        Right shifts perform sign extension on signed number types;
        i.e. they fill the top bits with 1 if the @x@ is negative
        and with 0 otherwise.

        An instance can define either this and 'shiftL' or the unified
        'shift', depending on which is more convenient for the type in
        question. -}</span><span>
</span><a name="line-243"></a><span>    </span><a name="shiftR"><a href="Data.Bits.html#shiftR"><span class="hs-identifier">shiftR</span></a></a><span>            </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-244"></a><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">shiftR</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-245"></a><span>    </span><a name="local-6989586621679054663"><a href="#local-6989586621679054663"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-special">`</span><a name="local-8214565720323829539"><a href="Data.Bits.html#shiftR"><span class="hs-identifier">shiftR</span></a></a><span class="hs-special">`</span><span>  </span><a name="local-6989586621679054664"><a href="#local-6989586621679054664"><span class="hs-identifier">i</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679054663"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-special">`</span><a href="Data.Bits.html#shift"><span class="hs-identifier hs-var">shift</span></a><span class="hs-special">`</span><span>  </span><span class="hs-special">(</span><span class="hs-glyph">-</span><a href="#local-6989586621679054664"><span class="hs-identifier hs-var">i</span></a><span class="hs-special">)</span><span>
</span><a name="line-246"></a><span>
</span><a name="line-247"></a><span>    </span><span class="hs-comment">{-| Shift the first argument right by the specified number of bits, which
        must be non-negative and smaller than the number of bits in the type.

        Right shifts perform sign extension on signed number types;
        i.e. they fill the top bits with 1 if the @x@ is negative
        and with 0 otherwise.

        Defaults to 'shiftR' unless defined explicitly by an instance.

        @since 4.5.0.0 -}</span><span>
</span><a name="line-257"></a><span>    </span><a name="unsafeShiftR"><a href="Data.Bits.html#unsafeShiftR"><span class="hs-identifier">unsafeShiftR</span></a></a><span>            </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-258"></a><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">unsafeShiftR</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-259"></a><span>    </span><a name="local-6989586621679054665"><a href="#local-6989586621679054665"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-special">`</span><a name="local-8214565720323829540"><a href="Data.Bits.html#unsafeShiftR"><span class="hs-identifier">unsafeShiftR</span></a></a><span class="hs-special">`</span><span> </span><a name="local-6989586621679054666"><a href="#local-6989586621679054666"><span class="hs-identifier">i</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679054665"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-special">`</span><a href="Data.Bits.html#shiftR"><span class="hs-identifier hs-var">shiftR</span></a><span class="hs-special">`</span><span> </span><a href="#local-6989586621679054666"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-260"></a><span>
</span><a name="line-261"></a><span>    </span><span class="hs-comment">{-| Rotate the argument left by the specified number of bits
        (which must be non-negative).

        An instance can define either this and 'rotateR' or the unified
        'rotate', depending on which is more convenient for the type in
        question. -}</span><span>
</span><a name="line-267"></a><span>    </span><a name="rotateL"><a href="Data.Bits.html#rotateL"><span class="hs-identifier">rotateL</span></a></a><span>           </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-268"></a><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">rotateL</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-269"></a><span>    </span><a name="local-6989586621679054667"><a href="#local-6989586621679054667"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-special">`</span><a name="local-8214565720323829541"><a href="Data.Bits.html#rotateL"><span class="hs-identifier">rotateL</span></a></a><span class="hs-special">`</span><span> </span><a name="local-6989586621679054668"><a href="#local-6989586621679054668"><span class="hs-identifier">i</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679054667"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-special">`</span><a href="Data.Bits.html#rotate"><span class="hs-identifier hs-var">rotate</span></a><span class="hs-special">`</span><span> </span><a href="#local-6989586621679054668"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-270"></a><span>
</span><a name="line-271"></a><span>    </span><span class="hs-comment">{-| Rotate the argument right by the specified number of bits
        (which must be non-negative).

        An instance can define either this and 'rotateL' or the unified
        'rotate', depending on which is more convenient for the type in
        question. -}</span><span>
</span><a name="line-277"></a><span>    </span><a name="rotateR"><a href="Data.Bits.html#rotateR"><span class="hs-identifier">rotateR</span></a></a><span>           </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-278"></a><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">rotateR</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-279"></a><span>    </span><a name="local-6989586621679054669"><a href="#local-6989586621679054669"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-special">`</span><a name="local-8214565720323829542"><a href="Data.Bits.html#rotateR"><span class="hs-identifier">rotateR</span></a></a><span class="hs-special">`</span><span> </span><a name="local-6989586621679054670"><a href="#local-6989586621679054670"><span class="hs-identifier">i</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679054669"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-special">`</span><a href="Data.Bits.html#rotate"><span class="hs-identifier hs-var">rotate</span></a><span class="hs-special">`</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><a href="#local-6989586621679054670"><span class="hs-identifier hs-var">i</span></a><span class="hs-special">)</span><span>
</span><a name="line-280"></a><span>
</span><a name="line-281"></a><span>    </span><span class="hs-comment">{-| Return the number of set bits in the argument.  This number is
        known as the population count or the Hamming weight.

        Can be implemented using `popCountDefault' if @a@ is also an
        instance of 'Num'.

        @since 4.5.0.0 -}</span><span>
</span><a name="line-288"></a><span>    </span><a name="popCount"><a href="Data.Bits.html#popCount"><span class="hs-identifier">popCount</span></a></a><span>          </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679054647"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span>
</span><a name="line-289"></a><span>
</span><a name="line-290"></a><span class="hs-comment">-- |The 'FiniteBits' class denotes types with a finite, fixed number of bits.</span><span>
</span><a name="line-291"></a><span class="hs-comment">--</span><span>
</span><a name="line-292"></a><span class="hs-comment">-- @since 4.7.0.0</span><span>
</span><a name="line-293"></a><span class="hs-keyword">class</span><span> </span><a href="Data.Bits.html#Bits"><span class="hs-identifier hs-type">Bits</span></a><span> </span><a href="#local-6989586621679054638"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a name="FiniteBits"><a href="Data.Bits.html#FiniteBits"><span class="hs-identifier">FiniteBits</span></a></a><span> </span><a name="local-6989586621679054638"><a href="#local-6989586621679054638"><span class="hs-identifier">b</span></a></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-294"></a><span>    </span><span class="hs-comment">-- | Return the number of bits in the type of the argument.</span><span>
</span><a name="line-295"></a><span>    </span><span class="hs-comment">-- The actual value of the argument is ignored. Moreover, 'finiteBitSize'</span><span>
</span><a name="line-296"></a><span>    </span><span class="hs-comment">-- is total, in contrast to the deprecated 'bitSize' function it replaces.</span><span>
</span><a name="line-297"></a><span>    </span><span class="hs-comment">--</span><span>
</span><a name="line-298"></a><span>    </span><span class="hs-comment">-- @</span><span>
</span><a name="line-299"></a><span>    </span><span class="hs-comment">-- 'finiteBitSize' = 'bitSize'</span><span>
</span><a name="line-300"></a><span>    </span><span class="hs-comment">-- 'bitSizeMaybe' = 'Just' . 'finiteBitSize'</span><span>
</span><a name="line-301"></a><span>    </span><span class="hs-comment">-- @</span><span>
</span><a name="line-302"></a><span>    </span><span class="hs-comment">--</span><span>
</span><a name="line-303"></a><span>    </span><span class="hs-comment">-- @since 4.7.0.0</span><span>
</span><a name="line-304"></a><span>    </span><a name="finiteBitSize"><a href="Data.Bits.html#finiteBitSize"><span class="hs-identifier">finiteBitSize</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679054638"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span>
</span><a name="line-305"></a><span>
</span><a name="line-306"></a><span>    </span><span class="hs-comment">-- | Count number of zero bits preceding the most significant set bit.</span><span>
</span><a name="line-307"></a><span>    </span><span class="hs-comment">--</span><span>
</span><a name="line-308"></a><span>    </span><span class="hs-comment">-- @</span><span>
</span><a name="line-309"></a><span>    </span><span class="hs-comment">-- 'countLeadingZeros' ('zeroBits' :: a) = finiteBitSize ('zeroBits' :: a)</span><span>
</span><a name="line-310"></a><span>    </span><span class="hs-comment">-- @</span><span>
</span><a name="line-311"></a><span>    </span><span class="hs-comment">--</span><span>
</span><a name="line-312"></a><span>    </span><span class="hs-comment">-- 'countLeadingZeros' can be used to compute log base 2 via</span><span>
</span><a name="line-313"></a><span>    </span><span class="hs-comment">--</span><span>
</span><a name="line-314"></a><span>    </span><span class="hs-comment">-- @</span><span>
</span><a name="line-315"></a><span>    </span><span class="hs-comment">-- logBase2 x = 'finiteBitSize' x - 1 - 'countLeadingZeros' x</span><span>
</span><a name="line-316"></a><span>    </span><span class="hs-comment">-- @</span><span>
</span><a name="line-317"></a><span>    </span><span class="hs-comment">--</span><span>
</span><a name="line-318"></a><span>    </span><span class="hs-comment">-- Note: The default implementation for this method is intentionally</span><span>
</span><a name="line-319"></a><span>    </span><span class="hs-comment">-- naive. However, the instances provided for the primitive</span><span>
</span><a name="line-320"></a><span>    </span><span class="hs-comment">-- integral types are implemented using CPU specific machine</span><span>
</span><a name="line-321"></a><span>    </span><span class="hs-comment">-- instructions.</span><span>
</span><a name="line-322"></a><span>    </span><span class="hs-comment">--</span><span>
</span><a name="line-323"></a><span>    </span><span class="hs-comment">-- @since 4.8.0.0</span><span>
</span><a name="line-324"></a><span>    </span><a name="countLeadingZeros"><a href="Data.Bits.html#countLeadingZeros"><span class="hs-identifier">countLeadingZeros</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679054638"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span>
</span><a name="line-325"></a><span>    </span><a name="local-8214565720323829519"><a href="Data.Bits.html#countLeadingZeros"><span class="hs-identifier">countLeadingZeros</span></a></a><span> </span><a name="local-6989586621679054639"><a href="#local-6989586621679054639"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054641"><span class="hs-identifier hs-var">w</span></a><span class="hs-glyph">-</span><span class="hs-number">1</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-</span><span> </span><a href="#local-6989586621679054640"><span class="hs-identifier hs-var">go</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054641"><span class="hs-identifier hs-var">w</span></a><span class="hs-glyph">-</span><span class="hs-number">1</span><span class="hs-special">)</span><span>
</span><a name="line-326"></a><span>      </span><span class="hs-keyword">where</span><span>
</span><a name="line-327"></a><span>        </span><a name="local-6989586621679054640"><a href="#local-6989586621679054640"><span class="hs-identifier">go</span></a></a><span> </span><a name="local-6989586621679054642"><a href="#local-6989586621679054642"><span class="hs-identifier">i</span></a></a><span> </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621679054642"><span class="hs-identifier hs-var">i</span></a><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html#%3C"><span class="hs-operator hs-var">&lt;</span></a><span> </span><span class="hs-number">0</span><span>       </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679054642"><span class="hs-identifier hs-var">i</span></a><span> </span><span class="hs-comment">-- no bit set</span><span>
</span><a name="line-328"></a><span>             </span><span class="hs-glyph">|</span><span> </span><a href="Data.Bits.html#testBit"><span class="hs-identifier hs-var">testBit</span></a><span> </span><a href="#local-6989586621679054639"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="#local-6989586621679054642"><span class="hs-identifier hs-var">i</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679054642"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-329"></a><span>             </span><span class="hs-glyph">|</span><span> </span><a href="GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679054640"><span class="hs-identifier hs-var">go</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054642"><span class="hs-identifier hs-var">i</span></a><span class="hs-glyph">-</span><span class="hs-number">1</span><span class="hs-special">)</span><span>
</span><a name="line-330"></a><span>
</span><a name="line-331"></a><span>        </span><a name="local-6989586621679054641"><a href="#local-6989586621679054641"><span class="hs-identifier">w</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Bits.html#finiteBitSize"><span class="hs-identifier hs-var">finiteBitSize</span></a><span> </span><a href="#local-6989586621679054639"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-332"></a><span>
</span><a name="line-333"></a><span>    </span><span class="hs-comment">-- | Count number of zero bits following the least significant set bit.</span><span>
</span><a name="line-334"></a><span>    </span><span class="hs-comment">--</span><span>
</span><a name="line-335"></a><span>    </span><span class="hs-comment">-- @</span><span>
</span><a name="line-336"></a><span>    </span><span class="hs-comment">-- 'countTrailingZeros' ('zeroBits' :: a) = finiteBitSize ('zeroBits' :: a)</span><span>
</span><a name="line-337"></a><span>    </span><span class="hs-comment">-- 'countTrailingZeros' . 'negate' = 'countTrailingZeros'</span><span>
</span><a name="line-338"></a><span>    </span><span class="hs-comment">-- @</span><span>
</span><a name="line-339"></a><span>    </span><span class="hs-comment">--</span><span>
</span><a name="line-340"></a><span>    </span><span class="hs-comment">-- The related</span><span>
</span><a name="line-341"></a><span>    </span><span class="hs-comment">-- &lt;http://en.wikipedia.org/wiki/Find_first_set find-first-set operation&gt;</span><span>
</span><a name="line-342"></a><span>    </span><span class="hs-comment">-- can be expressed in terms of 'countTrailingZeros' as follows</span><span>
</span><a name="line-343"></a><span>    </span><span class="hs-comment">--</span><span>
</span><a name="line-344"></a><span>    </span><span class="hs-comment">-- @</span><span>
</span><a name="line-345"></a><span>    </span><span class="hs-comment">-- findFirstSet x = 1 + 'countTrailingZeros' x</span><span>
</span><a name="line-346"></a><span>    </span><span class="hs-comment">-- @</span><span>
</span><a name="line-347"></a><span>    </span><span class="hs-comment">--</span><span>
</span><a name="line-348"></a><span>    </span><span class="hs-comment">-- Note: The default implementation for this method is intentionally</span><span>
</span><a name="line-349"></a><span>    </span><span class="hs-comment">-- naive. However, the instances provided for the primitive</span><span>
</span><a name="line-350"></a><span>    </span><span class="hs-comment">-- integral types are implemented using CPU specific machine</span><span>
</span><a name="line-351"></a><span>    </span><span class="hs-comment">-- instructions.</span><span>
</span><a name="line-352"></a><span>    </span><span class="hs-comment">--</span><span>
</span><a name="line-353"></a><span>    </span><span class="hs-comment">-- @since 4.8.0.0</span><span>
</span><a name="line-354"></a><span>    </span><a name="countTrailingZeros"><a href="Data.Bits.html#countTrailingZeros"><span class="hs-identifier">countTrailingZeros</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679054638"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span>
</span><a name="line-355"></a><span>    </span><a name="local-8214565720323829520"><a href="Data.Bits.html#countTrailingZeros"><span class="hs-identifier">countTrailingZeros</span></a></a><span> </span><a name="local-6989586621679054643"><a href="#local-6989586621679054643"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679054644"><span class="hs-identifier hs-var">go</span></a><span> </span><span class="hs-number">0</span><span>
</span><a name="line-356"></a><span>      </span><span class="hs-keyword">where</span><span>
</span><a name="line-357"></a><span>        </span><a name="local-6989586621679054644"><a href="#local-6989586621679054644"><span class="hs-identifier">go</span></a></a><span> </span><a name="local-6989586621679054646"><a href="#local-6989586621679054646"><span class="hs-identifier">i</span></a></a><span> </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621679054646"><span class="hs-identifier hs-var">i</span></a><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html#%3E%3D"><span class="hs-operator hs-var">&gt;=</span></a><span> </span><a href="#local-6989586621679054645"><span class="hs-identifier hs-var">w</span></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679054646"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-358"></a><span>             </span><span class="hs-glyph">|</span><span> </span><a href="Data.Bits.html#testBit"><span class="hs-identifier hs-var">testBit</span></a><span> </span><a href="#local-6989586621679054643"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="#local-6989586621679054646"><span class="hs-identifier hs-var">i</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679054646"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-359"></a><span>             </span><span class="hs-glyph">|</span><span> </span><a href="GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679054644"><span class="hs-identifier hs-var">go</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054646"><span class="hs-identifier hs-var">i</span></a><a href="GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a><span class="hs-number">1</span><span class="hs-special">)</span><span>
</span><a name="line-360"></a><span>
</span><a name="line-361"></a><span>        </span><a name="local-6989586621679054645"><a href="#local-6989586621679054645"><span class="hs-identifier">w</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Bits.html#finiteBitSize"><span class="hs-identifier hs-var">finiteBitSize</span></a><span> </span><a href="#local-6989586621679054643"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-362"></a><span>
</span><a name="line-363"></a><span>
</span><a name="line-364"></a><span class="hs-comment">-- The defaults below are written with lambdas so that e.g.</span><span>
</span><a name="line-365"></a><span class="hs-comment">--     bit = bitDefault</span><span>
</span><a name="line-366"></a><span class="hs-comment">-- is fully applied, so inlining will happen</span><span>
</span><a name="line-367"></a><span>
</span><a name="line-368"></a><span class="hs-comment">-- | Default implementation for 'bit'.</span><span>
</span><a name="line-369"></a><span class="hs-comment">--</span><span>
</span><a name="line-370"></a><span class="hs-comment">-- Note that: @bitDefault i = 1 `shiftL` i@</span><span>
</span><a name="line-371"></a><span class="hs-comment">--</span><span>
</span><a name="line-372"></a><span class="hs-comment">-- @since 4.6.0.0</span><span>
</span><a name="line-373"></a><span class="hs-identifier">bitDefault</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="Data.Bits.html#Bits"><span class="hs-identifier hs-type">Bits</span></a><span> </span><a href="#local-6989586621679054754"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Num.html#Num"><span class="hs-identifier hs-type">Num</span></a><span> </span><a href="#local-6989586621679054754"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679054754"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-374"></a><a name="bitDefault"><a href="Data.Bits.html#bitDefault"><span class="hs-identifier">bitDefault</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679054755"><a href="#local-6989586621679054755"><span class="hs-identifier">i</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-number">1</span><span> </span><span class="hs-special">`</span><a href="Data.Bits.html#shiftL"><span class="hs-identifier hs-var">shiftL</span></a><span class="hs-special">`</span><span> </span><a href="#local-6989586621679054755"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-375"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">bitDefault</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-376"></a><span>
</span><a name="line-377"></a><span class="hs-comment">-- | Default implementation for 'testBit'.</span><span>
</span><a name="line-378"></a><span class="hs-comment">--</span><span>
</span><a name="line-379"></a><span class="hs-comment">-- Note that: @testBitDefault x i = (x .&amp;. bit i) /= 0@</span><span>
</span><a name="line-380"></a><span class="hs-comment">--</span><span>
</span><a name="line-381"></a><span class="hs-comment">-- @since 4.6.0.0</span><span>
</span><a name="line-382"></a><span class="hs-identifier">testBitDefault</span><span> </span><span class="hs-glyph">::</span><span>  </span><span class="hs-special">(</span><a href="Data.Bits.html#Bits"><span class="hs-identifier hs-type">Bits</span></a><span> </span><a href="#local-6989586621679054753"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Num.html#Num"><span class="hs-identifier hs-type">Num</span></a><span> </span><a href="#local-6989586621679054753"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-6989586621679054753"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a><span>
</span><a name="line-383"></a><a name="testBitDefault"><a href="Data.Bits.html#testBitDefault"><span class="hs-identifier">testBitDefault</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679054756"><a href="#local-6989586621679054756"><span class="hs-identifier">x</span></a></a><span> </span><a name="local-6989586621679054757"><a href="#local-6989586621679054757"><span class="hs-identifier">i</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054756"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="Data.Bits.html#.%26."><span class="hs-operator hs-var">.&amp;.</span></a><span> </span><a href="Data.Bits.html#bit"><span class="hs-identifier hs-var">bit</span></a><span> </span><a href="#local-6989586621679054757"><span class="hs-identifier hs-var">i</span></a><span class="hs-special">)</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html#%2F%3D"><span class="hs-operator hs-var">/=</span></a><span> </span><span class="hs-number">0</span><span>
</span><a name="line-384"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">testBitDefault</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-385"></a><span>
</span><a name="line-386"></a><span class="hs-comment">-- | Default implementation for 'popCount'.</span><span>
</span><a name="line-387"></a><span class="hs-comment">--</span><span>
</span><a name="line-388"></a><span class="hs-comment">-- This implementation is intentionally naive. Instances are expected to provide</span><span>
</span><a name="line-389"></a><span class="hs-comment">-- an optimized implementation for their size.</span><span>
</span><a name="line-390"></a><span class="hs-comment">--</span><span>
</span><a name="line-391"></a><span class="hs-comment">-- @since 4.6.0.0</span><span>
</span><a name="line-392"></a><span class="hs-identifier">popCountDefault</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="Data.Bits.html#Bits"><span class="hs-identifier hs-type">Bits</span></a><span> </span><a href="#local-6989586621679054752"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Num.html#Num"><span class="hs-identifier hs-type">Num</span></a><span> </span><a href="#local-6989586621679054752"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-6989586621679054752"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span>
</span><a name="line-393"></a><a name="popCountDefault"><a href="Data.Bits.html#popCountDefault"><span class="hs-identifier">popCountDefault</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679054758"><span class="hs-identifier hs-var">go</span></a><span> </span><span class="hs-number">0</span><span>
</span><a name="line-394"></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-395"></a><span>   </span><a name="local-6989586621679054758"><a href="#local-6989586621679054758"><span class="hs-identifier">go</span></a></a><span> </span><span class="hs-glyph">!</span><a name="local-6989586621679054759"><a href="#local-6989586621679054759"><span class="hs-identifier">c</span></a></a><span> </span><span class="hs-number">0</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679054759"><span class="hs-identifier hs-var">c</span></a><span>
</span><a name="line-396"></a><span>   </span><span class="hs-identifier">go</span><span> </span><a name="local-6989586621679054760"><a href="#local-6989586621679054760"><span class="hs-identifier">c</span></a></a><span> </span><a name="local-6989586621679054761"><a href="#local-6989586621679054761"><span class="hs-identifier">w</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679054758"><span class="hs-identifier hs-var">go</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054760"><span class="hs-identifier hs-var">c</span></a><a href="GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a><span class="hs-number">1</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054761"><span class="hs-identifier hs-var">w</span></a><span> </span><a href="Data.Bits.html#.%26."><span class="hs-operator hs-var">.&amp;.</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054761"><span class="hs-identifier hs-var">w</span></a><span> </span><span class="hs-glyph">-</span><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- clear the least significant</span><span>
</span><a name="line-397"></a><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="hs-pragma">popCountDefault</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-398"></a><span>
</span><a name="line-399"></a><span>
</span><a name="line-400"></a><span class="hs-comment">-- | Interpret 'Bool' as 1-bit bit-field</span><span>
</span><a name="line-401"></a><span class="hs-comment">--</span><span>
</span><a name="line-402"></a><span class="hs-comment">--  @since 4.7.0.0</span><span>
</span><a name="line-403"></a><span class="hs-keyword">instance</span><span> </span><a href="Data.Bits.html#Bits"><span class="hs-identifier hs-type">Bits</span></a><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-404"></a><span>    </span><span class="hs-special">(</span><a name="local-8214565720323829522"><a href="Data.Bits.html#.%26."><span class="hs-operator">.&amp;.</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html#%26%26"><span class="hs-operator hs-var">&amp;&amp;</span></a><span class="hs-special">)</span><span>
</span><a name="line-405"></a><span>
</span><a name="line-406"></a><span>    </span><span class="hs-special">(</span><a name="local-8214565720323829523"><a href="Data.Bits.html#.%7C."><span class="hs-operator">.|.</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html#%7C%7C"><span class="hs-operator hs-var">||</span></a><span class="hs-special">)</span><span>
</span><a name="line-407"></a><span>
</span><a name="line-408"></a><span>    </span><a name="local-8214565720323829524"><a href="Data.Bits.html#xor"><span class="hs-identifier">xor</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html#%2F%3D"><span class="hs-operator hs-var">/=</span></a><span class="hs-special">)</span><span>
</span><a name="line-409"></a><span>
</span><a name="line-410"></a><span>    </span><a name="local-8214565720323829525"><a href="Data.Bits.html#complement"><span class="hs-identifier">complement</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html#not"><span class="hs-identifier hs-var">not</span></a><span>
</span><a name="line-411"></a><span>
</span><a name="line-412"></a><span>    </span><a name="local-8214565720323829526"><a href="Data.Bits.html#shift"><span class="hs-identifier">shift</span></a></a><span> </span><a name="local-6989586621679054745"><a href="#local-6989586621679054745"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-number">0</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679054745"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-413"></a><span>    </span><span class="hs-identifier">shift</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a><span>
</span><a name="line-414"></a><span>
</span><a name="line-415"></a><span>    </span><a name="local-8214565720323829527"><a href="Data.Bits.html#rotate"><span class="hs-identifier">rotate</span></a></a><span> </span><a name="local-6989586621679054746"><a href="#local-6989586621679054746"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679054746"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-416"></a><span>
</span><a name="line-417"></a><span>    </span><a name="local-8214565720323829529"><a href="Data.Bits.html#bit"><span class="hs-identifier">bit</span></a></a><span> </span><span class="hs-number">0</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a><span>
</span><a name="line-418"></a><span>    </span><span class="hs-identifier">bit</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a><span>
</span><a name="line-419"></a><span>
</span><a name="line-420"></a><span>    </span><a name="local-8214565720323829533"><a href="Data.Bits.html#testBit"><span class="hs-identifier">testBit</span></a></a><span> </span><a name="local-6989586621679054747"><a href="#local-6989586621679054747"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-number">0</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679054747"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-421"></a><span>    </span><span class="hs-identifier">testBit</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a><span>
</span><a name="line-422"></a><span>
</span><a name="line-423"></a><span>    </span><a name="local-8214565720323829534"><a href="Data.Bits.html#bitSizeMaybe"><span class="hs-identifier">bitSizeMaybe</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><span class="hs-number">1</span><span>
</span><a name="line-424"></a><span>
</span><a name="line-425"></a><span>    </span><a name="local-8214565720323829535"><a href="Data.Bits.html#bitSize"><span class="hs-identifier">bitSize</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">1</span><span>
</span><a name="line-426"></a><span>
</span><a name="line-427"></a><span>    </span><a name="local-8214565720323829536"><a href="Data.Bits.html#isSigned"><span class="hs-identifier">isSigned</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a><span>
</span><a name="line-428"></a><span>
</span><a name="line-429"></a><span>    </span><a name="local-8214565720323829543"><a href="Data.Bits.html#popCount"><span class="hs-identifier">popCount</span></a></a><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0</span><span>
</span><a name="line-430"></a><span>    </span><span class="hs-identifier">popCount</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">1</span><span>
</span><a name="line-431"></a><span>
</span><a name="line-432"></a><span class="hs-comment">-- | @since 4.7.0.0</span><span>
</span><a name="line-433"></a><span class="hs-keyword">instance</span><span> </span><a href="Data.Bits.html#FiniteBits"><span class="hs-identifier hs-type">FiniteBits</span></a><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-434"></a><span>    </span><a name="local-8214565720323829518"><a href="Data.Bits.html#finiteBitSize"><span class="hs-identifier">finiteBitSize</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">1</span><span>
</span><a name="line-435"></a><span>    </span><a name="local-8214565720323829520"><a href="Data.Bits.html#countTrailingZeros"><span class="hs-identifier">countTrailingZeros</span></a></a><span> </span><a name="local-6989586621679054743"><a href="#local-6989586621679054743"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><a href="#local-6989586621679054743"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-number">0</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="hs-number">1</span><span>
</span><a name="line-436"></a><span>    </span><a name="local-8214565720323829519"><a href="Data.Bits.html#countLeadingZeros"><span class="hs-identifier">countLeadingZeros</span></a></a><span>  </span><a name="local-6989586621679054744"><a href="#local-6989586621679054744"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><a href="#local-6989586621679054744"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-number">0</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="hs-number">1</span><span>
</span><a name="line-437"></a><span>
</span><a name="line-438"></a><span class="hs-comment">-- | @since 2.01</span><span>
</span><a name="line-439"></a><span class="hs-keyword">instance</span><span> </span><a href="Data.Bits.html#Bits"><span class="hs-identifier hs-type">Bits</span></a><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-440"></a><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">shift</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-441"></a><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">bit</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-442"></a><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">testBit</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-443"></a><span>
</span><a name="line-444"></a><span>    </span><a name="local-8214565720323829528"><a href="Data.Bits.html#zeroBits"><span class="hs-identifier">zeroBits</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0</span><span>
</span><a name="line-445"></a><span>
</span><a name="line-446"></a><span>    </span><a name="local-8214565720323829529"><a href="Data.Bits.html#bit"><span class="hs-identifier">bit</span></a></a><span>     </span><span class="hs-glyph">=</span><span> </span><a href="Data.Bits.html#bitDefault"><span class="hs-identifier hs-var">bitDefault</span></a><span>
</span><a name="line-447"></a><span>
</span><a name="line-448"></a><span>    </span><a name="local-8214565720323829533"><a href="Data.Bits.html#testBit"><span class="hs-identifier">testBit</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Bits.html#testBitDefault"><span class="hs-identifier hs-var">testBitDefault</span></a><span>
</span><a name="line-449"></a><span>
</span><a name="line-450"></a><span>    </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><a name="local-6989586621679054719"><a href="#local-6989586621679054719"><span class="hs-identifier">x#</span></a></a><span class="hs-special">)</span><span> </span><a name="local-8214565720323829522"><a href="Data.Bits.html#.%26."><span class="hs-operator">.&amp;.</span></a></a><span>   </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><a name="local-6989586621679054720"><a href="#local-6989586621679054720"><span class="hs-identifier">y#</span></a></a><span class="hs-special">)</span><span>          </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054719"><span class="hs-identifier hs-var">x#</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">andI#</span><span class="hs-special">`</span><span> </span><a href="#local-6989586621679054720"><span class="hs-identifier hs-var">y#</span></a><span class="hs-special">)</span><span>
</span><a name="line-451"></a><span>    </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><a name="local-6989586621679054721"><a href="#local-6989586621679054721"><span class="hs-identifier">x#</span></a></a><span class="hs-special">)</span><span> </span><a name="local-8214565720323829523"><a href="Data.Bits.html#.%7C."><span class="hs-operator">.|.</span></a></a><span>   </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><a name="local-6989586621679054722"><a href="#local-6989586621679054722"><span class="hs-identifier">y#</span></a></a><span class="hs-special">)</span><span>          </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054721"><span class="hs-identifier hs-var">x#</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">orI#</span><span class="hs-special">`</span><span>  </span><a href="#local-6989586621679054722"><span class="hs-identifier hs-var">y#</span></a><span class="hs-special">)</span><span>
</span><a name="line-452"></a><span>    </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><a name="local-6989586621679054723"><a href="#local-6989586621679054723"><span class="hs-identifier">x#</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><a name="local-8214565720323829524"><a href="Data.Bits.html#xor"><span class="hs-identifier">xor</span></a></a><span class="hs-special">`</span><span> </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><a name="local-6989586621679054724"><a href="#local-6989586621679054724"><span class="hs-identifier">y#</span></a></a><span class="hs-special">)</span><span>          </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054723"><span class="hs-identifier hs-var">x#</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">xorI#</span><span class="hs-special">`</span><span> </span><a href="#local-6989586621679054724"><span class="hs-identifier hs-var">y#</span></a><span class="hs-special">)</span><span>
</span><a name="line-453"></a><span>    </span><a name="local-8214565720323829525"><a href="Data.Bits.html#complement"><span class="hs-identifier">complement</span></a></a><span> </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><a name="local-6989586621679054725"><a href="#local-6989586621679054725"><span class="hs-identifier">x#</span></a></a><span class="hs-special">)</span><span>             </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">notI#</span><span> </span><a href="#local-6989586621679054725"><span class="hs-identifier hs-var">x#</span></a><span class="hs-special">)</span><span>
</span><a name="line-454"></a><span>    </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><a name="local-6989586621679054726"><a href="#local-6989586621679054726"><span class="hs-identifier">x#</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><a name="local-8214565720323829526"><a href="Data.Bits.html#shift"><span class="hs-identifier">shift</span></a></a><span class="hs-special">`</span><span> </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><a name="local-6989586621679054727"><a href="#local-6989586621679054727"><span class="hs-identifier">i#</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-455"></a><span>        </span><span class="hs-glyph">|</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#isTrue%23"><span class="hs-identifier hs-var">isTrue#</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054727"><span class="hs-identifier hs-var">i#</span></a><span> </span><span class="hs-operator hs-var">&gt;=#</span><span> </span><span class="hs-number">0#</span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054726"><span class="hs-identifier hs-var">x#</span></a><span> </span><span class="hs-special">`</span><a href="GHC.Base.html#iShiftL%23"><span class="hs-identifier hs-var">iShiftL#</span></a><span class="hs-special">`</span><span> </span><a href="#local-6989586621679054727"><span class="hs-identifier hs-var">i#</span></a><span class="hs-special">)</span><span>
</span><a name="line-456"></a><span>        </span><span class="hs-glyph">|</span><span> </span><a href="GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a><span>                </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054726"><span class="hs-identifier hs-var">x#</span></a><span> </span><span class="hs-special">`</span><a href="GHC.Base.html#iShiftRA%23"><span class="hs-identifier hs-var">iShiftRA#</span></a><span class="hs-special">`</span><span> </span><span class="hs-identifier hs-var">negateInt#</span><span> </span><a href="#local-6989586621679054727"><span class="hs-identifier hs-var">i#</span></a><span class="hs-special">)</span><span>
</span><a name="line-457"></a><span>    </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><a name="local-6989586621679054728"><a href="#local-6989586621679054728"><span class="hs-identifier">x#</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><a name="local-8214565720323829537"><a href="Data.Bits.html#shiftL"><span class="hs-identifier">shiftL</span></a></a><span class="hs-special">`</span><span> </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><a name="local-6989586621679054729"><a href="#local-6989586621679054729"><span class="hs-identifier">i#</span></a></a><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054728"><span class="hs-identifier hs-var">x#</span></a><span> </span><span class="hs-special">`</span><a href="GHC.Base.html#iShiftL%23"><span class="hs-identifier hs-var">iShiftL#</span></a><span class="hs-special">`</span><span> </span><a href="#local-6989586621679054729"><span class="hs-identifier hs-var">i#</span></a><span class="hs-special">)</span><span>
</span><a name="line-458"></a><span>    </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><a name="local-6989586621679054730"><a href="#local-6989586621679054730"><span class="hs-identifier">x#</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><a name="local-8214565720323829538"><a href="Data.Bits.html#unsafeShiftL"><span class="hs-identifier">unsafeShiftL</span></a></a><span class="hs-special">`</span><span> </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><a name="local-6989586621679054731"><a href="#local-6989586621679054731"><span class="hs-identifier">i#</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054730"><span class="hs-identifier hs-var">x#</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">uncheckedIShiftL#</span><span class="hs-special">`</span><span> </span><a href="#local-6989586621679054731"><span class="hs-identifier hs-var">i#</span></a><span class="hs-special">)</span><span>
</span><a name="line-459"></a><span>    </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><a name="local-6989586621679054732"><a href="#local-6989586621679054732"><span class="hs-identifier">x#</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><a name="local-8214565720323829539"><a href="Data.Bits.html#shiftR"><span class="hs-identifier">shiftR</span></a></a><span class="hs-special">`</span><span> </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><a name="local-6989586621679054733"><a href="#local-6989586621679054733"><span class="hs-identifier">i#</span></a></a><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054732"><span class="hs-identifier hs-var">x#</span></a><span> </span><span class="hs-special">`</span><a href="GHC.Base.html#iShiftRA%23"><span class="hs-identifier hs-var">iShiftRA#</span></a><span class="hs-special">`</span><span> </span><a href="#local-6989586621679054733"><span class="hs-identifier hs-var">i#</span></a><span class="hs-special">)</span><span>
</span><a name="line-460"></a><span>    </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><a name="local-6989586621679054734"><a href="#local-6989586621679054734"><span class="hs-identifier">x#</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><a name="local-8214565720323829540"><a href="Data.Bits.html#unsafeShiftR"><span class="hs-identifier">unsafeShiftR</span></a></a><span class="hs-special">`</span><span> </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><a name="local-6989586621679054735"><a href="#local-6989586621679054735"><span class="hs-identifier">i#</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054734"><span class="hs-identifier hs-var">x#</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">uncheckedIShiftRA#</span><span class="hs-special">`</span><span> </span><a href="#local-6989586621679054735"><span class="hs-identifier hs-var">i#</span></a><span class="hs-special">)</span><span>
</span><a name="line-461"></a><span>
</span><a name="line-462"></a><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">rotate</span><span> </span><span class="hs-pragma">#-}</span><span>       </span><span class="hs-comment">-- See Note [Constant folding for rotate]</span><span>
</span><a name="line-463"></a><span>    </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><a name="local-6989586621679054736"><a href="#local-6989586621679054736"><span class="hs-identifier">x#</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><a name="local-8214565720323829527"><a href="Data.Bits.html#rotate"><span class="hs-identifier">rotate</span></a></a><span class="hs-special">`</span><span> </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><a name="local-6989586621679054737"><a href="#local-6989586621679054737"><span class="hs-identifier">i#</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-464"></a><span>        </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><a href="#local-6989586621679054736"><span class="hs-identifier hs-var">x#</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">uncheckedIShiftL#</span><span class="hs-special">`</span><span> </span><a href="#local-6989586621679054738"><span class="hs-identifier hs-var">i'#</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">orI#</span><span class="hs-special">`</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054736"><span class="hs-identifier hs-var">x#</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">uncheckedIShiftRL#</span><span class="hs-special">`</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054739"><span class="hs-identifier hs-var">wsib</span></a><span> </span><span class="hs-operator hs-var">-#</span><span> </span><a href="#local-6989586621679054738"><span class="hs-identifier hs-var">i'#</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-465"></a><span>      </span><span class="hs-keyword">where</span><span>
</span><a name="line-466"></a><span>        </span><span class="hs-glyph">!</span><a name="local-6989586621679054738"><a href="#local-6989586621679054738"><span class="hs-identifier">i'#</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679054737"><span class="hs-identifier hs-var">i#</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">andI#</span><span class="hs-special">`</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054739"><span class="hs-identifier hs-var">wsib</span></a><span> </span><span class="hs-operator hs-var">-#</span><span> </span><span class="hs-number">1#</span><span class="hs-special">)</span><span>
</span><a name="line-467"></a><span>        </span><span class="hs-glyph">!</span><a name="local-6989586621679054739"><a href="#local-6989586621679054739"><span class="hs-identifier">wsib</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">WORD_SIZE_IN_BITS#</span><span>   </span><span class="hs-comment">{- work around preprocessor problem (??) -}</span><span>
</span><a name="line-468"></a><span>    </span><a name="local-8214565720323829534"><a href="Data.Bits.html#bitSizeMaybe"><span class="hs-identifier">bitSizeMaybe</span></a></a><span> </span><a name="local-6989586621679054740"><a href="#local-6989586621679054740"><span class="hs-identifier">i</span></a></a><span>         </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><span class="hs-special">(</span><a href="Data.Bits.html#finiteBitSize"><span class="hs-identifier hs-var">finiteBitSize</span></a><span> </span><a href="#local-6989586621679054740"><span class="hs-identifier hs-var">i</span></a><span class="hs-special">)</span><span>
</span><a name="line-469"></a><span>    </span><a name="local-8214565720323829535"><a href="Data.Bits.html#bitSize"><span class="hs-identifier">bitSize</span></a></a><span> </span><a name="local-6989586621679054741"><a href="#local-6989586621679054741"><span class="hs-identifier">i</span></a></a><span>              </span><span class="hs-glyph">=</span><span> </span><a href="Data.Bits.html#finiteBitSize"><span class="hs-identifier hs-var">finiteBitSize</span></a><span> </span><a href="#local-6989586621679054741"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-470"></a><span>
</span><a name="line-471"></a><span>    </span><a name="local-8214565720323829543"><a href="Data.Bits.html#popCount"><span class="hs-identifier">popCount</span></a></a><span> </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><a name="local-6989586621679054742"><a href="#local-6989586621679054742"><span class="hs-identifier">x#</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">word2Int#</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">popCnt#</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">int2Word#</span><span> </span><a href="#local-6989586621679054742"><span class="hs-identifier hs-var">x#</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-472"></a><span>
</span><a name="line-473"></a><span>    </span><a name="local-8214565720323829536"><a href="Data.Bits.html#isSigned"><span class="hs-identifier">isSigned</span></a></a><span> </span><span class="hs-identifier">_</span><span>             </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a><span>
</span><a name="line-474"></a><span>
</span><a name="line-475"></a><span class="hs-comment">-- | @since 4.6.0.0</span><span>
</span><a name="line-476"></a><span class="hs-keyword">instance</span><span> </span><a href="Data.Bits.html#FiniteBits"><span class="hs-identifier hs-type">FiniteBits</span></a><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-477"></a><span>    </span><a name="local-8214565720323829518"><a href="Data.Bits.html#finiteBitSize"><span class="hs-identifier">finiteBitSize</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">WORD_SIZE_IN_BITS</span><span>
</span><a name="line-478"></a><span>    </span><a name="local-8214565720323829519"><a href="Data.Bits.html#countLeadingZeros"><span class="hs-identifier">countLeadingZeros</span></a></a><span>  </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><a name="local-6989586621679054717"><a href="#local-6989586621679054717"><span class="hs-identifier">x#</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">word2Int#</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">clz#</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">int2Word#</span><span> </span><a href="#local-6989586621679054717"><span class="hs-identifier hs-var">x#</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-479"></a><span>    </span><a name="local-8214565720323829520"><a href="Data.Bits.html#countTrailingZeros"><span class="hs-identifier">countTrailingZeros</span></a></a><span> </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><a name="local-6989586621679054718"><a href="#local-6989586621679054718"><span class="hs-identifier">x#</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">word2Int#</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">ctz#</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">int2Word#</span><span> </span><a href="#local-6989586621679054718"><span class="hs-identifier hs-var">x#</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-480"></a><span>
</span><a name="line-481"></a><span class="hs-comment">-- | @since 2.01</span><span>
</span><a name="line-482"></a><span class="hs-keyword">instance</span><span> </span><a href="Data.Bits.html#Bits"><span class="hs-identifier hs-type">Bits</span></a><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Word"><span class="hs-identifier hs-type">Word</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-483"></a><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">shift</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-484"></a><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">bit</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-485"></a><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">testBit</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-486"></a><span>
</span><a name="line-487"></a><span>    </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#W%23"><span class="hs-identifier hs-var">W#</span></a><span> </span><a name="local-6989586621679054692"><a href="#local-6989586621679054692"><span class="hs-identifier">x#</span></a></a><span class="hs-special">)</span><span> </span><a name="local-8214565720323829522"><a href="Data.Bits.html#.%26."><span class="hs-operator">.&amp;.</span></a></a><span>   </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#W%23"><span class="hs-identifier hs-var">W#</span></a><span> </span><a name="local-6989586621679054693"><a href="#local-6989586621679054693"><span class="hs-identifier">y#</span></a></a><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#W%23"><span class="hs-identifier hs-var">W#</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054692"><span class="hs-identifier hs-var">x#</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">and#</span><span class="hs-special">`</span><span> </span><a href="#local-6989586621679054693"><span class="hs-identifier hs-var">y#</span></a><span class="hs-special">)</span><span>
</span><a name="line-488"></a><span>    </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#W%23"><span class="hs-identifier hs-var">W#</span></a><span> </span><a name="local-6989586621679054694"><a href="#local-6989586621679054694"><span class="hs-identifier">x#</span></a></a><span class="hs-special">)</span><span> </span><a name="local-8214565720323829523"><a href="Data.Bits.html#.%7C."><span class="hs-operator">.|.</span></a></a><span>   </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#W%23"><span class="hs-identifier hs-var">W#</span></a><span> </span><a name="local-6989586621679054695"><a href="#local-6989586621679054695"><span class="hs-identifier">y#</span></a></a><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#W%23"><span class="hs-identifier hs-var">W#</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054694"><span class="hs-identifier hs-var">x#</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">or#</span><span class="hs-special">`</span><span>  </span><a href="#local-6989586621679054695"><span class="hs-identifier hs-var">y#</span></a><span class="hs-special">)</span><span>
</span><a name="line-489"></a><span>    </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#W%23"><span class="hs-identifier hs-var">W#</span></a><span> </span><a name="local-6989586621679054696"><a href="#local-6989586621679054696"><span class="hs-identifier">x#</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><a name="local-8214565720323829524"><a href="Data.Bits.html#xor"><span class="hs-identifier">xor</span></a></a><span class="hs-special">`</span><span> </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#W%23"><span class="hs-identifier hs-var">W#</span></a><span> </span><a name="local-6989586621679054697"><a href="#local-6989586621679054697"><span class="hs-identifier">y#</span></a></a><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#W%23"><span class="hs-identifier hs-var">W#</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054696"><span class="hs-identifier hs-var">x#</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">xor#</span><span class="hs-special">`</span><span> </span><a href="#local-6989586621679054697"><span class="hs-identifier hs-var">y#</span></a><span class="hs-special">)</span><span>
</span><a name="line-490"></a><span>    </span><a name="local-8214565720323829525"><a href="Data.Bits.html#complement"><span class="hs-identifier">complement</span></a></a><span> </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#W%23"><span class="hs-identifier hs-var">W#</span></a><span> </span><a name="local-6989586621679054698"><a href="#local-6989586621679054698"><span class="hs-identifier">x#</span></a></a><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#W%23"><span class="hs-identifier hs-var">W#</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054698"><span class="hs-identifier hs-var">x#</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">xor#</span><span class="hs-special">`</span><span> </span><a href="#local-6989586621679054699"><span class="hs-identifier hs-var">mb#</span></a><span class="hs-special">)</span><span>
</span><a name="line-491"></a><span>        </span><span class="hs-keyword">where</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#W%23"><span class="hs-identifier hs-var">W#</span></a><span> </span><a name="local-6989586621679054699"><a href="#local-6989586621679054699"><span class="hs-identifier">mb#</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Enum.html#maxBound"><span class="hs-identifier hs-var">maxBound</span></a><span>
</span><a name="line-492"></a><span>    </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#W%23"><span class="hs-identifier hs-var">W#</span></a><span> </span><a name="local-6989586621679054700"><a href="#local-6989586621679054700"><span class="hs-identifier">x#</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><a name="local-8214565720323829526"><a href="Data.Bits.html#shift"><span class="hs-identifier">shift</span></a></a><span class="hs-special">`</span><span> </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><a name="local-6989586621679054701"><a href="#local-6989586621679054701"><span class="hs-identifier">i#</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-493"></a><span>        </span><span class="hs-glyph">|</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#isTrue%23"><span class="hs-identifier hs-var">isTrue#</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054701"><span class="hs-identifier hs-var">i#</span></a><span> </span><span class="hs-operator hs-var">&gt;=#</span><span> </span><span class="hs-number">0#</span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#W%23"><span class="hs-identifier hs-var">W#</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054700"><span class="hs-identifier hs-var">x#</span></a><span> </span><span class="hs-special">`</span><a href="GHC.Base.html#shiftL%23"><span class="hs-identifier hs-var">shiftL#</span></a><span class="hs-special">`</span><span> </span><a href="#local-6989586621679054701"><span class="hs-identifier hs-var">i#</span></a><span class="hs-special">)</span><span>
</span><a name="line-494"></a><span>        </span><span class="hs-glyph">|</span><span> </span><a href="GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a><span>                </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#W%23"><span class="hs-identifier hs-var">W#</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054700"><span class="hs-identifier hs-var">x#</span></a><span> </span><span class="hs-special">`</span><a href="GHC.Base.html#shiftRL%23"><span class="hs-identifier hs-var">shiftRL#</span></a><span class="hs-special">`</span><span> </span><span class="hs-identifier hs-var">negateInt#</span><span> </span><a href="#local-6989586621679054701"><span class="hs-identifier hs-var">i#</span></a><span class="hs-special">)</span><span>
</span><a name="line-495"></a><span>    </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#W%23"><span class="hs-identifier hs-var">W#</span></a><span> </span><a name="local-6989586621679054702"><a href="#local-6989586621679054702"><span class="hs-identifier">x#</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><a name="local-8214565720323829537"><a href="Data.Bits.html#shiftL"><span class="hs-identifier">shiftL</span></a></a><span class="hs-special">`</span><span> </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><a name="local-6989586621679054703"><a href="#local-6989586621679054703"><span class="hs-identifier">i#</span></a></a><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#W%23"><span class="hs-identifier hs-var">W#</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054702"><span class="hs-identifier hs-var">x#</span></a><span> </span><span class="hs-special">`</span><a href="GHC.Base.html#shiftL%23"><span class="hs-identifier hs-var">shiftL#</span></a><span class="hs-special">`</span><span> </span><a href="#local-6989586621679054703"><span class="hs-identifier hs-var">i#</span></a><span class="hs-special">)</span><span>
</span><a name="line-496"></a><span>    </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#W%23"><span class="hs-identifier hs-var">W#</span></a><span> </span><a name="local-6989586621679054704"><a href="#local-6989586621679054704"><span class="hs-identifier">x#</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><a name="local-8214565720323829538"><a href="Data.Bits.html#unsafeShiftL"><span class="hs-identifier">unsafeShiftL</span></a></a><span class="hs-special">`</span><span> </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><a name="local-6989586621679054705"><a href="#local-6989586621679054705"><span class="hs-identifier">i#</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#W%23"><span class="hs-identifier hs-var">W#</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054704"><span class="hs-identifier hs-var">x#</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">uncheckedShiftL#</span><span class="hs-special">`</span><span> </span><a href="#local-6989586621679054705"><span class="hs-identifier hs-var">i#</span></a><span class="hs-special">)</span><span>
</span><a name="line-497"></a><span>    </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#W%23"><span class="hs-identifier hs-var">W#</span></a><span> </span><a name="local-6989586621679054706"><a href="#local-6989586621679054706"><span class="hs-identifier">x#</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><a name="local-8214565720323829539"><a href="Data.Bits.html#shiftR"><span class="hs-identifier">shiftR</span></a></a><span class="hs-special">`</span><span> </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><a name="local-6989586621679054707"><a href="#local-6989586621679054707"><span class="hs-identifier">i#</span></a></a><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#W%23"><span class="hs-identifier hs-var">W#</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054706"><span class="hs-identifier hs-var">x#</span></a><span> </span><span class="hs-special">`</span><a href="GHC.Base.html#shiftRL%23"><span class="hs-identifier hs-var">shiftRL#</span></a><span class="hs-special">`</span><span> </span><a href="#local-6989586621679054707"><span class="hs-identifier hs-var">i#</span></a><span class="hs-special">)</span><span>
</span><a name="line-498"></a><span>    </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#W%23"><span class="hs-identifier hs-var">W#</span></a><span> </span><a name="local-6989586621679054708"><a href="#local-6989586621679054708"><span class="hs-identifier">x#</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><a name="local-8214565720323829540"><a href="Data.Bits.html#unsafeShiftR"><span class="hs-identifier">unsafeShiftR</span></a></a><span class="hs-special">`</span><span> </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><a name="local-6989586621679054709"><a href="#local-6989586621679054709"><span class="hs-identifier">i#</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#W%23"><span class="hs-identifier hs-var">W#</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054708"><span class="hs-identifier hs-var">x#</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">uncheckedShiftRL#</span><span class="hs-special">`</span><span> </span><a href="#local-6989586621679054709"><span class="hs-identifier hs-var">i#</span></a><span class="hs-special">)</span><span>
</span><a name="line-499"></a><span>    </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#W%23"><span class="hs-identifier hs-var">W#</span></a><span> </span><a name="local-6989586621679054710"><a href="#local-6989586621679054710"><span class="hs-identifier">x#</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><a name="local-8214565720323829527"><a href="Data.Bits.html#rotate"><span class="hs-identifier">rotate</span></a></a><span class="hs-special">`</span><span> </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><a name="local-6989586621679054711"><a href="#local-6989586621679054711"><span class="hs-identifier">i#</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-500"></a><span>        </span><span class="hs-glyph">|</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#isTrue%23"><span class="hs-identifier hs-var">isTrue#</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054712"><span class="hs-identifier hs-var">i'#</span></a><span> </span><span class="hs-operator hs-var">==#</span><span> </span><span class="hs-number">0#</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#W%23"><span class="hs-identifier hs-var">W#</span></a><span> </span><a href="#local-6989586621679054710"><span class="hs-identifier hs-var">x#</span></a><span>
</span><a name="line-501"></a><span>        </span><span class="hs-glyph">|</span><span> </span><a href="GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#W%23"><span class="hs-identifier hs-var">W#</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><a href="#local-6989586621679054710"><span class="hs-identifier hs-var">x#</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">uncheckedShiftL#</span><span class="hs-special">`</span><span> </span><a href="#local-6989586621679054712"><span class="hs-identifier hs-var">i'#</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">or#</span><span class="hs-special">`</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054710"><span class="hs-identifier hs-var">x#</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">uncheckedShiftRL#</span><span class="hs-special">`</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054713"><span class="hs-identifier hs-var">wsib</span></a><span> </span><span class="hs-operator hs-var">-#</span><span> </span><a href="#local-6989586621679054712"><span class="hs-identifier hs-var">i'#</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-502"></a><span>        </span><span class="hs-keyword">where</span><span>
</span><a name="line-503"></a><span>        </span><span class="hs-glyph">!</span><a name="local-6989586621679054712"><a href="#local-6989586621679054712"><span class="hs-identifier">i'#</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679054711"><span class="hs-identifier hs-var">i#</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">andI#</span><span class="hs-special">`</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054713"><span class="hs-identifier hs-var">wsib</span></a><span> </span><span class="hs-operator hs-var">-#</span><span> </span><span class="hs-number">1#</span><span class="hs-special">)</span><span>
</span><a name="line-504"></a><span>        </span><span class="hs-glyph">!</span><a name="local-6989586621679054713"><a href="#local-6989586621679054713"><span class="hs-identifier">wsib</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">WORD_SIZE_IN_BITS#</span><span>  </span><span class="hs-comment">{- work around preprocessor problem (??) -}</span><span>
</span><a name="line-505"></a><span>    </span><a name="local-8214565720323829534"><a href="Data.Bits.html#bitSizeMaybe"><span class="hs-identifier">bitSizeMaybe</span></a></a><span> </span><a name="local-6989586621679054714"><a href="#local-6989586621679054714"><span class="hs-identifier">i</span></a></a><span>           </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><span class="hs-special">(</span><a href="Data.Bits.html#finiteBitSize"><span class="hs-identifier hs-var">finiteBitSize</span></a><span> </span><a href="#local-6989586621679054714"><span class="hs-identifier hs-var">i</span></a><span class="hs-special">)</span><span>
</span><a name="line-506"></a><span>    </span><a name="local-8214565720323829535"><a href="Data.Bits.html#bitSize"><span class="hs-identifier">bitSize</span></a></a><span> </span><a name="local-6989586621679054715"><a href="#local-6989586621679054715"><span class="hs-identifier">i</span></a></a><span>                </span><span class="hs-glyph">=</span><span> </span><a href="Data.Bits.html#finiteBitSize"><span class="hs-identifier hs-var">finiteBitSize</span></a><span> </span><a href="#local-6989586621679054715"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-507"></a><span>    </span><a name="local-8214565720323829536"><a href="Data.Bits.html#isSigned"><span class="hs-identifier">isSigned</span></a></a><span> </span><span class="hs-identifier">_</span><span>               </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a><span>
</span><a name="line-508"></a><span>    </span><a name="local-8214565720323829543"><a href="Data.Bits.html#popCount"><span class="hs-identifier">popCount</span></a></a><span> </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#W%23"><span class="hs-identifier hs-var">W#</span></a><span> </span><a name="local-6989586621679054716"><a href="#local-6989586621679054716"><span class="hs-identifier">x#</span></a></a><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">word2Int#</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">popCnt#</span><span> </span><a href="#local-6989586621679054716"><span class="hs-identifier hs-var">x#</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-509"></a><span>    </span><a name="local-8214565720323829529"><a href="Data.Bits.html#bit"><span class="hs-identifier">bit</span></a></a><span>                      </span><span class="hs-glyph">=</span><span> </span><a href="Data.Bits.html#bitDefault"><span class="hs-identifier hs-var">bitDefault</span></a><span>
</span><a name="line-510"></a><span>    </span><a name="local-8214565720323829533"><a href="Data.Bits.html#testBit"><span class="hs-identifier">testBit</span></a></a><span>                  </span><span class="hs-glyph">=</span><span> </span><a href="Data.Bits.html#testBitDefault"><span class="hs-identifier hs-var">testBitDefault</span></a><span>
</span><a name="line-511"></a><span>
</span><a name="line-512"></a><span class="hs-comment">-- | @since 4.6.0.0</span><span>
</span><a name="line-513"></a><span class="hs-keyword">instance</span><span> </span><a href="Data.Bits.html#FiniteBits"><span class="hs-identifier hs-type">FiniteBits</span></a><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Word"><span class="hs-identifier hs-type">Word</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-514"></a><span>    </span><a name="local-8214565720323829518"><a href="Data.Bits.html#finiteBitSize"><span class="hs-identifier">finiteBitSize</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">WORD_SIZE_IN_BITS</span><span>
</span><a name="line-515"></a><span>    </span><a name="local-8214565720323829519"><a href="Data.Bits.html#countLeadingZeros"><span class="hs-identifier">countLeadingZeros</span></a></a><span>  </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#W%23"><span class="hs-identifier hs-var">W#</span></a><span> </span><a name="local-6989586621679054690"><a href="#local-6989586621679054690"><span class="hs-identifier">x#</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">word2Int#</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">clz#</span><span> </span><a href="#local-6989586621679054690"><span class="hs-identifier hs-var">x#</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-516"></a><span>    </span><a name="local-8214565720323829520"><a href="Data.Bits.html#countTrailingZeros"><span class="hs-identifier">countTrailingZeros</span></a></a><span> </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#W%23"><span class="hs-identifier hs-var">W#</span></a><span> </span><a name="local-6989586621679054691"><a href="#local-6989586621679054691"><span class="hs-identifier">x#</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">word2Int#</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">ctz#</span><span> </span><a href="#local-6989586621679054691"><span class="hs-identifier hs-var">x#</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-517"></a><span>
</span><a name="line-518"></a><span class="hs-comment">-- | @since 2.01</span><span>
</span><a name="line-519"></a><span class="hs-keyword">instance</span><span> </span><a href="Data.Bits.html#Bits"><span class="hs-identifier hs-type">Bits</span></a><span> </span><a href="../integer-gmp/src/%{MODULE}.html#%{NAME}/GHC.Integer.Type.html#Integer"><span class="hs-identifier hs-type">Integer</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-520"></a><span>   </span><span class="hs-special">(</span><a name="local-8214565720323829522"><a href="Data.Bits.html#.%26."><span class="hs-operator">.&amp;.</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="../integer-gmp/src/%{MODULE}.html#%{NAME}/GHC.Integer.Type.html#andInteger"><span class="hs-identifier hs-var">andInteger</span></a><span>
</span><a name="line-521"></a><span>   </span><span class="hs-special">(</span><a name="local-8214565720323829523"><a href="Data.Bits.html#.%7C."><span class="hs-operator">.|.</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="../integer-gmp/src/%{MODULE}.html#%{NAME}/GHC.Integer.Type.html#orInteger"><span class="hs-identifier hs-var">orInteger</span></a><span>
</span><a name="line-522"></a><span>   </span><a name="local-8214565720323829524"><a href="Data.Bits.html#xor"><span class="hs-identifier">xor</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="../integer-gmp/src/%{MODULE}.html#%{NAME}/GHC.Integer.Type.html#xorInteger"><span class="hs-identifier hs-var">xorInteger</span></a><span>
</span><a name="line-523"></a><span>   </span><a name="local-8214565720323829525"><a href="Data.Bits.html#complement"><span class="hs-identifier">complement</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="../integer-gmp/src/%{MODULE}.html#%{NAME}/GHC.Integer.Type.html#complementInteger"><span class="hs-identifier hs-var">complementInteger</span></a><span>
</span><a name="line-524"></a><span>   </span><a name="local-8214565720323829526"><a href="Data.Bits.html#shift"><span class="hs-identifier">shift</span></a></a><span> </span><a name="local-6989586621679054681"><a href="#local-6989586621679054681"><span class="hs-identifier">x</span></a></a><span> </span><a name="local-6989586621679054682"><a href="#local-6989586621679054682"><span class="hs-identifier">i</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><a name="local-6989586621679054683"><a href="#local-6989586621679054683"><span class="hs-identifier">i#</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621679054682"><span class="hs-identifier hs-var">i</span></a><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html#%3E%3D"><span class="hs-operator hs-var">&gt;=</span></a><span> </span><span class="hs-number">0</span><span>    </span><span class="hs-glyph">=</span><span> </span><a href="../integer-gmp/src/%{MODULE}.html#%{NAME}/GHC.Integer.Type.html#shiftLInteger"><span class="hs-identifier hs-var">shiftLInteger</span></a><span> </span><a href="#local-6989586621679054681"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="#local-6989586621679054683"><span class="hs-identifier hs-var">i#</span></a><span>
</span><a name="line-525"></a><span>                     </span><span class="hs-glyph">|</span><span> </span><a href="GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="../integer-gmp/src/%{MODULE}.html#%{NAME}/GHC.Integer.Type.html#shiftRInteger"><span class="hs-identifier hs-var">shiftRInteger</span></a><span> </span><a href="#local-6989586621679054681"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">negateInt#</span><span> </span><a href="#local-6989586621679054683"><span class="hs-identifier hs-var">i#</span></a><span class="hs-special">)</span><span>
</span><a name="line-526"></a><span>   </span><a name="local-8214565720323829533"><a href="Data.Bits.html#testBit"><span class="hs-identifier">testBit</span></a></a><span> </span><a name="local-6989586621679054684"><a href="#local-6989586621679054684"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><a name="local-6989586621679054685"><a href="#local-6989586621679054685"><span class="hs-identifier">i</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="../integer-gmp/src/%{MODULE}.html#%{NAME}/GHC.Integer.Type.html#testBitInteger"><span class="hs-identifier hs-var">testBitInteger</span></a><span> </span><a href="#local-6989586621679054684"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="#local-6989586621679054685"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-527"></a><span>   </span><a name="local-8214565720323829528"><a href="Data.Bits.html#zeroBits"><span class="hs-identifier">zeroBits</span></a></a><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0</span><span>
</span><a name="line-528"></a><span>
</span><a name="line-529"></a><span class="hs-cpp">#if defined(MIN_VERSION_integer_gmp)
</span><span>   </span><a name="local-8214565720323829529"><a href="Data.Bits.html#bit"><span class="hs-identifier">bit</span></a></a><span> </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><a name="local-6989586621679054686"><a href="#local-6989586621679054686"><span class="hs-identifier">i#</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="../integer-gmp/src/%{MODULE}.html#%{NAME}/GHC.Integer.Type.html#bitInteger"><span class="hs-identifier hs-var">bitInteger</span></a><span> </span><a href="#local-6989586621679054686"><span class="hs-identifier hs-var">i#</span></a><span>
</span><a name="line-531"></a><span>   </span><a name="local-8214565720323829543"><a href="Data.Bits.html#popCount"><span class="hs-identifier">popCount</span></a></a><span> </span><a name="local-6989586621679054687"><a href="#local-6989586621679054687"><span class="hs-identifier">x</span></a></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><span class="hs-special">(</span><a href="../integer-gmp/src/%{MODULE}.html#%{NAME}/GHC.Integer.Type.html#popCountInteger"><span class="hs-identifier hs-var">popCountInteger</span></a><span> </span><a href="#local-6989586621679054687"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span>
</span><a name="line-532"></a><span class="hs-cpp">#else
</span><span>   </span><span class="hs-identifier">bit</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">bitDefault</span><span>
</span><a name="line-534"></a><span>   </span><span class="hs-identifier">popCount</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">popCountDefault</span><span>
</span><a name="line-535"></a><span class="hs-cpp">#endif
</span><span>
</span><a name="line-537"></a><span>   </span><a name="local-8214565720323829527"><a href="Data.Bits.html#rotate"><span class="hs-identifier">rotate</span></a></a><span> </span><a name="local-6989586621679054688"><a href="#local-6989586621679054688"><span class="hs-identifier">x</span></a></a><span> </span><a name="local-6989586621679054689"><a href="#local-6989586621679054689"><span class="hs-identifier">i</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Bits.html#shift"><span class="hs-identifier hs-var">shift</span></a><span> </span><a href="#local-6989586621679054688"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="#local-6989586621679054689"><span class="hs-identifier hs-var">i</span></a><span>   </span><span class="hs-comment">-- since an Integer never wraps around</span><span>
</span><a name="line-538"></a><span>
</span><a name="line-539"></a><span>   </span><a name="local-8214565720323829534"><a href="Data.Bits.html#bitSizeMaybe"><span class="hs-identifier">bitSizeMaybe</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span>
</span><a name="line-540"></a><span>   </span><a name="local-8214565720323829535"><a href="Data.Bits.html#bitSize"><span class="hs-identifier">bitSize</span></a></a><span> </span><span class="hs-identifier">_</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Err.html#errorWithoutStackTrace"><span class="hs-identifier hs-var">errorWithoutStackTrace</span></a><span> </span><span class="hs-string">&quot;Data.Bits.bitSize(Integer)&quot;</span><span>
</span><a name="line-541"></a><span>   </span><a name="local-8214565720323829536"><a href="Data.Bits.html#isSigned"><span class="hs-identifier">isSigned</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a><span>
</span><a name="line-542"></a><span>
</span><a name="line-543"></a><span class="hs-cpp">#if defined(MIN_VERSION_integer_gmp)
</span><span class="hs-comment">-- | @since 4.8.0</span><span>
</span><a name="line-545"></a><span class="hs-keyword">instance</span><span> </span><a href="Data.Bits.html#Bits"><span class="hs-identifier hs-type">Bits</span></a><span> </span><a href="GHC.Natural.html#Natural"><span class="hs-identifier hs-type">Natural</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-546"></a><span>   </span><span class="hs-special">(</span><a name="local-8214565720323829522"><a href="Data.Bits.html#.%26."><span class="hs-operator">.&amp;.</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Natural.html#andNatural"><span class="hs-identifier hs-var">andNatural</span></a><span>
</span><a name="line-547"></a><span>   </span><span class="hs-special">(</span><a name="local-8214565720323829523"><a href="Data.Bits.html#.%7C."><span class="hs-operator">.|.</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Natural.html#orNatural"><span class="hs-identifier hs-var">orNatural</span></a><span>
</span><a name="line-548"></a><span>   </span><a name="local-8214565720323829524"><a href="Data.Bits.html#xor"><span class="hs-identifier">xor</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Natural.html#xorNatural"><span class="hs-identifier hs-var">xorNatural</span></a><span>
</span><a name="line-549"></a><span>   </span><a name="local-8214565720323829525"><a href="Data.Bits.html#complement"><span class="hs-identifier">complement</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Err.html#errorWithoutStackTrace"><span class="hs-identifier hs-var">errorWithoutStackTrace</span></a><span>
</span><a name="line-550"></a><span>                    </span><span class="hs-string">&quot;Bits.complement: Natural complement undefined&quot;</span><span>
</span><a name="line-551"></a><span>   </span><a name="local-8214565720323829526"><a href="Data.Bits.html#shift"><span class="hs-identifier">shift</span></a></a><span> </span><a name="local-6989586621679054671"><a href="#local-6989586621679054671"><span class="hs-identifier">x</span></a></a><span> </span><a name="local-6989586621679054672"><a href="#local-6989586621679054672"><span class="hs-identifier">i</span></a></a><span>
</span><a name="line-552"></a><span>     </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621679054672"><span class="hs-identifier hs-var">i</span></a><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html#%3E%3D"><span class="hs-operator hs-var">&gt;=</span></a><span> </span><span class="hs-number">0</span><span>    </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Natural.html#shiftLNatural"><span class="hs-identifier hs-var">shiftLNatural</span></a><span> </span><a href="#local-6989586621679054671"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="#local-6989586621679054672"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-553"></a><span>     </span><span class="hs-glyph">|</span><span> </span><a href="GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Natural.html#shiftRNatural"><span class="hs-identifier hs-var">shiftRNatural</span></a><span> </span><a href="#local-6989586621679054671"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-special">(</span><a href="GHC.Num.html#negate"><span class="hs-identifier hs-var">negate</span></a><span> </span><a href="#local-6989586621679054672"><span class="hs-identifier hs-var">i</span></a><span class="hs-special">)</span><span>
</span><a name="line-554"></a><span>   </span><a name="local-8214565720323829533"><a href="Data.Bits.html#testBit"><span class="hs-identifier">testBit</span></a></a><span> </span><a name="local-6989586621679054673"><a href="#local-6989586621679054673"><span class="hs-identifier">x</span></a></a><span> </span><a name="local-6989586621679054674"><a href="#local-6989586621679054674"><span class="hs-identifier">i</span></a></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Natural.html#testBitNatural"><span class="hs-identifier hs-var">testBitNatural</span></a><span> </span><a href="#local-6989586621679054673"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="#local-6989586621679054674"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-555"></a><span>   </span><a name="local-8214565720323829528"><a href="Data.Bits.html#zeroBits"><span class="hs-identifier">zeroBits</span></a></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Natural.html#wordToNaturalBase"><span class="hs-identifier hs-var">wordToNaturalBase</span></a><span> </span><span class="hs-number">0##</span><span>
</span><a name="line-556"></a><span>   </span><a name="local-8214565720323829531"><a href="Data.Bits.html#clearBit"><span class="hs-identifier">clearBit</span></a></a><span> </span><a name="local-6989586621679054675"><a href="#local-6989586621679054675"><span class="hs-identifier">x</span></a></a><span> </span><a name="local-6989586621679054676"><a href="#local-6989586621679054676"><span class="hs-identifier">i</span></a></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679054675"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-special">`</span><a href="Data.Bits.html#xor"><span class="hs-identifier hs-var">xor</span></a><span class="hs-special">`</span><span> </span><span class="hs-special">(</span><a href="Data.Bits.html#bit"><span class="hs-identifier hs-var">bit</span></a><span> </span><a href="#local-6989586621679054676"><span class="hs-identifier hs-var">i</span></a><span> </span><a href="Data.Bits.html#.%26."><span class="hs-operator hs-var">.&amp;.</span></a><span> </span><a href="#local-6989586621679054675"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span>
</span><a name="line-557"></a><span>
</span><a name="line-558"></a><span>   </span><a name="local-8214565720323829529"><a href="Data.Bits.html#bit"><span class="hs-identifier">bit</span></a></a><span> </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#I%23"><span class="hs-identifier hs-var">I#</span></a><span> </span><a name="local-6989586621679054677"><a href="#local-6989586621679054677"><span class="hs-identifier">i#</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Natural.html#bitNatural"><span class="hs-identifier hs-var">bitNatural</span></a><span> </span><a href="#local-6989586621679054677"><span class="hs-identifier hs-var">i#</span></a><span>
</span><a name="line-559"></a><span>   </span><a name="local-8214565720323829543"><a href="Data.Bits.html#popCount"><span class="hs-identifier">popCount</span></a></a><span> </span><a name="local-6989586621679054678"><a href="#local-6989586621679054678"><span class="hs-identifier">x</span></a></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Natural.html#popCountNatural"><span class="hs-identifier hs-var">popCountNatural</span></a><span> </span><a href="#local-6989586621679054678"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-560"></a><span>
</span><a name="line-561"></a><span>   </span><a name="local-8214565720323829527"><a href="Data.Bits.html#rotate"><span class="hs-identifier">rotate</span></a></a><span> </span><a name="local-6989586621679054679"><a href="#local-6989586621679054679"><span class="hs-identifier">x</span></a></a><span> </span><a name="local-6989586621679054680"><a href="#local-6989586621679054680"><span class="hs-identifier">i</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Bits.html#shift"><span class="hs-identifier hs-var">shift</span></a><span> </span><a href="#local-6989586621679054679"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="#local-6989586621679054680"><span class="hs-identifier hs-var">i</span></a><span>   </span><span class="hs-comment">-- since an Natural never wraps around</span><span>
</span><a name="line-562"></a><span>
</span><a name="line-563"></a><span>   </span><a name="local-8214565720323829534"><a href="Data.Bits.html#bitSizeMaybe"><span class="hs-identifier">bitSizeMaybe</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span>
</span><a name="line-564"></a><span>   </span><a name="local-8214565720323829535"><a href="Data.Bits.html#bitSize"><span class="hs-identifier">bitSize</span></a></a><span> </span><span class="hs-identifier">_</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Err.html#errorWithoutStackTrace"><span class="hs-identifier hs-var">errorWithoutStackTrace</span></a><span> </span><span class="hs-string">&quot;Data.Bits.bitSize(Natural)&quot;</span><span>
</span><a name="line-565"></a><span>   </span><a name="local-8214565720323829536"><a href="Data.Bits.html#isSigned"><span class="hs-identifier">isSigned</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a><span>
</span><a name="line-566"></a><span class="hs-cpp">#else
</span><span class="hs-comment">-- | @since 4.8.0.0</span><span>
</span><a name="line-568"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Bits</span><span> </span><span class="hs-identifier">Natural</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-569"></a><span>  </span><span class="hs-identifier">Natural</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-operator">.&amp;.</span><span> </span><span class="hs-identifier">Natural</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Natural</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">n</span><span> </span><span class="hs-operator">.&amp;.</span><span> </span><span class="hs-identifier">m</span><span class="hs-special">)</span><span>
</span><a name="line-570"></a><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">.&amp;.</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-571"></a><span>  </span><span class="hs-identifier">Natural</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-operator">.|.</span><span> </span><span class="hs-identifier">Natural</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Natural</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">n</span><span> </span><span class="hs-operator">.|.</span><span> </span><span class="hs-identifier">m</span><span class="hs-special">)</span><span>
</span><a name="line-572"></a><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">.|.</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-573"></a><span>  </span><span class="hs-identifier">xor</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Natural</span><span> </span><span class="hs-identifier">n</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Natural</span><span> </span><span class="hs-identifier">m</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Natural</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">xor</span><span> </span><span class="hs-identifier">n</span><span> </span><span class="hs-identifier">m</span><span class="hs-special">)</span><span>
</span><a name="line-574"></a><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">xor</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-575"></a><span>  </span><span class="hs-identifier">complement</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">errorWithoutStackTrace</span><span> </span><span class="hs-string">&quot;Bits.complement: Natural complement undefined&quot;</span><span>
</span><a name="line-576"></a><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">complement</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-577"></a><span>  </span><span class="hs-identifier">shift</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Natural</span><span> </span><span class="hs-identifier">n</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Natural</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">shift</span><span> </span><span class="hs-identifier">n</span><span>
</span><a name="line-578"></a><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">shift</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-579"></a><span>  </span><span class="hs-identifier">rotate</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Natural</span><span> </span><span class="hs-identifier">n</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Natural</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">rotate</span><span> </span><span class="hs-identifier">n</span><span>
</span><a name="line-580"></a><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">rotate</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-581"></a><span>  </span><span class="hs-identifier">bit</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Natural</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">bit</span><span>
</span><a name="line-582"></a><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">bit</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-583"></a><span>  </span><span class="hs-identifier">setBit</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Natural</span><span> </span><span class="hs-identifier">n</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Natural</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">setBit</span><span> </span><span class="hs-identifier">n</span><span>
</span><a name="line-584"></a><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">setBit</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-585"></a><span>  </span><span class="hs-identifier">clearBit</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Natural</span><span> </span><span class="hs-identifier">n</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Natural</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">clearBit</span><span> </span><span class="hs-identifier">n</span><span>
</span><a name="line-586"></a><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">clearBit</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-587"></a><span>  </span><span class="hs-identifier">complementBit</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Natural</span><span> </span><span class="hs-identifier">n</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Natural</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">complementBit</span><span> </span><span class="hs-identifier">n</span><span>
</span><a name="line-588"></a><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">complementBit</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-589"></a><span>  </span><span class="hs-identifier">testBit</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Natural</span><span> </span><span class="hs-identifier">n</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">testBit</span><span> </span><span class="hs-identifier">n</span><span>
</span><a name="line-590"></a><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">testBit</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-591"></a><span>  </span><span class="hs-identifier">bitSizeMaybe</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span>
</span><a name="line-592"></a><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">bitSizeMaybe</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-593"></a><span>  </span><span class="hs-identifier">bitSize</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">errorWithoutStackTrace</span><span> </span><span class="hs-string">&quot;Natural: bitSize&quot;</span><span>
</span><a name="line-594"></a><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">bitSize</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-595"></a><span>  </span><span class="hs-identifier">isSigned</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span>
</span><a name="line-596"></a><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">isSigned</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-597"></a><span>  </span><span class="hs-identifier">shiftL</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Natural</span><span> </span><span class="hs-identifier">n</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Natural</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">shiftL</span><span> </span><span class="hs-identifier">n</span><span>
</span><a name="line-598"></a><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">shiftL</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-599"></a><span>  </span><span class="hs-identifier">shiftR</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Natural</span><span> </span><span class="hs-identifier">n</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Natural</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">shiftR</span><span> </span><span class="hs-identifier">n</span><span>
</span><a name="line-600"></a><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">shiftR</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-601"></a><span>  </span><span class="hs-identifier">rotateL</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Natural</span><span> </span><span class="hs-identifier">n</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Natural</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">rotateL</span><span> </span><span class="hs-identifier">n</span><span>
</span><a name="line-602"></a><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">rotateL</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-603"></a><span>  </span><span class="hs-identifier">rotateR</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Natural</span><span> </span><span class="hs-identifier">n</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Natural</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">rotateR</span><span> </span><span class="hs-identifier">n</span><span>
</span><a name="line-604"></a><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">rotateR</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-605"></a><span>  </span><span class="hs-identifier">popCount</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Natural</span><span> </span><span class="hs-identifier">n</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">popCount</span><span> </span><span class="hs-identifier">n</span><span>
</span><a name="line-606"></a><span>  </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">popCount</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-607"></a><span>  </span><span class="hs-identifier">zeroBits</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Natural</span><span> </span><span class="hs-number">0</span><span>
</span><a name="line-608"></a><span>
</span><a name="line-609"></a><span class="hs-cpp">#endif
</span><span>
</span><a name="line-611"></a><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><a name="line-612"></a><span>
</span><a name="line-613"></a><span class="hs-comment">-- | Attempt to convert an 'Integral' type @a@ to an 'Integral' type @b@ using</span><span>
</span><a name="line-614"></a><span class="hs-comment">-- the size of the types as measured by 'Bits' methods.</span><span>
</span><a name="line-615"></a><span class="hs-comment">--</span><span>
</span><a name="line-616"></a><span class="hs-comment">-- A simpler version of this function is:</span><span>
</span><a name="line-617"></a><span class="hs-comment">--</span><span>
</span><a name="line-618"></a><span class="hs-comment">-- &gt; toIntegral :: (Integral a, Integral b) =&gt; a -&gt; Maybe b</span><span>
</span><a name="line-619"></a><span class="hs-comment">-- &gt; toIntegral x</span><span>
</span><a name="line-620"></a><span class="hs-comment">-- &gt;   | toInteger x == y = Just (fromInteger y)</span><span>
</span><a name="line-621"></a><span class="hs-comment">-- &gt;   | otherwise        = Nothing</span><span>
</span><a name="line-622"></a><span class="hs-comment">-- &gt;   where</span><span>
</span><a name="line-623"></a><span class="hs-comment">-- &gt;     y = toInteger x</span><span>
</span><a name="line-624"></a><span class="hs-comment">--</span><span>
</span><a name="line-625"></a><span class="hs-comment">-- This version requires going through 'Integer', which can be inefficient.</span><span>
</span><a name="line-626"></a><span class="hs-comment">-- However, @toIntegralSized@ is optimized to allow GHC to statically determine</span><span>
</span><a name="line-627"></a><span class="hs-comment">-- the relative type sizes (as measured by 'bitSizeMaybe' and 'isSigned') and</span><span>
</span><a name="line-628"></a><span class="hs-comment">-- avoid going through 'Integer' for many types. (The implementation uses</span><span>
</span><a name="line-629"></a><span class="hs-comment">-- 'fromIntegral', which is itself optimized with rules for @base@ types but may</span><span>
</span><a name="line-630"></a><span class="hs-comment">-- go through 'Integer' for some type pairs.)</span><span>
</span><a name="line-631"></a><span class="hs-comment">--</span><span>
</span><a name="line-632"></a><span class="hs-comment">-- @since 4.8.0.0</span><span>
</span><a name="line-633"></a><span>
</span><a name="line-634"></a><span class="hs-identifier">toIntegralSized</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="GHC.Real.html#Integral"><span class="hs-identifier hs-type">Integral</span></a><span> </span><a href="#local-6989586621679054750"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Real.html#Integral"><span class="hs-identifier hs-type">Integral</span></a><span> </span><a href="#local-6989586621679054751"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">,</span><span> </span><a href="Data.Bits.html#Bits"><span class="hs-identifier hs-type">Bits</span></a><span> </span><a href="#local-6989586621679054750"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><span> </span><a href="Data.Bits.html#Bits"><span class="hs-identifier hs-type">Bits</span></a><span> </span><a href="#local-6989586621679054751"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-6989586621679054750"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a><span> </span><a href="#local-6989586621679054751"><span class="hs-identifier hs-type">b</span></a><span>
</span><a name="line-635"></a><a name="toIntegralSized"><a href="Data.Bits.html#toIntegralSized"><span class="hs-identifier">toIntegralSized</span></a></a><span> </span><a name="local-6989586621679054762"><a href="#local-6989586621679054762"><span class="hs-identifier">x</span></a></a><span>                 </span><span class="hs-comment">-- See Note [toIntegralSized optimization]</span><span>
</span><a name="line-636"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="Data.Maybe.html#maybe"><span class="hs-identifier hs-var">maybe</span></a><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a><span> </span><span class="hs-special">(</span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html#%3C%3D"><span class="hs-operator hs-var">&lt;=</span></a><span> </span><a href="#local-6989586621679054762"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679054766"><span class="hs-identifier hs-var">yMinBound</span></a><span>
</span><a name="line-637"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Data.Maybe.html#maybe"><span class="hs-identifier hs-var">maybe</span></a><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054762"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html#%3C%3D"><span class="hs-operator hs-var">&lt;=</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679054767"><span class="hs-identifier hs-var">yMaxBound</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><a href="#local-6989586621679054763"><span class="hs-identifier hs-var">y</span></a><span>
</span><a name="line-638"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a><span>                   </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span>
</span><a name="line-639"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-640"></a><span>    </span><a name="local-6989586621679054763"><a href="#local-6989586621679054763"><span class="hs-identifier">y</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a><span> </span><a href="#local-6989586621679054762"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-641"></a><span>
</span><a name="line-642"></a><span>    </span><a name="local-6989586621679054764"><a href="#local-6989586621679054764"><span class="hs-identifier">xWidth</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Bits.html#bitSizeMaybe"><span class="hs-identifier hs-var">bitSizeMaybe</span></a><span> </span><a href="#local-6989586621679054762"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-643"></a><span>    </span><a name="local-6989586621679054765"><a href="#local-6989586621679054765"><span class="hs-identifier">yWidth</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Bits.html#bitSizeMaybe"><span class="hs-identifier hs-var">bitSizeMaybe</span></a><span> </span><a href="#local-6989586621679054763"><span class="hs-identifier hs-var">y</span></a><span>
</span><a name="line-644"></a><span>
</span><a name="line-645"></a><span>    </span><a name="local-6989586621679054766"><a href="#local-6989586621679054766"><span class="hs-identifier">yMinBound</span></a></a><span>
</span><a name="line-646"></a><span>      </span><span class="hs-glyph">|</span><span> </span><a href="Data.Bits.html#isBitSubType"><span class="hs-identifier hs-var">isBitSubType</span></a><span> </span><a href="#local-6989586621679054762"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="#local-6989586621679054763"><span class="hs-identifier hs-var">y</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span>
</span><a name="line-647"></a><span>      </span><span class="hs-glyph">|</span><span> </span><a href="Data.Bits.html#isSigned"><span class="hs-identifier hs-var">isSigned</span></a><span> </span><a href="#local-6989586621679054762"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">,</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html#not"><span class="hs-identifier hs-var">not</span></a><span> </span><span class="hs-special">(</span><a href="Data.Bits.html#isSigned"><span class="hs-identifier hs-var">isSigned</span></a><span> </span><a href="#local-6989586621679054763"><span class="hs-identifier hs-var">y</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><span class="hs-number">0</span><span>
</span><a name="line-648"></a><span>      </span><span class="hs-glyph">|</span><span> </span><a href="Data.Bits.html#isSigned"><span class="hs-identifier hs-var">isSigned</span></a><span> </span><a href="#local-6989586621679054762"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">,</span><span> </span><a href="Data.Bits.html#isSigned"><span class="hs-identifier hs-var">isSigned</span></a><span> </span><a href="#local-6989586621679054763"><span class="hs-identifier hs-var">y</span></a><span>
</span><a name="line-649"></a><span>      </span><span class="hs-special">,</span><span> </span><a href="GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><a name="local-6989586621679054768"><a href="#local-6989586621679054768"><span class="hs-identifier">yW</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679054765"><span class="hs-identifier hs-var">yWidth</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><span class="hs-special">(</span><a href="GHC.Num.html#negate"><span class="hs-identifier hs-var">negate</span></a><span> </span><a href="GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="Data.Bits.html#bit"><span class="hs-identifier hs-var">bit</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054768"><span class="hs-identifier hs-var">yW</span></a><span class="hs-glyph">-</span><span class="hs-number">1</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Assumes sub-type</span><span>
</span><a name="line-650"></a><span>      </span><span class="hs-glyph">|</span><span> </span><a href="GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span>
</span><a name="line-651"></a><span>
</span><a name="line-652"></a><span>    </span><a name="local-6989586621679054767"><a href="#local-6989586621679054767"><span class="hs-identifier">yMaxBound</span></a></a><span>
</span><a name="line-653"></a><span>      </span><span class="hs-glyph">|</span><span> </span><a href="Data.Bits.html#isBitSubType"><span class="hs-identifier hs-var">isBitSubType</span></a><span> </span><a href="#local-6989586621679054762"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="#local-6989586621679054763"><span class="hs-identifier hs-var">y</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span>
</span><a name="line-654"></a><span>      </span><span class="hs-glyph">|</span><span> </span><a href="Data.Bits.html#isSigned"><span class="hs-identifier hs-var">isSigned</span></a><span> </span><a href="#local-6989586621679054762"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">,</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html#not"><span class="hs-identifier hs-var">not</span></a><span> </span><span class="hs-special">(</span><a href="Data.Bits.html#isSigned"><span class="hs-identifier hs-var">isSigned</span></a><span> </span><a href="#local-6989586621679054763"><span class="hs-identifier hs-var">y</span></a><span class="hs-special">)</span><span>
</span><a name="line-655"></a><span>      </span><span class="hs-special">,</span><span> </span><a href="GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><a name="local-6989586621679054769"><a href="#local-6989586621679054769"><span class="hs-identifier">xW</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679054764"><span class="hs-identifier hs-var">xWidth</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><a name="local-6989586621679054770"><a href="#local-6989586621679054770"><span class="hs-identifier">yW</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679054765"><span class="hs-identifier hs-var">yWidth</span></a><span>
</span><a name="line-656"></a><span>      </span><span class="hs-special">,</span><span> </span><a href="#local-6989586621679054769"><span class="hs-identifier hs-var">xW</span></a><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html#%3C%3D"><span class="hs-operator hs-var">&lt;=</span></a><span> </span><a href="#local-6989586621679054770"><span class="hs-identifier hs-var">yW</span></a><a href="GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a><span class="hs-number">1</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span> </span><span class="hs-comment">-- Max bound beyond a's domain</span><span>
</span><a name="line-657"></a><span>      </span><span class="hs-glyph">|</span><span> </span><a href="GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><a name="local-6989586621679054771"><a href="#local-6989586621679054771"><span class="hs-identifier">yW</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679054765"><span class="hs-identifier hs-var">yWidth</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><a href="Data.Bits.html#isSigned"><span class="hs-identifier hs-var">isSigned</span></a><span> </span><a href="#local-6989586621679054763"><span class="hs-identifier hs-var">y</span></a><span>
</span><a name="line-658"></a><span>                            </span><span class="hs-keyword">then</span><span> </span><a href="GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><span class="hs-special">(</span><a href="Data.Bits.html#bit"><span class="hs-identifier hs-var">bit</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679054771"><span class="hs-identifier hs-var">yW</span></a><span class="hs-glyph">-</span><span class="hs-number">1</span><span class="hs-special">)</span><span class="hs-glyph">-</span><span class="hs-number">1</span><span class="hs-special">)</span><span>
</span><a name="line-659"></a><span>                            </span><span class="hs-keyword">else</span><span> </span><a href="GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><span class="hs-special">(</span><a href="Data.Bits.html#bit"><span class="hs-identifier hs-var">bit</span></a><span> </span><a href="#local-6989586621679054771"><span class="hs-identifier hs-var">yW</span></a><span class="hs-glyph">-</span><span class="hs-number">1</span><span class="hs-special">)</span><span>
</span><a name="line-660"></a><span>      </span><span class="hs-glyph">|</span><span> </span><a href="GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span>
</span><a name="line-661"></a><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="hs-pragma">toIntegralSized</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-662"></a><span>
</span><a name="line-663"></a><span class="hs-comment">-- | 'True' if the size of @a@ is @&lt;=@ the size of @b@, where size is measured</span><span>
</span><a name="line-664"></a><span class="hs-comment">-- by 'bitSizeMaybe' and 'isSigned'.</span><span>
</span><a name="line-665"></a><span class="hs-identifier">isBitSubType</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="Data.Bits.html#Bits"><span class="hs-identifier hs-type">Bits</span></a><span> </span><a href="#local-6989586621679054748"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><span> </span><a href="Data.Bits.html#Bits"><span class="hs-identifier hs-type">Bits</span></a><span> </span><a href="#local-6989586621679054749"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-6989586621679054748"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679054749"><span class="hs-identifier hs-type">b</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a><span>
</span><a name="line-666"></a><a name="isBitSubType"><a href="Data.Bits.html#isBitSubType"><span class="hs-identifier">isBitSubType</span></a></a><span> </span><a name="local-6989586621679054772"><a href="#local-6989586621679054772"><span class="hs-identifier">x</span></a></a><span> </span><a name="local-6989586621679054773"><a href="#local-6989586621679054773"><span class="hs-identifier">y</span></a></a><span>
</span><a name="line-667"></a><span>  </span><span class="hs-comment">-- Reflexive</span><span>
</span><a name="line-668"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621679054774"><span class="hs-identifier hs-var">xWidth</span></a><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a><span> </span><a href="#local-6989586621679054776"><span class="hs-identifier hs-var">yWidth</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679054775"><span class="hs-identifier hs-var">xSigned</span></a><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a><span> </span><a href="#local-6989586621679054777"><span class="hs-identifier hs-var">ySigned</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a><span>
</span><a name="line-669"></a><span>
</span><a name="line-670"></a><span>  </span><span class="hs-comment">-- Every integer is a subset of 'Integer'</span><span>
</span><a name="line-671"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621679054777"><span class="hs-identifier hs-var">ySigned</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a><span> </span><a href="#local-6989586621679054776"><span class="hs-identifier hs-var">yWidth</span></a><span>                  </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a><span>
</span><a name="line-672"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html#not"><span class="hs-identifier hs-var">not</span></a><span> </span><a href="#local-6989586621679054775"><span class="hs-identifier hs-var">xSigned</span></a><span class="hs-special">,</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html#not"><span class="hs-identifier hs-var">not</span></a><span> </span><a href="#local-6989586621679054777"><span class="hs-identifier hs-var">ySigned</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a><span> </span><a href="#local-6989586621679054776"><span class="hs-identifier hs-var">yWidth</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a><span>
</span><a name="line-673"></a><span>
</span><a name="line-674"></a><span>  </span><span class="hs-comment">-- Sub-type relations between fixed-with types</span><span>
</span><a name="line-675"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621679054775"><span class="hs-identifier hs-var">xSigned</span></a><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a><span> </span><a href="#local-6989586621679054777"><span class="hs-identifier hs-var">ySigned</span></a><span class="hs-special">,</span><span>   </span><a href="GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><a name="local-6989586621679054778"><a href="#local-6989586621679054778"><span class="hs-identifier">xW</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679054774"><span class="hs-identifier hs-var">xWidth</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><a name="local-6989586621679054779"><a href="#local-6989586621679054779"><span class="hs-identifier">yW</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679054776"><span class="hs-identifier hs-var">yWidth</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679054778"><span class="hs-identifier hs-var">xW</span></a><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html#%3C%3D"><span class="hs-operator hs-var">&lt;=</span></a><span> </span><a href="#local-6989586621679054779"><span class="hs-identifier hs-var">yW</span></a><span>
</span><a name="line-676"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html#not"><span class="hs-identifier hs-var">not</span></a><span> </span><a href="#local-6989586621679054775"><span class="hs-identifier hs-var">xSigned</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679054777"><span class="hs-identifier hs-var">ySigned</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><a name="local-6989586621679054780"><a href="#local-6989586621679054780"><span class="hs-identifier">xW</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679054774"><span class="hs-identifier hs-var">xWidth</span></a><span class="hs-special">,</span><span> </span><a href="GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><a name="local-6989586621679054781"><a href="#local-6989586621679054781"><span class="hs-identifier">yW</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679054776"><span class="hs-identifier hs-var">yWidth</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679054780"><span class="hs-identifier hs-var">xW</span></a><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Classes.html#%3C"><span class="hs-operator hs-var">&lt;</span></a><span>  </span><a href="#local-6989586621679054781"><span class="hs-identifier hs-var">yW</span></a><span>
</span><a name="line-677"></a><span>
</span><a name="line-678"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="../ghc-prim/src/%{MODULE}.html#%{NAME}/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a><span>
</span><a name="line-679"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-680"></a><span>    </span><a name="local-6989586621679054774"><a href="#local-6989586621679054774"><span class="hs-identifier">xWidth</span></a></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Data.Bits.html#bitSizeMaybe"><span class="hs-identifier hs-var">bitSizeMaybe</span></a><span> </span><a href="#local-6989586621679054772"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-681"></a><span>    </span><a name="local-6989586621679054775"><a href="#local-6989586621679054775"><span class="hs-identifier">xSigned</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Bits.html#isSigned"><span class="hs-identifier hs-var">isSigned</span></a><span>     </span><a href="#local-6989586621679054772"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-682"></a><span>
</span><a name="line-683"></a><span>    </span><a name="local-6989586621679054776"><a href="#local-6989586621679054776"><span class="hs-identifier">yWidth</span></a></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Data.Bits.html#bitSizeMaybe"><span class="hs-identifier hs-var">bitSizeMaybe</span></a><span> </span><a href="#local-6989586621679054773"><span class="hs-identifier hs-var">y</span></a><span>
</span><a name="line-684"></a><span>    </span><a name="local-6989586621679054777"><a href="#local-6989586621679054777"><span class="hs-identifier">ySigned</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Data.Bits.html#isSigned"><span class="hs-identifier hs-var">isSigned</span></a><span>     </span><a href="#local-6989586621679054773"><span class="hs-identifier hs-var">y</span></a><span>
</span><a name="line-685"></a><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">isBitSubType</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><a name="line-686"></a><span>
</span><a name="line-687"></a><span class="hs-comment">{-      Note [Constant folding for rotate]
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
The INLINE on the Int instance of rotate enables it to be constant
folded.  For example:
     sumU . mapU (`rotate` 3) . replicateU 10000000 $ (7 :: Int)
goes to:
   Main.$wfold =
     \ (ww_sO7 :: Int#) (ww1_sOb :: Int#) -&gt;
       case ww1_sOb of wild_XM {
         __DEFAULT -&gt; Main.$wfold (+# ww_sO7 56) (+# wild_XM 1);
         10000000 -&gt; ww_sO7
whereas before it was left as a call to $wrotate.

All other Bits instances seem to inline well enough on their
own to enable constant folding; for example 'shift':
     sumU . mapU (`shift` 3) . replicateU 10000000 $ (7 :: Int)
 goes to:
     Main.$wfold =
       \ (ww_sOb :: Int#) (ww1_sOf :: Int#) -&gt;
         case ww1_sOf of wild_XM {
           __DEFAULT -&gt; Main.$wfold (+# ww_sOb 56) (+# wild_XM 1);
           10000000 -&gt; ww_sOb
         }
-}</span><span>
</span><a name="line-711"></a><span>
</span><a name="line-712"></a><span class="hs-comment">-- Note [toIntegralSized optimization]</span><span>
</span><a name="line-713"></a><span class="hs-comment">-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span><span>
</span><a name="line-714"></a><span class="hs-comment">-- The code in 'toIntegralSized' relies on GHC optimizing away statically</span><span>
</span><a name="line-715"></a><span class="hs-comment">-- decidable branches.</span><span>
</span><a name="line-716"></a><span class="hs-comment">--</span><span>
</span><a name="line-717"></a><span class="hs-comment">-- If both integral types are statically known, GHC will be able optimize the</span><span>
</span><a name="line-718"></a><span class="hs-comment">-- code significantly (for @-O1@ and better).</span><span>
</span><a name="line-719"></a><span class="hs-comment">--</span><span>
</span><a name="line-720"></a><span class="hs-comment">-- For instance (as of GHC 7.8.1) the following definitions:</span><span>
</span><a name="line-721"></a><span class="hs-comment">--</span><span>
</span><a name="line-722"></a><span class="hs-comment">-- &gt; w16_to_i32 = toIntegralSized :: Word16 -&gt; Maybe Int32</span><span>
</span><a name="line-723"></a><span class="hs-comment">-- &gt;</span><span>
</span><a name="line-724"></a><span class="hs-comment">-- &gt; i16_to_w16 = toIntegralSized :: Int16 -&gt; Maybe Word16</span><span>
</span><a name="line-725"></a><span class="hs-comment">--</span><span>
</span><a name="line-726"></a><span class="hs-comment">-- are translated into the following (simplified) /GHC Core/ language:</span><span>
</span><a name="line-727"></a><span class="hs-comment">--</span><span>
</span><a name="line-728"></a><span class="hs-comment">-- &gt; w16_to_i32 = \x -&gt; Just (case x of _ { W16# x# -&gt; I32# (word2Int# x#) })</span><span>
</span><a name="line-729"></a><span class="hs-comment">-- &gt;</span><span>
</span><a name="line-730"></a><span class="hs-comment">-- &gt; i16_to_w16 = \x -&gt; case eta of _</span><span>
</span><a name="line-731"></a><span class="hs-comment">-- &gt;   { I16# b1 -&gt; case tagToEnum# (&lt;=# 0 b1) of _</span><span>
</span><a name="line-732"></a><span class="hs-comment">-- &gt;       { False -&gt; Nothing</span><span>
</span><a name="line-733"></a><span class="hs-comment">-- &gt;       ; True -&gt; Just (W16# (narrow16Word# (int2Word# b1)))</span><span>
</span><a name="line-734"></a><span class="hs-comment">-- &gt;       }</span><span>
</span><a name="line-735"></a><span class="hs-comment">-- &gt;   }</span><span>
</span><a name="line-736"></a></pre></body></html>